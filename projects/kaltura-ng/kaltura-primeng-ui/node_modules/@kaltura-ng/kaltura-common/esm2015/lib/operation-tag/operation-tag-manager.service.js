import { __decorate, __metadata } from "tslib";
import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs/BehaviorSubject';
let OperationTagManagerService = class OperationTagManagerService {
    constructor() {
        this._tagStatus = new BehaviorSubject({});
        // whenever a tag status changes this event is emitted
        this.tagStatus$ = this._tagStatus.asObservable();
    }
    // increase the count for a tag
    increase(tag) {
        const tagsData = this._tagStatus.getValue();
        if (!tagsData[tag]) {
            tagsData[tag] = 0;
        }
        tagsData[tag]++;
        this._tagStatus.next(tagsData);
    }
    decrease(tag) {
        const tagsData = this._tagStatus.getValue();
        if (tagsData[tag] > 0) {
            tagsData[tag]--;
            this._tagStatus.next(tagsData);
        }
        else {
            tagsData[tag] = 0;
            this._tagStatus.next(tagsData);
        }
    }
};
OperationTagManagerService = __decorate([
    Injectable(),
    __metadata("design:paramtypes", [])
], OperationTagManagerService);
export { OperationTagManagerService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0aW9uLXRhZy1tYW5hZ2VyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Aa2FsdHVyYS1uZy9rYWx0dXJhLWNvbW1vbi8iLCJzb3VyY2VzIjpbImxpYi9vcGVyYXRpb24tdGFnL29wZXJhdGlvbi10YWctbWFuYWdlci5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUMsVUFBVSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQ3BELE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQztBQUtyRCxJQUFhLDBCQUEwQixHQUF2QyxNQUFhLDBCQUEwQjtJQU9uQztRQUxRLGVBQVUsR0FBRyxJQUFJLGVBQWUsQ0FBNEIsRUFBRSxDQUFDLENBQUM7UUFFeEUsc0RBQXNEO1FBQy9DLGVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBR25ELENBQUM7SUFFRCwrQkFBK0I7SUFDL0IsUUFBUSxDQUFDLEdBQVc7UUFDaEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2hCLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDckI7UUFDRCxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUVuQyxDQUFDO0lBRUQsUUFBUSxDQUFDLEdBQVc7UUFDaEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM1QyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDbkIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDbEM7YUFBTTtZQUNILFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FFbEM7SUFDTCxDQUFDO0NBQ0osQ0FBQTtBQWhDWSwwQkFBMEI7SUFEdEMsVUFBVSxFQUFFOztHQUNBLDBCQUEwQixDQWdDdEM7U0FoQ1ksMEJBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbmplY3RhYmxlLCBPbkRlc3Ryb3l9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtCZWhhdmlvclN1YmplY3R9IGZyb20gJ3J4anMvQmVoYXZpb3JTdWJqZWN0JztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCB7T3BlcmF0aW9uVGFnTWFuYWdlclByb3h5fSBmcm9tICcuL29wZXJhdGlvbi10YWctc3RvcmUtbWVkaWF0b3InO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uVGFnTWFuYWdlclNlcnZpY2UgaW1wbGVtZW50cyBPcGVyYXRpb25UYWdNYW5hZ2VyUHJveHkge1xuXG4gICAgcHJpdmF0ZSBfdGFnU3RhdHVzID0gbmV3IEJlaGF2aW9yU3ViamVjdDx7IFtrZXk6IHN0cmluZ106IG51bWJlciB9Pih7fSk7XG5cbiAgICAvLyB3aGVuZXZlciBhIHRhZyBzdGF0dXMgY2hhbmdlcyB0aGlzIGV2ZW50IGlzIGVtaXR0ZWRcbiAgICBwdWJsaWMgdGFnU3RhdHVzJCA9IHRoaXMuX3RhZ1N0YXR1cy5hc09ic2VydmFibGUoKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIC8vIGluY3JlYXNlIHRoZSBjb3VudCBmb3IgYSB0YWdcbiAgICBpbmNyZWFzZSh0YWc6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCB0YWdzRGF0YSA9IHRoaXMuX3RhZ1N0YXR1cy5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoIXRhZ3NEYXRhW3RhZ10pIHtcbiAgICAgICAgICAgIHRhZ3NEYXRhW3RhZ10gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRhZ3NEYXRhW3RhZ10rKztcbiAgICAgICAgdGhpcy5fdGFnU3RhdHVzLm5leHQodGFnc0RhdGEpO1xuXG4gICAgfVxuXG4gICAgZGVjcmVhc2UodGFnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFnc0RhdGEgPSB0aGlzLl90YWdTdGF0dXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHRhZ3NEYXRhW3RhZ10gPiAwKSB7XG4gICAgICAgICAgICB0YWdzRGF0YVt0YWddLS07XG4gICAgICAgICAgICB0aGlzLl90YWdTdGF0dXMubmV4dCh0YWdzRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWdzRGF0YVt0YWddID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3RhZ1N0YXR1cy5uZXh0KHRhZ3NEYXRhKTtcblxuICAgICAgICB9XG4gICAgfVxufVxuIl19
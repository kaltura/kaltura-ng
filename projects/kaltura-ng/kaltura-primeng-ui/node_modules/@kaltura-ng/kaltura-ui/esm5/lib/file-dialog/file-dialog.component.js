import { __decorate, __metadata } from "tslib";
import { Output, EventEmitter, Component, ElementRef, Input, OnInit, HostListener } from '@angular/core';
var FileDialogComponent = /** @class */ (function () {
    function FileDialogComponent(elementRef) {
        this.elementRef = elementRef;
        this.filter = "";
        this.allowMultiple = false;
        this.onFileSelected = new EventEmitter();
    }
    FileDialogComponent.prototype.open = function (event) {
        if (event) {
            event.stopPropagation();
            event.preventDefault();
        }
        this.elementRef.nativeElement.firstElementChild.value = "";
        this.elementRef.nativeElement.firstElementChild.click();
    };
    FileDialogComponent.prototype._fileInputChange = function (event) {
        if (event.currentTarget.files && event.currentTarget.files.length) {
            this.onFileSelected.emit(event.currentTarget.files);
        }
    };
    FileDialogComponent.prototype.ngOnInit = function () {
    };
    FileDialogComponent.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], FileDialogComponent.prototype, "filter", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Boolean)
    ], FileDialogComponent.prototype, "allowMultiple", void 0);
    __decorate([
        Output(),
        __metadata("design:type", Object)
    ], FileDialogComponent.prototype, "onFileSelected", void 0);
    FileDialogComponent = __decorate([
        Component({
            selector: 'kFileDialog',
            template: "<input tabindex=\"-1\" [attr.multiple]=\"allowMultiple ? true : null\" type=\"file\" accept=\"{{filter}}\" (change)=\"_fileInputChange($event)\"/>\n",
            styles: ["input{position:fixed;left:-1000px;top:-1000px}"]
        }),
        __metadata("design:paramtypes", [ElementRef])
    ], FileDialogComponent);
    return FileDialogComponent;
}());
export { FileDialogComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGthbHR1cmEtbmcva2FsdHVyYS11aS8iLCJzb3VyY2VzIjpbImxpYi9maWxlLWRpYWxvZy9maWxlLWRpYWxvZy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFPekc7SUFPQyw2QkFBb0IsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUxqQyxXQUFNLEdBQVcsRUFBRSxDQUFDO1FBQ3BCLGtCQUFhLEdBQVksS0FBSyxDQUFDO1FBRTlCLG1CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQVUsQ0FBQztJQUl0RCxDQUFDO0lBRU0sa0NBQUksR0FBWCxVQUFZLEtBQWM7UUFFekIsSUFBSSxLQUFLLEVBQ1Q7WUFDQyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3ZCO1FBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUMzRCxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN6RCxDQUFDO0lBRU0sOENBQWdCLEdBQXZCLFVBQXdCLEtBQUs7UUFDNUIsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQ2pFO1lBQ0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwRDtJQUNGLENBQUM7SUFFRCxzQ0FBUSxHQUFSO0lBRUEsQ0FBQzs7Z0JBeEIrQixVQUFVOztJQUxqQztRQUFSLEtBQUssRUFBRTs7dURBQXFCO0lBQ3BCO1FBQVIsS0FBSyxFQUFFOzs4REFBZ0M7SUFFOUI7UUFBVCxNQUFNLEVBQUU7OytEQUE2QztJQUwxQyxtQkFBbUI7UUFML0IsU0FBUyxDQUFDO1lBQ1YsUUFBUSxFQUFFLGFBQWE7WUFDdkIsZ0tBQTJDOztTQUUzQyxDQUFDO3lDQVErQixVQUFVO09BUDlCLG1CQUFtQixDQWdDL0I7SUFBRCwwQkFBQztDQUFBLEFBaENELElBZ0NDO1NBaENZLG1CQUFtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIEhvc3RMaXN0ZW5lciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICdrRmlsZURpYWxvZycsXG5cdHRlbXBsYXRlVXJsOiAnLi9maWxlLWRpYWxvZy5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogWycuL2ZpbGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgRmlsZURpYWxvZ0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cblx0QElucHV0KCkgZmlsdGVyOiBzdHJpbmcgPSBcIlwiO1xuXHRASW5wdXQoKSBhbGxvd011bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG5cblx0QE91dHB1dCgpIG9uRmlsZVNlbGVjdGVkID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlW10+KCk7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG5cblx0fVxuXG5cdHB1YmxpYyBvcGVuKGV2ZW50PyA6IEV2ZW50KSB7XG5cblx0XHRpZiAoZXZlbnQpXG5cdFx0e1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0XHR0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC52YWx1ZSA9IFwiXCI7XG5cdFx0dGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpY2soKTtcblx0fVxuXG5cdHB1YmxpYyBfZmlsZUlucHV0Q2hhbmdlKGV2ZW50KXtcblx0XHRpZiAoZXZlbnQuY3VycmVudFRhcmdldC5maWxlcyAmJiBldmVudC5jdXJyZW50VGFyZ2V0LmZpbGVzLmxlbmd0aClcblx0XHR7XG5cdFx0XHR0aGlzLm9uRmlsZVNlbGVjdGVkLmVtaXQoZXZlbnQuY3VycmVudFRhcmdldC5maWxlcyk7XG5cdFx0fVxuXHR9XG5cblx0bmdPbkluaXQoKSB7XG5cblx0fVxufVxuXG4iXX0=
{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@kaltura-ng/kaltura-ui/lib/widgets/widgets-manager-base.ts","ng://@kaltura-ng/kaltura-ui/lib/area-blocker/area-blocker-message.ts","ng://@kaltura-ng/kaltura-ui/lib/area-blocker/area-blocker.component.ts","ng://@kaltura-ng/kaltura-ui/lib/area-blocker/area-blocker.module.ts","ng://@kaltura-ng/kaltura-ui/lib/details-bar/detail-info.component.ts","ng://@kaltura-ng/kaltura-ui/lib/details-bar/details-bar.component.ts","ng://@kaltura-ng/kaltura-ui/lib/tooltip/k-tooltip.directive.ts","ng://@kaltura-ng/kaltura-ui/lib/tooltip/k-tooltip.module.ts","ng://@kaltura-ng/kaltura-ui/lib/details-bar/details-bar.module.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form-control-base.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/dynamic-section-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form.service.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form-item.component.ts","ng://@kaltura-ng/kaltura-ui/lib/popup-widget/popup-widget-layout.ts","ng://@kaltura-ng/kaltura-ui/lib/popup-widget/popup-widget.component.ts","ng://@kaltura-ng/kaltura-ui/lib/popup-widget/popup-widget.module.ts","ng://@kaltura-ng/kaltura-ui/lib/input-helper/input-helper.component.ts","ng://@kaltura-ng/kaltura-ui/lib/input-helper/input-helper.module.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form.module.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/list-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/datepicker-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/text-area-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/textbox-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/dynamic-dropdown-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/switch-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/number-control.ts","ng://@kaltura-ng/kaltura-ui/lib/player/player.component.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/services/sticky-scroll.service.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/directives/sticky.directive.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/components/sticky.component.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/sticky.module.ts","ng://@kaltura-ng/kaltura-ui/lib/tags/tag.component.ts","ng://@kaltura-ng/kaltura-ui/lib/tags/tags.component.ts","ng://@kaltura-ng/kaltura-ui/lib/tags/tags.module.ts","ng://@kaltura-ng/kaltura-ui/lib/validators/validators.ts","ng://@kaltura-ng/kaltura-ui/lib/kaltura-browser-utils.ts","ng://@kaltura-ng/kaltura-ui/lib/widgets/widget-base.ts","ng://@kaltura-ng/kaltura-ui/lib/file-dialog/file-dialog.component.ts","ng://@kaltura-ng/kaltura-ui/lib/date.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/file-size.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/input-autofocus.ts","ng://@kaltura-ng/kaltura-ui/lib/safe.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/time.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/line-break.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/scroll-to-top-container.component.ts","ng://@kaltura-ng/kaltura-ui/lib/kaltura-ui.module.ts","ng://@kaltura-ng/kaltura-ui/lib/input-range/input-range.component.ts","ng://@kaltura-ng/kaltura-ui/lib/input-range/input-range.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","n","m","Symbol","iterator","e","call","ar","next","done","push","value","error","OnDataSavingReasons","content","title","message","buttons","AreaBlockerComponent","_renderer","bodyScroll","spinnerMarginTop","_showLoader","_this","_showLoaderHandler","setTimeout","areaBlockerContainer","rect","nativeElement","getBoundingClientRect","width","document","body","clientWidth","spinnerContainer","setStyle","left","clearTimeout","_message","label","action","AreaBlockerMessage","handleAction","button","ngOnInit","Renderer2","ViewChild","static","ElementRef","Input","Component","selector","template","encapsulation","ViewEncapsulation","None","AreaBlockerModule","NgModule","imports","CommonModule","declarations","exports","providers","DetailInfoComponent","toolTipAsHTML","separator","maxItemWidth","isLastItem","itemClick","EventEmitter","isClickable","_setData","data","_data","observers","onClick","$event","emit","Output","DetailsBarComponent","basicDetailsLabel","moreDetailsLabel","_shouldUpdateItems","_showMore","_showBasic","lineScroll","disableScroll","dataObj","reset","onWindowResize","ngAfterViewChecked","items","forEach","item","ngAfterContentInit","updateLayout","_itemsChangesSubscription","changes","subscribe","_updateItems","showMoreCheckIntervalID","clearInterval","last","marginTop","parseInt","window","getComputedStyle","dataWrapper","top","children","clientHeight","dataPanel","height","Math","abs","topArr","top_1","index","show","direction","style","ngOnDestroy","unsubscribe","ContentChildren","QueryList","HostListener","KTooltipDirective","elementRef","_tooltipElement","_tooltipContent","_shouldBeVisible","_tooltipHeight","_tooltipWidth","tooltipResolver","escape","tooltipOffset","placement","delay","maxWidth","followTarget","showOnEllipsis","isValidContent","_updateTooltipElement","_isShowingTooltip","_updateTooltipElementContent","_updateTooltipElementPosition","createElement","pointerEvents","className","addTooltipVisibleClass","appendChild","_removeTooltipElement","onMouseMove","onMouseEnter","isInEllipsis","onMouseLeave","offsetWidth","scrollWidth","parentNode","removeChild","innerHTML","textContent","elemPosition","elemHeight","offsetHeight","elemWidth","Directive","TooltipModule","DetailsBarModule","options","defaultValue","allowMultiple","order","undefined","description","validators","validateOn","errors","inputHelperConfig","styleClass","dateFormat","DynamicSectionControl","_super","DynamicFormControlBase","DynamicFormService","_formBuilder","toFormGroup","dynamicControls","config","result","formControl","ignoreMultiple","formArray_1","array","formValue","arrayItems","arrayItem","FormControl","updateOn","FormGroup","group","FormBuilder","Injectable","DynamicFormItem","_dynamicFormService","asDynamicSection","control","asFormGroup","isRequired","find","validator","Validators","required","initItem","dynamicControl","addItem","form","controls","markAsDirty","removeItem","removeAt","TemplateRef","descendants","PopupWidgetLayout","getPopupZindex","isFullScreen","popupWidgetInitialZindex","increaseModalCount","modalsCount","classList","add","decreaseModalCount","remove","PopupWidgetStates","Open","BeforeClose","Close","Disabled","PopupWidgetComponent","popup","renderer","transparent","popupHeight","showTooltip","preventPageScroll","modal","slider","fullScreen","closeBtn","closeBtnInside","closeOnClickOutside","closeOnResize","closeOnBrowserNav","targetOffset","x","y","childrenPopups","trigger","closeOnScroll","opened","closed","_toggleFunc","toggle","bind","_openFunc","open","_closeFunc","close","_viewInitialize","onOpen","onClose","_stateChangeSubscription","_statechange","BehaviorSubject","state","state$","asObservable","pipe","cancelOnDestroy","_a","_targetRef","targetRef","removeEventListener","addEventListener","_parentPopup","parentPopup","event","isEnabled","validate","_popupWidgetHeight","_saveScrollPosition","pageYOffset","documentElement","scrollTop","parentLeft","appendTo","parentTop","marginLeft","position","addClass","innerWidth","popupWidth","scrollTo","bottom","innerHeight","zIndex","_modalOverlay","stopPropagation","overflowY","addClickOutsideSupport","isShow","opacity","setPosition","context","reason","removeClass","beforeCloseContext","allowClose","removeClickOutsideSupport","restorePageScroll","timeout","getValue","onPopState","ngAfterViewInit","console","warn","complete","blockMouseDownHandler","restoreScrollPosition","valid","element","isElement","obj","HTMLElement","nodeType","nodeName","modalMarginTop","round","popupMarginTop","popupMarginLeft","targetRefBox","popupLeftMargins","popupTopMargins","center","right","validatePosition","popupBox","ContentChild","HostBinding","PopupWidgetModule","InputHelperComponent","triggerIcon","icon","InputHelperModule","DynamicFormModule","ReactiveFormsModule","ListControl","values","DatePickerControl","showTime","TextAreaControl","TextboxControl","DynamicDropdownControl","SwitchControl","NumberControl","KalturaPlayerComponent","cdnUrl","flashvars","lazy","id","kalturaPlayerReady","Embed","pid","uiconfid","entryid","getElementById","s","src","async","head","kdp","doEmbed","intervalID_1","setInterval","embed","targetId","wid","uiconf_id","cache_st","random","entry_id","readyCallback","playerID","destroy","StickyScrollService","_scrollSubject","Subject","scrollStatus$","_resizeSubject","resizeStatus$","_layoutSubject","layoutSubject$","stickyElements","manageScrollFunc","manageScrollEvent","manageResizeFunc","manageResizeEvent","attach","Error","detach","update","offset","currentValue","StickyDirective","_stickyScrollService","lastScroll","isSticky","_destroyed","onStickyEvent","onUnStickyEvent","scrollOffset","stickyId","sticksTo","elementSelector","_parentTop","_parentOffset","_stickyTop","_stickyOffset","_getStickyElement","_stickyElement","_render","onResize","elements","stickyOffset","elementHeight_1","scroll_1","setSticky","unsetSticky","originalCss","clientTop","clientLeft","setClass","_onSticky","_onUnsetSticky","stickyClass","StickyComponent","wrapperHeight","_updateLayout","_updateDimensions","manual","_sticky","stickyDiv","StickyModule","forRoot","ngModule","StickyModule_1","KalturaCommonModule","TagComponent","showRemove","onRemoved","removeTag","tag","$","$NS","TagsComponent","disabled","removableTags","showClear","clearAllLabel","onTagRemove","onRemoveAll","onTagsChange","_scrollLeftEnabled","_scrollRightEnabled","checkShowMore","ngOnChanges","disabledField","isArray","sort","a","Number","tagsListObserver","tagsList","comps","tagsCount","clearAll","scroller","scroll","scrollPageWidth","totalScroll","targetScrollLeft","scrollLeft","animate","ViewChildren","TagsModule","urlRegex","RegExp","urlHttpRegex","ipRegex","KalturaValidators","ip","test","url","urlHttp","isUrlValid","BrowserNames","WidgetsManagerBase","logger","_widgets","_widgetsState","_isNewData","widgetsState$","_logger","subLogger","EmptyLogger","_updateWidgetState","newWidgetState","currentWidgetsState","info","registerWidgets","widgets","widget","registeredWidget","_setForm","notifyDataLoading","dataId","filter","isActive","_reset","_handleDataLoading","notifyDataLoaded","settings","isNewData","_handleDataLoaded","activate","_widgetsOnDataSaving","newData","request","originalData","_handleDataSaving","err","notifyDataSaving","isAttachedWidgetBusy","isAttached","isBusy","Observable","of","ready","attachedWidgetBusy","flatMap","response","_validateWidgets","catch","caught","isValid","map","validationErrors","saveContent","buildRequestFailure","widgetsResults","_validate","forkJoin","apply","concat","__spread","responses","destory","WidgetBase","_key","_activateSubscription","_dataSource","ReplaySubject","data$","_widgetState","isDirty","wasActivated","_widgetReset","widgetReset$","onDataSaving","onValidate","updateState","stateUpdate","_updateState","_verifyRegistered","keys","reduce","propertyName","assign","onDataLoaded","onDataLoading","onActivate","firstTimeActivating","manager","do","onReset","previousStatus_1","activate$","failed","JSON","stringify","attachForm","detachForm","FileDialogComponent","onFileSelected","preventDefault","firstElementChild","click","_fileInputChange","currentTarget","files","moment","momentNS","DatePipe","transform","date","format","Pipe","name","FileSizePipe","units","bytes","precision","isNaN","parseFloat","String","isFinite","unit","toFixed","AutofocusDirective","el","_autofocus","selectRootElement","focus","allowed","KalturaBrowserUtils","detectBrowser","IE11","other","SafePipe","sanitizer","bypassSecurityTrustResourceUrl","DomSanitizer","TimePipe","hours","floor","minutes","seconds","toString","LineBreakPipe","str","split","join","ScrollToTopContainerComponent","_el","scrollToTop","KalturaUIModule","InputRangeComponent","pointOvered","onChange","onTouched","selectedOptionIndex","findIndex","option","isSelected","selectedText","getProgressBarStyle","pointSelected","writeValue","valueOptionIndex","registerOnChange","fn","registerOnTouched","InputRangeComponent_1","provide","NG_VALUE_ACCESSOR","useExisting","multi","InputRangeModule"],"mappings":";;;;;;;;;;;;;;oFAgBA,IAAIA,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAGrB,SAASO,EAAUR,EAAGC,GAEzB,SAASQ,IAAOC,KAAKC,YAAcX,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEY,UAAkB,OAANX,EAAaC,OAAOW,OAAOZ,IAAMQ,EAAGG,UAAYX,EAAEW,UAAW,IAAIH,GA0B5E,SAASK,EAAWC,EAAYC,EAAQC,EAAKC,GAChD,IAA2HlB,EAAvHmB,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOhB,OAAOqB,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAAS1B,EAAIe,EAAWW,MAAIJ,GAAKH,EAAI,EAAInB,EAAEsB,GAAKH,EAAI,EAAInB,EAAEgB,EAAQC,EAAKK,GAAKtB,EAAEgB,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAKpB,OAAOyB,eAAeX,EAAQC,EAAKK,GAAIA,EAOzD,SAASM,EAAWC,EAAaC,GACpC,GAAuB,iBAAZN,SAAoD,mBAArBA,QAAQO,SAAyB,OAAOP,QAAQO,SAASF,EAAaC,GAuD7G,SAASE,EAAOC,EAAGC,GACtB,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBX,EAAYgB,EAA3BZ,EAAIS,EAAEI,KAAKN,GAAOO,EAAK,GAC3B,IACI,WAAc,IAANN,GAAgBA,KAAM,MAAQZ,EAAII,EAAEe,QAAQC,MAAMF,EAAGG,KAAKrB,EAAEsB,OAExE,MAAOC,GAASP,EAAI,CAAEO,MAAOA,GACjC,QACQ,IACQvB,IAAMA,EAAEoB,OAASP,EAAIT,EAAU,SAAIS,EAAEI,KAAKb,GAE1D,QAAkB,GAAIY,EAAG,MAAMA,EAAEO,OAE7B,OAAOL,MCpHCM,ICJR,SAAYC,GAERrC,KAAKsC,MAAQD,EAAQC,OAAS,QAC9BtC,KAAKuC,QAAUF,EAAQE,QACvBvC,KAAKwC,QAAUH,EAAQG,sBCiD7B,SAAAC,EAAoBC,GAAA1C,KAAA0C,UAAAA,EAhDX1C,KAAA2C,YAAuB,EACvB3C,KAAA4C,iBAA4B,EA4DvC,OAzDWpD,OAAAyB,eAAIwB,EAAAvC,UAAA,aAAU,KAyBvB,WACE,OAAOF,KAAK6C,iBA1BL,SAAeX,GAAxB,IAAAY,EAAA9C,KAEQkC,EACAlC,KAAK+C,mBAAqBC,YAAW,WAEjC,GADAF,EAAKC,mBAAqB,KACtBD,EAAKH,YAAgBG,EAAKG,qBAAsB,CAChD,IAAMC,EAAOJ,EAAKG,qBAAqBE,cAAcC,wBACjDF,EAAKG,MAAQC,SAASC,KAAKC,aAAeV,EAAKW,kBAC/CX,EAAKJ,UAAUgB,SAASZ,EAAKW,iBAAiBN,cAAe,OAAWD,EAAKS,KAAOT,EAAKG,MAAQ,EAAC,MAG1GP,EAAKJ,UAAUgB,SAASZ,EAAKW,iBAAiBN,cAAe,UAAW,OACzE,IAECnD,KAAK+C,qBACLa,aAAa5D,KAAK+C,oBAClB/C,KAAK+C,mBAAqB,MAE1B/C,KAAK2C,YAAc3C,KAAKyD,kBACxBzD,KAAK0C,UAAUgB,SAAS1D,KAAKyD,iBAAiBN,cAAe,UAAW,MAGhFnD,KAAK6C,YAAcX,mCAQvB1C,OAAAyB,eAAIwB,EAAAvC,UAAA,UAAO,KAAX,SAAYgC,GADZ,IAAAY,EAAA9C,KAKIA,KAAK6D,SAFc,iBAAV3B,EAEO,CAAEI,MAAQ,QAASC,QAAUL,EAAOM,QAAU,CAAC,CAAEsB,MAAO,UAAWC,OAAS,WAAQjB,EAAKe,SAAW,SAC5G3B,aAAiB8B,EAET9B,EAGA,sCAMbO,EAAAvC,UAAA+D,aAAP,SAAoBC,GACdA,GACFA,EAAOH,UAIXtB,EAAAvC,UAAAiE,SAAA,sDAR+BC,EAAAA,aAnDuBhE,EAAA,CAArDiE,EAAAA,UAAU,uBAAwB,CAAEC,QAAQ,oBAA+BC,EAAAA,wDAC1BnE,EAAA,CAAjDiE,EAAAA,UAAU,mBAAoB,CAAEC,QAAQ,oBAA2BC,EAAAA,oDAE3DnE,EAAA,CAARoE,EAAAA,mEACQpE,EAAA,CAARoE,EAAAA,wEACQpE,EAAA,CAARoE,EAAAA,+DAEQpE,EAAA,CAARoE,EAAAA,kGA8BDpE,EAAA,CADCoE,EAAAA,6FA1CU/B,EAAoBrC,EAAA,CANhCqE,EAAAA,UAAU,CACTC,SAAU,iBACVC,SAAA,qgCAEAC,cAAgBC,EAAAA,kBAAkBC,w1HA2DHV,EAAAA,aAzDpB3B,mBCWb,SAAAsC,KAGA,OAHaA,EAAiB3E,EAAA,CAf7B4E,EAAAA,SACG,CACIC,QAAU,CACRC,EAAAA,cAEFC,aAAe,CACX1C,GAEJ2C,QAAU,CACN3C,GAEJ4C,UAAY,MAIPN,mBCWT,SAAAO,IAjBStF,KAAAuF,eAAyB,EAEzBvF,KAAAwF,UAAoB,IACpBxF,KAAAyF,aAAuB,IACvBzF,KAAA0F,YAAsB,EAErB1F,KAAA2F,UAAY,IAAIC,EAAAA,aASnB5F,KAAA6F,aAAuB,EAclC,OAnBWP,EAAApF,UAAA4F,SAAP,SAAgBC,GAEZ/F,KAAKgG,MAAQD,GAQjBT,EAAApF,UAAAiE,SAAA,WACInE,KAAK6F,YAAc7F,KAAK2F,UAAUM,UAAUtF,OAAS,GAGzD2E,EAAApF,UAAAgG,QAAA,SAAQC,GACAnG,KAAK6F,aACL7F,KAAK2F,UAAUS,KAAKD,IA/BnB/F,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,kEACQpE,EAAA,CAARoE,EAAAA,4DACQpE,EAAA,CAARoE,EAAAA,+DACQpE,EAAA,CAARoE,EAAAA,sEACQpE,EAAA,CAARoE,EAAAA,iEACQpE,EAAA,CAARoE,EAAAA,iEACQpE,EAAA,CAARoE,EAAAA,oEACQpE,EAAA,CAARoE,EAAAA,mEAESpE,EAAA,CAATiG,EAAAA,kEAbQf,EAAmBlF,EAAA,CAL/BqE,EAAAA,UAAU,CACPC,SAAU,cACVC,SAAA,wxCAGSW,mBC2BX,SAAAgB,IArBStG,KAAAuG,kBAA4B,gBAC5BvG,KAAAwG,iBAA2B,eAE5BxG,KAAAyG,oBAAqB,EAWtBzG,KAAA0G,WAAqB,EACrB1G,KAAA2G,YAAsB,EAErB3G,KAAA4G,WAAa,EACb5G,KAAA6G,eAAyB,EA8GnC,OA1HWrH,OAAAyB,eAAIqF,EAAApG,UAAA,OAAI,KAAR,SAAS4G,GAChB9G,KAAKgG,MAAQc,EACb9G,KAAKyG,oBAAqB,EAC1BzG,KAAK+G,yCAgBPT,EAAApG,UAAA8G,eAAA,WACEhH,KAAK+G,SAGPT,EAAApG,UAAA+G,mBAAA,WAAA,IAAAnE,EAAA9C,KACMA,KAAKyG,qBAEPzG,KAAKyG,oBAAqB,EAC1BzD,YAAW,WACTF,EAAKoE,MAAMC,SAAQ,SAAAC,GACjBA,EAAKtB,SAAShD,EAAKkD,YAErB,KAINM,EAAApG,UAAAmH,mBAAA,WAAA,IAAAvE,EAAA9C,KACEA,KAAKsH,eAELtH,KAAKuH,0BAA4BvH,KAAKkH,MAAMM,QAAQC,WAChD,SAAAD,GACE1E,EAAK2D,oBAAqB,MAK1BH,EAAApG,UAAAwH,aAAR,WAAA,IAAA5E,EAAA9C,KAEMA,KAAKkH,OACPlH,KAAKkH,MAAMC,SAAQ,SAAAC,GAAQ,OAAAA,EAAKtB,SAAShD,EAAKkD,WAGlDM,EAAApG,UAAAoH,aAAA,WAAA,IAAAxE,EAAA9C,KAEMA,KAAK2H,0BACPC,cAAc5H,KAAK2H,yBACnB3H,KAAK2H,wBAA0B,MAEjC3H,KAAK2H,wBAA0B3E,YAAW,WACxCF,EAAKoE,MAAMC,SAAQ,SAAAC,GACjBA,EAAK1B,YAAa,KAEpB5C,EAAKoE,MAAMW,KAAKnC,YAAa,EAC7B,IAAMoC,EAAYC,SAASC,OAAOC,iBAAiBnF,EAAKoF,YAAY/E,eAAegF,KAC7DrF,EAAKoF,YAAY/E,cAAciF,SAASzH,QAASmC,EAAKoF,YAAY/E,cAAciF,SAAS,GAAGC,aAClHvF,EAAK4D,UAAY5D,EAAKoF,YAAY/E,cAAckF,aAAevF,EAAKwF,UAAUnF,cAAcC,wBAAwBmF,QAAUC,KAAKC,IAAIX,GAAchF,EAAKoF,YAAY/E,cAAckF,aAAeP,EACnMhF,EAAK6D,WAAa7D,EAAKoF,YAAY/E,cAAckF,aAAevF,EAAKwF,UAAUnF,cAAcC,wBAAwBmF,QAAUT,EAAY,EAG3I,IAAIY,EAAS,GACb,GAAI5F,EAAKoF,YAAY/E,cAAciF,SAASzH,OAAO,CACjD,IAAK,IAAIK,EAAE,EAAGA,EAAE8B,EAAKoF,YAAY/E,cAAciF,SAASzH,OAAQK,IAAI,CAClE,IACM2H,EADW7F,EAAKoF,YAAY/E,cAAciF,SAASpH,GACzCoC,wBAAwB+E,IACxCO,EAAOzG,KAAK0G,kBAEL3H,GACH0H,EAAO1H,GAAK0H,EAAO1H,EAAE,IAAM8B,EAAKoE,MAAMvG,QAAUK,GAClD8B,EAAKoE,MAAMC,SAAQ,SAACC,EAAMwB,GACpB5H,IAAI4H,IACNxB,EAAK1B,YAAa,OAJ1B,IAAS1E,EAAE,EAAGA,EAAE0H,EAAO/H,OAAO,EAAGK,MAAxBA,GAWX8B,EAAK6E,wBAA0B,OAC9B,MAGLrB,EAAApG,UAAA2I,KAAA,SAAKC,GAAL,IAAAhG,EAAA9C,KACOA,KAAK6G,gBACR7G,KAAK6G,eAAgB,EACH,SAAdiC,EACF9I,KAAK4G,aAGL5G,KAAK4G,aAEP5G,KAAKkI,YAAY/E,cAAc4F,MAAMZ,KAAkE,EAA5DnI,KAAKkI,YAAY/E,cAAciF,SAAS,GAAGC,aAAsBrI,KAAK4G,WAAa,KAC9H5D,YAAW,WACTF,EAAKwE,eACLxE,EAAK+D,eAAgB,IACrB,OAKNP,EAAApG,UAAA6G,MAAA,WAAA,IAAAjE,EAAA9C,KACEA,KAAK4G,WAAa,EAClB5G,KAAKkI,YAAY/E,cAAc4F,MAAMZ,IAAM,MAC3CnF,YAAW,WACTF,EAAKwE,iBACL,MAGJhB,EAAApG,UAAA8I,YAAA,WACMhJ,KAAKuH,4BACPvH,KAAKuH,0BAA0B0B,cAC/BjJ,KAAKuH,0BAA4B,OA/HCnH,EAAA,CAArC8I,EAAAA,gBAAgB5D,mBAA4B6D,EAAAA,wCAEpC/I,EAAA,CAARoE,EAAAA,yEACQpE,EAAA,CAARoE,EAAAA,wEAKQpE,EAAA,CAARoE,EAAAA,0FAMyCpE,EAAA,CAAzCiE,EAAAA,UAAU,YAAa,CAAEC,QAAQ,oBAAmBC,EAAAA,6CACTnE,EAAA,CAA3CiE,EAAAA,UAAU,cAAe,CAAEC,QAAQ,oBAAqBC,EAAAA,+CAYzDnE,EAAA,CADCgJ,EAAAA,aAAa,gBAAiB,0HA5BpB9C,EAAmBlG,EAAA,CAL/BqE,EAAAA,UAAU,CACTC,SAAU,gBACVC,SAAA,k7BAGW2B,mBCAT,SAAA+C,EAAoBC,GAAAtJ,KAAAsJ,WAAAA,EAGZtJ,KAAAuJ,gBAA+B,KAC/BvJ,KAAAwJ,gBAAuB,KACvBxJ,KAAAyJ,kBAAmB,EACnBzJ,KAAA0J,eAAyB,KACzB1J,KAAA2J,cAAwB,KAEvB3J,KAAA4J,gBAAmD,KACnD5J,KAAA6J,QAAkB,EAClB7J,KAAA8J,cAAwB,EACxB9J,KAAA+J,UAA8B,MAC9B/J,KAAAgK,MAAQ,IACRhK,KAAAiK,SAAmB,IACnBjK,KAAAkK,cAAe,EACflK,KAAAmK,gBAAiB,EA4L9B,OAzLI3K,OAAAyB,eAAIoI,EAAAnJ,UAAA,WAAQ,KAAZ,SAAagC,GACLlC,KAAKoK,eAAelI,GACpBlC,KAAKwJ,gBAAkBtH,EAGvBlC,KAAKwJ,gBAAkB,KAG3BxJ,KAAKqK,yDAGDhB,EAAAnJ,UAAAkK,eAAR,SAAuBlI,GAEnB,YAAwB,IAAVA,GAAmC,KAAVA,GAA0B,OAAVA,GAGnDmH,EAAAnJ,UAAAmK,sBAAR,WAAA,IAAAvH,EAAA9C,KACI,GAAKA,KAAKwJ,gBAIH,GAAIxJ,KAAKyJ,iBACZ,GAAKzJ,KAAKsK,oBA0BFtK,KAAKuK,gCACLvK,KAAKwK,oCA3BkB,CAC3BxK,KAAKuJ,gBAAkBjG,SAASmH,cAAc,QAC9CzK,KAAKuJ,gBAAgBR,MAAM2B,cAAgB,OAC3C1K,KAAKuJ,gBAAgBoB,WAAa,yBAA2B3K,KAAK+J,UAC9D/J,KAAKiK,SAAW,IAChBjK,KAAKuJ,gBAAgBR,MAAMkB,SAAWjK,KAAKiK,SAAW,MAG1D,IAAMW,EAAyB,WACvB9H,EAAKyG,kBACLzG,EAAKyG,gBAAgBoB,WAAa,qBAItC3K,KAAKgK,MACLhH,WAAW4H,EAAwB5K,KAAKgK,OAExCY,IAGJtH,SAASC,KAAKsH,YAAY7K,KAAKuJ,iBAC3BvJ,KAAKuK,gCACLvK,KAAKwK,qCASTxK,KAAKsK,qBACLtK,KAAK8K,6BApCL9K,KAAKsK,qBACLtK,KAAK8K,yBAyCjBzB,EAAAnJ,UAAA6K,YAAA,WACQ/K,KAAKkK,cACLlK,KAAKwK,iCAKbnB,EAAAnJ,UAAA8K,aAAA,WACOhL,KAAKmK,iBAAkBnK,KAAKiL,iBAC/BjL,KAAKyJ,kBAAmB,EACxBzJ,KAAKqK,0BAKThB,EAAAnJ,UAAAgL,aAAA,WACIlL,KAAKyJ,kBAAmB,EACxBzJ,KAAKqK,yBAGDhB,EAAAnJ,UAAA+K,aAAR,WAEE,OAAOjL,KAAKsJ,WAAWnG,cAAcgI,YAAenL,KAAKsJ,WAAWnG,cAAciI,YAAc,GAG1F/B,EAAAnJ,UAAA4K,sBAAR,WACQ9K,KAAKuJ,kBACDvJ,KAAKuJ,gBAAgB8B,YACrBrL,KAAKuJ,gBAAgB8B,WAAWC,YAAYtL,KAAKuJ,iBAErDvJ,KAAKuJ,gBAAkB,KACvBvJ,KAAK0J,eAAiB,KACtB1J,KAAK2J,cAAgB,OAIrBN,EAAAnJ,UAAAoK,kBAAR,WACI,OAAgC,OAAzBtK,KAAKuJ,iBAGRF,EAAAnJ,UAAAqK,6BAAR,WACI,GAAIvK,KAAKsK,qBAAuBtK,KAAKwJ,gBAAiB,CAElD,IAAInH,EAAU,GAad,OATIA,EAFArC,KAAK4J,iBAAmD,iBAAzB5J,KAAK4J,gBAE1B5J,KAAKwJ,gBAAgBxJ,KAAK4J,iBAC9B5J,KAAK4J,iBAAmD,mBAAzB5J,KAAK4J,gBAEhC5J,KAAK4J,gBAAgB5J,KAAKwJ,iBAG1BxJ,KAAKwJ,gBAGfxJ,KAAKoK,eAAe/H,IAEpBrC,KAAKuJ,gBAAgBgC,UAAY,GACjCvL,KAAKuJ,gBAAgBiC,YAAc,GAC/BxL,KAAK6J,OACL7J,KAAKuJ,gBAAgBiC,YAAcnJ,EAEnCrC,KAAKuJ,gBAAgBgC,UAAYlJ,EAGrCrC,KAAK0J,eAAiB1J,KAAKuJ,gBAAgBlB,aAC3CrI,KAAK2J,cAAgB3J,KAAKuJ,gBAAgB4B,aAEnC,IAGPnL,KAAK8K,yBACE,KAKXzB,EAAAnJ,UAAAsK,8BAAR,WAEI,GAAIxK,KAAKsK,oBAAqB,CAC1B,IAAMmB,EAAezL,KAAKsJ,WAAWnG,cAAcC,wBAEnD,GAAIqI,EAAc,CACd,IAAIC,EAAa1L,KAAKsJ,WAAWnG,cAAcwI,aAC3CC,EAAY5L,KAAKsJ,WAAWnG,cAAcgI,YAExB,OAAlBnL,KAAK+J,YACL/J,KAAKuJ,gBAAgBR,MAAMZ,IAAMsD,EAAatD,KAAOnI,KAAK0J,eAAiB1J,KAAK8J,eAAiB,MAG/E,UAAlB9J,KAAK+J,YACL/J,KAAKuJ,gBAAgBR,MAAMZ,IAAMsD,EAAatD,IAAMuD,EAAa1L,KAAK8J,cAAgB,MAGpE,OAAlB9J,KAAK+J,WAAwC,UAAlB/J,KAAK+J,YAChC/J,KAAKuJ,gBAAgBR,MAAMpF,KAAQ8H,EAAa9H,KAAOiI,EAAY,EAAK5L,KAAK2J,cAAgB,EAAI,MAG/E,QAAlB3J,KAAK+J,YACL/J,KAAKuJ,gBAAgBR,MAAMpF,KAAO8H,EAAa9H,KAAO3D,KAAK2J,cAAgB3J,KAAK8J,cAAgB,MAG9E,SAAlB9J,KAAK+J,YACL/J,KAAKuJ,gBAAgBR,MAAMpF,KAAO8H,EAAa9H,KAAOiI,EAAY5L,KAAK8J,cAAgB,MAGrE,QAAlB9J,KAAK+J,WAAyC,SAAlB/J,KAAK+J,YACjC/J,KAAKuJ,gBAAgBR,MAAMZ,IAAMsD,EAAatD,IAAMuD,EAAa,EAAI1L,KAAKuJ,gBAAgBlB,aAAe,EAAI,MAG9FN,SAAS/H,KAAKuJ,gBAAgBR,MAAMpF,MACtC,IACf3D,KAAKuJ,gBAAgBR,MAAMpF,KAAO,aAKjD3D,KAAKqK,yBAIJhB,EAAAnJ,UAAA8I,YAAA,WACIhJ,KAAK8K,kEA1MuBvG,EAAAA,cASvBnE,EAAA,CAARoE,EAAAA,uEACQpE,EAAA,CAARoE,EAAAA,+DACQpE,EAAA,CAARoE,EAAAA,qEACQpE,EAAA,CAARoE,EAAAA,iEACQpE,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,oEACQpE,EAAA,CAARoE,EAAAA,sEAGDpE,EAAA,CADCoE,EAAAA,8FA6DDpE,EAAA,CADCgJ,EAAAA,aAAa,gIAQdhJ,EAAA,CADCgJ,EAAAA,aAAa,kIASdhJ,EAAA,CADCgJ,EAAAA,aAAa,kIA/FLC,EAAiBjJ,EAAA,CAH7ByL,EAAAA,UAAU,CACVnH,SAAU,sCAIyBH,EAAAA,cAFvB8E,mBCWb,SAAAyC,KAEA,OAFaA,EAAa1L,EAAA,CAbzB4E,EAAAA,SACC,CACEC,QAAS,CACPC,EAAAA,cAEFC,aAAc,CACZkE,GAEFjE,QAAS,CACPiE,MAIOyC,mBCIb,SAAAC,KACA,OADaA,EAAgB3L,EAAA,CAhB5B4E,EAAAA,SAAS,CACNC,QAAS,CACLC,EAAAA,aACA4G,GAEJ3G,aAAc,CACVmB,EACAhB,GAEJF,QAAS,CACLkB,EACAhB,GAEJD,UAAW,MAGF0G,QCYT,SAAYC,GACRhM,KAAKiM,aAAeD,EAAQ9J,MAC5BlC,KAAKO,IAAMyL,EAAQzL,KAAO,GAC1BP,KAAK8D,MAAQkI,EAAQlI,OAAS,GAC9B9D,KAAKkM,gBAAkBF,EAAQE,cAC/BlM,KAAKmM,WAA0BC,IAAlBJ,EAAQG,MAAsB,EAAIH,EAAQG,MACvDnM,KAAKqM,YAAcL,EAAQK,aAAe,GAC1CrM,KAAKsM,WAAaN,EAAQM,WAC1BtM,KAAKuM,WAAaP,EAAQO,YAAc,SACxCvM,KAAKwM,OAASR,EAAQQ,OACtBxM,KAAKyM,kBAAoBT,EAAQS,kBACjCzM,KAAK0M,WAAaV,EAAQU,WAC1B1M,KAAK2M,WAAaX,EAAQW,0BC7B9B,SAAAC,EAAYZ,GAAZ,IAAAlJ,EAEI+J,EAAAhL,KAAA7B,KAAMgM,IAAQhM,YACd8C,EAAKsF,SAAW4D,EAAQ5D,WAGhC,OAf2CtI,EAAA8M,EAAAC,GAEvCrN,OAAAyB,eAAI2L,EAAA1M,UAAA,cAAW,KAAf,WAEI,MAAO,yCAWf0M,GAf2CE,gBCAvC,SAAAC,EAAoBC,GAAAhN,KAAAgN,aAAAA,EA2CxB,OAxCID,EAAA7M,UAAA+M,YAAA,SAAYC,EAAgDC,GAA5D,IAAArK,EAAA9C,UAA4D,IAAAmN,IAAAA,EAAA,IACxD,IAAIC,EAAc,GAqClB,OAnCIF,GACAA,EAAgB/F,SAAQ,SAAAkG,GAEpB,IAAKF,EAAOG,gBAAkBD,EAAYnB,cAAe,CACrD,IAAMqB,EAAYH,EAAOC,EAAY9M,KAAOuC,EAAKkK,aAAaQ,MAAM,IAEpE,GAAIL,GAAUA,EAAOM,UAAW,CAE5B,IAAMC,EAAaP,EAAOM,UAAUJ,EAAY9M,KAE5CmN,aAAsB/N,OACtB+N,EAAWvG,SAAQ,SAAAwG,GACfJ,EAAUtL,KAAKa,EAAKmK,YAAY,CAACI,GAAc,CAC3CC,gBAAgB,EAChBG,UAAWE,aAKxB,CACH,GAAIN,aAAuBT,EACSM,EAAgBvM,OAAS,EAErDyM,EAAOC,EAAY9M,KAAOuC,EAAKmK,YAAYI,EAAYjF,SAAU,CAACqF,UAAWN,EAAOM,YAEpFL,EAAStK,EAAKmK,YAAYI,EAAYjF,SAAU,CAACqF,UAAWN,EAAOM,iBAGvEL,EAAOC,EAAY9M,KAAO,IAAIqN,EAAAA,YAAYP,EAAYpB,cAAgB,KAAM,CAACK,WAAYe,EAAYf,WAAYuB,SAAUR,EAAYd,WAAac,EAAYd,WAAa,eAOrLa,aAAkBU,EAAAA,UAAaV,EAASpN,KAAKgN,aAAae,MAAMX,6CAzCzCY,EAAAA,eAD1BjB,EAAkB3M,EAAA,CAD9B6N,EAAAA,oCAEsCD,EAAAA,eAD1BjB,mBCaT,SAAAmB,EAAoBlB,EAAoCmB,GAApCnO,KAAAgN,aAAAA,EAAoChN,KAAAmO,oBAAAA,EA4C5D,OAvCID,EAAAhO,UAAAkO,iBAAA,SAAiBC,GACf,OAA8BA,GAGhCH,EAAAhO,UAAAoO,YAAA,SAAYD,GACV,OAAkBA,GAGpBH,EAAAhO,UAAAiE,SAAA,WACInE,KAAKuO,YAAW,EAEhB,IAAMjC,EAAatM,KAAKqO,QAAQ/B,WAC5BtM,KAAKqO,QAAQ/B,aAEYA,EAAWkC,MAAM,SAAAC,GAC1C,OAAAA,GAAaC,EAAAA,WAAWC,cAIpB3O,KAAKuO,YAAW,KAK5BL,EAAAhO,UAAA0O,SAAA,SAASC,GACL,OAAO7O,KAAKmO,oBAAoBlB,YAAY,CAAC4B,GAAiB,CAAEvB,gBAAiB,KAGrFY,EAAAhO,UAAA4O,QAAA,SAAQD,GACJ,IAAMR,EAAqBrO,KAAK+O,KAAKC,SAASH,EAAetO,KAC7D8N,EAAQpM,KAAKjC,KAAK4O,SAASC,IAC3BR,EAAQY,eAGZf,EAAAhO,UAAAgP,WAAA,SAAWL,EAA8C7N,GACrD,IAAMqN,EAAqBrO,KAAK+O,KAAKC,SAASH,EAAetO,KAC7D8N,EAAQc,SAASnO,GACjBqN,EAAQY,wDA1CuBjB,EAAAA,mBAA2CjB,KARrE3M,EAAA,CAARoE,EAAAA,wBAAiBsI,kCACT1M,EAAA,CAARoE,EAAAA,wBAAesJ,EAAAA,uCAIoC1N,EAAA,CAAnD8I,EAAAA,gBAAgBkG,EAAAA,YAAa,CAACC,aAAa,oBAA2BlG,EAAAA,6CAC9D/I,EAAA,CAARoE,EAAAA,wBAAuB4K,EAAAA,kDAPflB,EAAe9N,EAAA,CAL3BqE,EAAAA,UAAU,CACPC,SAAU,sBACVC,SAAA,uqIAYmCqJ,EAAAA,YAA2CjB,KATrEmB,MCXboB,EAAA,WAEE,SAAAA,KA6BF,OAxBSA,EAAAC,eAAP,SAAsBC,GAClB,YADkB,IAAAA,IAAAA,GAAA,GACdA,EACO,KAEXF,EAAkBG,0BAA4B,EACvCH,EAAkBG,2BAGtBH,EAAAI,mBAAP,WACIJ,EAAkBK,cACoB,IAAlCL,EAAkBK,aAClBrM,SAASC,KAAKqM,UAAUC,IAAI,WAI7BP,EAAAQ,mBAAP,WACIR,EAAkBK,cACoB,IAAlCL,EAAkBK,aAClBrM,SAASC,KAAKqM,UAAUG,OAAO,UAE/BT,EAAkBK,YAAc,IAChCL,EAAkBK,YAAc,IAxBzBL,EAAAG,yBAA2B,IAC3BH,EAAAK,YAAc,EA0B/BL,EA/BA,GCqBaU,EAAoB,CAC7BC,KAAQ,OACXC,YAAe,cACZC,MAAS,QACZC,SAAY,yBAyGT,SAAAC,EAAmBC,EAA2BC,GAA9C,IAAAzN,EAAA9C,KAAmBA,KAAAsQ,MAAAA,EAA2BtQ,KAAAuQ,SAAAA,EApFxCvQ,KAAAwQ,aAAc,EAGXxQ,KAAAyQ,YAA+B,OAClCzQ,KAAA0Q,aAAuB,EACvB1Q,KAAA2Q,mBAA6B,EAC7B3Q,KAAA4Q,OAAiB,EACjB5Q,KAAA6Q,QAAkB,EAClB7Q,KAAA8Q,YAAsB,EACtB9Q,KAAA+Q,UAAoB,EACpB/Q,KAAAgR,gBAA0B,EAC1BhR,KAAAiR,qBAA+B,EAC/BjR,KAAAkR,eAAyB,EACzBlR,KAAAmR,mBAA6B,EAC7BnR,KAAAoR,aAAoB,CAACC,EAAI,EAAGC,EAAK,GACjCtR,KAAAuR,eAAyC,GACzCvR,KAAAwR,QAA6B,QAC7BxR,KAAA+J,UAAkE,CAACsH,EAAG,QAASC,EAAG,UACjFtR,KAAAyR,eAAyB,EAGLzR,KAAA0R,QAAS,EACT1R,KAAA2R,QAAS,EAGtB3R,KAAA4R,YAAc5R,KAAK6R,OAAOC,KAAK9R,MAC/BA,KAAA+R,UAAY/R,KAAKgS,KAAKF,KAAK9R,MAC3BA,KAAAiS,WAAajS,KAAKkS,MAAMJ,KAAK9R,MAEnCA,KAAAmS,iBAAkB,EA0CnBnS,KAAAoS,OAAS,IAAIxM,EAAAA,aACV5F,KAAAqS,QAAU,IAAIzM,EAAAA,aAOnB5F,KAAAsS,yBAA0C,KAC1CtS,KAAAuS,aAA6C,IAAIC,EAAAA,gBAA6B,CAACC,MAAO,KAEvFzS,KAAA0S,OAAkC1S,KAAKuS,aAAaI,eAGvD3S,KAAKuS,aAAaxQ,KAAK,CAAC0Q,MAAOzC,EAAkBG,QAChDnQ,KAAK0S,OACFE,KAAKC,EAAAA,gBAAgB7S,OACrByH,WAAU,SAACqL,OAAEL,EAAAK,EAAAL,MACZ3P,EAAK6O,OAASc,IAAUzC,EAAkBG,MAC1CrN,EAAK4O,OAASe,IAAUzC,EAAkBC,QAyapD,OApeUzQ,OAAAyB,eAAIoP,EAAAnQ,UAAA,YAAS,KAsBtB,WAAuB,OAAOF,KAAK+S,gBAtB1B,SAAcC,GACD,UAAjBhT,KAAKwR,SACJxR,KAAK+S,YACR/S,KAAK+S,WAAWE,oBAAoB,QAASjT,KAAK4R,aAEnD5R,KAAK+S,WAAaC,EACdhT,KAAK+S,YACR/S,KAAK+S,WAAWG,iBAAiB,QAASlT,KAAK4R,cAGvB,UAAjB5R,KAAKwR,UACTxR,KAAK+S,aACR/S,KAAK+S,WAAWE,oBAAoB,YAAajT,KAAK+R,WACtD/R,KAAK+S,WAAWE,oBAAoB,WAAYjT,KAAKiS,aAEtDjS,KAAK+S,WAAaC,EACdhT,KAAK+S,aACR/S,KAAK+S,WAAWG,iBAAiB,YAAalT,KAAK+R,WACnD/R,KAAK+S,WAAWG,iBAAiB,WAAYlT,KAAKiS,+CAM5CzS,OAAAyB,eAAIoP,EAAAnQ,UAAA,cAAW,KAcxB,WAA0C,OAAOF,KAAKmT,kBAd7C,SAAgBC,GAAzB,IAAAtQ,EAAA9C,KACCA,KAAKmT,aAAeC,EAChBpT,KAAKsS,2BACRtS,KAAKsS,yBAAyBrJ,cAC9BjJ,KAAKsS,yBAA2B,MAE7BtS,KAAKmT,eACRnT,KAAKsS,yBAA2BtS,KAAKmT,aAAaT,OAAOjL,WAAU,SAAA4L,GAC9DA,EAAMZ,QAAUzC,EAAkBG,OACrCrN,EAAKoP,6CA+BN7B,EAAAnQ,UAAA8R,KAAA,WAAA,IAAAlP,EAAA9C,KACF,GAAIA,KAAKsT,WAAatT,KAAKuT,WAAY,CAEjCvT,KAAKyQ,aAAqC,SAArBzQ,KAAKyQ,YAQxBzQ,KAAKwT,mBAAqBxT,KAAKyQ,YAAc,KAP/CzQ,KAAK6Q,OACR7Q,KAAKwT,mBAAqB,qBAE1BxT,KAAKwT,mBAAqB,OAM5BxT,KAAKyT,oBAAsBzL,OAAO0L,aAAepQ,SAASqQ,gBAAgBC,UAEpE,IAAMC,EAAa7T,KAAK8T,WAAa9T,KAAK4Q,MAAQ5Q,KAAK8T,SAAS1Q,wBAAwBO,KAAO,EACzFoQ,EAAY/T,KAAK8T,WAAa9T,KAAK4Q,MAAQ5Q,KAAK8T,SAAS1Q,wBAAwB+E,IAAM,EAE7F,GAAKnI,KAAK+S,WAuBT/S,KAAKsQ,MAAMnN,cAAc4F,MAAMiL,WAAahU,KAAK+S,WAAW3P,wBAAwBO,KAAOkQ,EAAa7T,KAAKoR,aAAgB,EAAI,KACjIpR,KAAKsQ,MAAMnN,cAAc4F,MAAMjB,UAAY9H,KAAK+S,WAAW3P,wBAAwB+E,IAAM4L,EAAY/T,KAAKoR,aAAgB,EAAI,KAC9HpR,KAAKsQ,MAAMnN,cAAc4F,MAAMkL,SAAW,gBAxB1C,GAAIjU,KAAK8Q,WACR9Q,KAAK4Q,OAAQ,EACb5Q,KAAK2Q,mBAAoB,EACzB3Q,KAAKuQ,SAAS2D,SAASlU,KAAKsQ,MAAMnN,cAAe,mBAGjD,GADAnD,KAAKsQ,MAAMnN,cAAc4F,MAAMiL,WAAahM,OAAOmM,WAAa,EAAInU,KAAKoU,WAAa,EAAI,KACtFpU,KAAK6Q,OACR7I,OAAOqM,SAAS,EAAG,GACnBrU,KAAKsQ,MAAMnN,cAAc4F,MAAMZ,IAAM,OACrCnI,KAAK+Q,UAAW,EAChB/Q,KAAK2Q,mBAAoB,EACzB3Q,KAAKsQ,MAAMnN,cAAc4F,MAAMuL,OAA8B,SAArBtU,KAAKyQ,aAA6C,EAApBzQ,KAAKyQ,YAAmB,KAAO,UACrGzN,YAAW,WACVF,EAAKwN,MAAMnN,cAAc4F,MAAMuL,OAAS,QACtC,OACG,CACF,IAAMxM,EAAaE,OAAOuM,YAAc,EAAI,GAChDvU,KAAKsQ,MAAMnN,cAAc4F,MAAMjB,UAAYA,EAAY,KACvD9H,KAAKsQ,MAAMnN,cAAc4F,MAAMkL,SAAW,QAQ1CjU,KAAKsQ,MAAMnN,cAAc4F,MAAMyL,OAASlF,EAAkBC,eAAevP,KAAK8Q,YAG5E9Q,KAAKyU,eACkB,UAAjBzU,KAAKwR,UAAsBxR,KAAKyU,cAAgBnR,SAASmH,cAAc,OACvEzK,KAAK4Q,OAAS5Q,KAAK6Q,OACtB7Q,KAAKyU,cAAc9J,UAAY,2BAE/B3K,KAAKyU,cAAc9J,UAAY,wCAEhC3K,KAAKyU,cAAc1L,MAAMyL,OAASxU,KAAKsQ,MAAMnN,cAAc4F,MAAMyL,OAAS,GACrExU,KAAK6Q,QAAU7Q,KAAKiR,qBACxBjR,KAAKyU,cAAcvB,iBAAiB,aAAa,SAACG,GACjDA,EAAMqB,kBACN5R,EAAKoP,WAGXlS,KAAK8T,SACN9T,KAAK6K,YAAY7K,KAAKyU,cAAezU,KAAK8T,UAC5BxQ,SAASC,KAAKsH,YAAY7K,KAAKyU,gBACpCzU,KAAK4Q,OAAS5Q,KAAK6Q,SACtBvB,EAAkBI,sBAMtB1P,KAAK2Q,oBACRrN,SAASC,KAAKwF,MAAM4L,UAAY,SAChCrR,SAASC,KAAKwF,MAAMkL,SAAW,SAG7BjR,YAAW,WACVF,EAAK8R,2BACJ,GAEF5U,KAAKoS,OAAOhM,OACZpG,KAAKuS,aAAaxQ,KAAK,CAAC0Q,MAAOzC,EAAkBC,OAE7CjQ,KAAKyR,eAAiBzR,KAAK6U,QAC7B7M,OAAOkL,iBAAiB,SAAUlT,KAAKiS,YAI3CjS,KAAK6Q,QAAW7Q,KAAK8Q,aAAc9Q,KAAKsQ,MAAMnN,gBAClDnD,KAAKsQ,MAAMnN,cAAc4F,MAAM+L,QAAU,GAG7C9R,YAAW,WACVF,EAAKiS,gBACH,IAGD1E,EAAAnQ,UAAAgS,MAAA,SAAM8C,EAAqBC,GAA3B,IAAAnS,EAAA9C,KACI,QADE,IAAAgV,IAAAA,EAAA,WAAqB,IAAAC,IAAAA,EAAA,MACnBjV,KAAKsT,WAAatT,KAAK6U,OAAQ,CACjC7M,OAAOiL,oBAAoB,SAAUjT,KAAKiS,YACvCjS,KAAK8Q,YACR9Q,KAAKuQ,SAAS2E,YAAYlV,KAAKsQ,MAAMnN,cAAe,cAGrD,IAAIgS,EAAqB,CAACC,YAAc,GAExC,GADApV,KAAKuS,aAAaxQ,KAAK,CAAC0Q,MAAOzC,EAAkBE,YAAa8E,QAASG,IACnEA,EAA+B,WAAG,CAEjCnV,KAAKuR,eAAe5Q,QACvBX,KAAKuR,eAAepK,SAAQ,SAACmJ,GAC5BA,EAAM4B,WAGRlS,KAAKqV,4BACLrV,KAAKsV,mBAAkB,GACvBtV,KAAKqS,QAAQjM,OACb,IAAImP,EAAU,EACVvV,KAAK6Q,SACR7Q,KAAKsQ,MAAMnN,cAAc4F,MAAMuL,OAA6B,SAApBtU,KAAKyQ,aAA6C,EAApBzQ,KAAKyQ,YAAkB,KAAQ,UACrG8E,EAAU,KAEPvV,KAAK4Q,QAAU5Q,KAAK6Q,QACvBvB,EAAkBQ,qBAEnB9M,YAAW,WAENF,EAAK2R,gBACJ3R,EAAKgR,SACRhR,EAAKwI,YAAYxI,EAAK2R,cAAe3R,EAAKgR,UAE1CxQ,SAASC,KAAK+H,YAAYxI,EAAK2R,eAEhC3R,EAAK2R,cAAgB,MAElB3R,EAAK+N,QACRvB,EAAkBQ,qBAEnBhN,EAAKyP,aAAaxQ,KAAK,CAAC0Q,MAAOzC,EAAkBG,MAAO6E,QAASA,EAASC,OAAQA,MACjFM,MAMRlF,EAAAnQ,UAAA2R,OAAA,WACQ7R,KAAKsT,YACLtT,KAAK6U,OAAS7U,KAAKkS,QAAUlS,KAAKgS,SAI1CxS,OAAAyB,eAAIoP,EAAAnQ,UAAA,SAAM,KAAV,WACC,OAAOF,KAAKuS,aAAaiD,WAAW/C,QAAUzC,EAAkBG,uCAGjE3Q,OAAAyB,eAAIoP,EAAAnQ,UAAA,YAAS,KAAb,WACC,OAAOF,KAAKuS,aAAaiD,WAAW/C,QAAUzC,EAAkBI,0CAOpEC,EAAAnQ,UAAA8G,eAAA,WACKhH,KAAKkR,cACRlR,KAAKkS,QAELlS,KAAK+U,eAKN1E,EAAAnQ,UAAAuV,WAAA,SAAWpC,GACLrT,KAAKmR,mBACPnR,KAAKkS,SAKP7B,EAAAnQ,UAAAwV,gBAAA,WACF1V,KAAKmS,iBAAkB,EAEbnS,KAAKuT,aACVvT,KAAK8T,WAAa9T,KAAK4Q,MAC1B5Q,KAAK6K,YAAY7K,KAAKsQ,MAAMnN,cAAenD,KAAK8T,WAE1CxQ,SAASC,KAAKsH,YAAY7K,KAAKsQ,MAAMnN,eACjCnD,KAAK8T,UACR6B,QAAQC,KAAK,mCAAqC5V,KAAK8T,SAAW,uCAGhE9T,KAAK8Q,aACR9Q,KAAKsQ,MAAMnN,cAAc4F,MAAM1F,MAAQ,MACvCrD,KAAKsQ,MAAMnN,cAAc4F,MAAMR,OAAS,SAK9C8H,EAAAnQ,UAAA8I,YAAA,WAEKhJ,KAAK+S,aAEZ/S,KAAK+S,WAAWE,oBAAoB,QAASjT,KAAK4R,aAClD5R,KAAK+S,WAAWE,oBAAoB,YAAajT,KAAK+R,WACtD/R,KAAK+S,WAAWE,oBAAoB,WAAYjT,KAAKiS,aAG3CjS,KAAKsS,0BACLtS,KAAKsS,yBAAyBrJ,cAErCjJ,KAAKuS,aAAasD,WACf7V,KAAKqV,4BACLrV,KAAKsV,mBAAkB,GACtBtV,KAAK4Q,OAAS5Q,KAAKyU,gBACtBnR,SAASC,KAAK+H,YAAYtL,KAAKyU,eAC/BzU,KAAKyU,cAAgB,MAElBzU,KAAK8T,WAAa9T,KAAK4Q,MAC1B5Q,KAAKsL,YAAYtL,KAAKsQ,MAAMnN,cAAenD,KAAK8T,UAE5C9T,KAAKmS,iBACL7O,SAASC,KAAK+H,YAAYtL,KAAKsQ,MAAMnN,eAIzC6E,OAAOiL,oBAAoB,SAAUjT,KAAKiS,aAKpC5B,EAAAnQ,UAAA0U,uBAAR,WACQ5U,KAAKiR,sBACLjR,KAAKsQ,MAAMnN,cAAc+P,iBAAiB,YAAalT,KAAK8V,uBAC3D9V,KAAKgT,WACRhT,KAAKgT,UAAUE,iBAAiB,YAAalT,KAAK8V,yBAKhDzF,EAAAnQ,UAAA4V,sBAAR,SAA8BzC,GAC7BA,EAAMqB,mBAGCrE,EAAAnQ,UAAAmV,0BAAR,WACQrV,KAAKiR,sBACLjR,KAAKsQ,MAAMnN,cAAc8P,oBAAoB,YAAajT,KAAK8V,uBAC9D9V,KAAKgT,WACRhT,KAAKgT,UAAUC,oBAAoB,YAAajT,KAAK8V,yBAKnDzF,EAAAnQ,UAAAoV,kBAAR,SAA0BS,QAAA,IAAAA,IAAAA,GAAA,GACrB/V,KAAK2Q,oBACRrN,SAASC,KAAKwF,MAAM4L,UAAY,OAChCrR,SAASC,KAAKwF,MAAMkL,SAAW,GAC3B8B,GACH/N,OAAOqM,SAAS,EAAGrU,KAAKyT,uBAKnBpD,EAAAnQ,UAAAqT,SAAR,WACI,IAAIyC,OAA4C,IAApBhW,KAAKoU,YAA8BpU,KAAK8Q,WACpE,IAAKkF,EAEJ,MADAhW,KAAKuS,aAAaxQ,KAAK,CAAC0Q,MAAOzC,EAAkBI,WAC3C,iFAEP,OAAO4F,GAGN3F,EAAAnQ,UAAA2K,YAAR,SAAoBoL,EAAc3V,GACjC,IAAIN,KAAKkW,UAAU5V,GAGlB,KAAM,iBAAmBA,EAAS,OAAS2V,EAF3C3V,EAAOuK,YAAYoL,IAMb5F,EAAAnQ,UAAAoL,YAAR,SAAoB2K,EAAc3V,GACjC,IAAIN,KAAKkW,UAAU5V,GAGlB,KAAM,iBAAmBA,EAAS,SAAW2V,EAF7C3V,EAAOgL,YAAY2K,IAMb5F,EAAAnQ,UAAAgW,UAAR,SAAkBC,GACjB,MAA+B,iBAAhBC,YAA2BD,aAAeC,YACxDD,GAAsB,iBAARA,GAA4B,OAARA,GAAiC,IAAjBA,EAAIE,UAA0C,iBAAjBF,EAAIG,UAI7EjG,EAAAnQ,UAAA6U,YAAR,WACG,IAAMtE,EAAczQ,KAAKsQ,MAAMnN,cAAckF,aACzC+L,EAAapU,KAAKsQ,MAAMnN,cAAcK,YAE1C,GAAIxD,KAAK4Q,OAAS5Q,KAAK6Q,QAGrB,GAFA7Q,KAAKsQ,MAAMnN,cAAc4F,MAAMiL,WAAahM,OAAOmM,WAAa,EAAInU,KAAKoU,WAAa,EAAI,KAEtFpU,KAAK4Q,MAAO,CACd,IAAM2F,EACJvO,OAAOuM,YAAc,EACrB9D,EAAc,EAEhBzQ,KAAKsQ,MAAMnN,cAAc4F,MAAMjB,UAAYU,KAAKgO,MAAMD,GAAkB,KACxEvW,KAAKsQ,MAAMnN,cAAc4F,MAAM+L,QAAU,QAI/C,GAAK9U,KAAK+S,WAAV,CAEiB/S,KAAKsQ,MAAMnN,cAAcC,wBAA1C,IAKIqT,EACAC,EALEC,EAAe3W,KAAK+S,WAAW3P,wBAC/B2Q,EAAY/T,KAAK8T,WAAa9T,KAAK4Q,MAAQ5Q,KAAK8T,SAAS1Q,wBAAwB+E,IAAM,EACvF0L,EAAa7T,KAAK8T,WAAa9T,KAAK4Q,MAAQ5Q,KAAK8T,SAAS1Q,wBAAwBO,KAAO,EAK3FiT,EAAwC,GACxCC,EAAuC,GAE3CA,EAAgB1O,IACfwO,EAAaxO,IACX4L,EACAtD,EACAzQ,KAAKgT,UAAUrH,aACf3L,KAAKoR,aAAgB,EAGxByF,EAAgBvC,OACfqC,EAAaxO,IACX4L,EACA/T,KAAKoR,aAAgB,EAGxByF,EAAgBC,OACfH,EAAaxO,IACX4L,EACAtD,EAAc,EACdzQ,KAAKgT,UAAUrH,aAAe,EAC9B3L,KAAKoR,aAAgB,EAGxBwF,EAAiBjT,KAChBgT,EAAahT,KACXkQ,EACAO,EACApU,KAAKgT,UAAUxP,YACfxD,KAAKoR,aAAgB,EAGxBwF,EAAiBG,MAChBJ,EAAahT,KACXkQ,EACA7T,KAAKoR,aAAgB,EAGxBwF,EAAiBE,OAChBH,EAAahT,KACXkQ,EACAO,EAAa,EACbpU,KAAKoR,aAAgB,EAGxBqF,EAAiBzW,KAAK+J,UAAUuH,EAAIuF,EAAgB7W,KAAK+J,UAAUuH,GAAKuF,EAAgBvC,OACxFoC,EAAkB1W,KAAK+J,UAAUsH,EAAIuF,EAAiB5W,KAAK+J,UAAUuH,GAAKsF,EAAiBG,MAE3F/W,KAAKsQ,MAAMnN,cAAc4F,MAAMjB,UAAYU,KAAKgO,MAAMC,GAAkB,KACxEzW,KAAKsQ,MAAMnN,cAAc4F,MAAMiL,WAAaxL,KAAKgO,MAAME,GAAmB,KAE1E1W,KAAKgX,iBAAiBJ,EAAkBC,KAIjCxG,EAAAnQ,UAAA8W,iBAAR,SAAyBJ,EAAuCC,GAE/D,IAMIJ,EACAC,EAPEjG,EAAczQ,KAAKsQ,MAAMnN,cAAckF,aACvC+L,EAAapU,KAAKsQ,MAAMnN,cAAcK,YACtCyT,EAAWjX,KAAKsQ,MAAMnN,cAAcC,wBACpCiF,EAAeL,OAAOuM,YACtB/Q,EAAcwE,OAAOmM,WAKF,QAArBnU,KAAK+J,UAAUuH,EACd2F,EAAS9O,IA3eM,KA4elBsO,EAAiBI,EAAgBvC,QAGL,WAArBtU,KAAK+J,UAAUuH,EAEtBmF,EADGQ,EAAS9O,IAAMsI,EAAcpI,EAhfd,IAgf8C4O,EAAS9O,IAAME,EAC9DwO,EAAgB1O,IAEZ0O,EAAgBvC,OAGT,WAArBtU,KAAK+J,UAAUuH,IACnB2F,EAAS9O,IAvfM,GAwflBsO,EAAiBI,EAAgBvC,OAEzB2C,EAAS9O,IAAMsI,EAAcpI,EA1fnB,KA2flBoO,EAAiBI,EAAgB1O,MAI/B8O,EAAStT,KAAOyQ,EAAa5Q,EA/fb,GAggBnBkT,EAAkBE,EAAiBjT,KAE3BsT,EAAStT,KAlgBE,KAmgBnB+S,EAAkBE,EAAiBG,OAGpC/W,KAAKsQ,MAAMnN,cAAc4F,MAAMjB,UAAYU,KAAKgO,MAAMC,GAAkB,KACxEzW,KAAKsQ,MAAMnN,cAAc4F,MAAMiL,WAAaxL,KAAKgO,MAAME,GAAmB,KAC1E1W,KAAKsQ,MAAMnN,cAAc4F,MAAM+L,QAAU,4CA5abvQ,EAAAA,kBAA8BH,EAAAA,aApFlDhE,EAAA,CAARoE,EAAAA,mEACQpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,kEACWpE,EAAA,CAARoE,EAAAA,mEACKpE,EAAA,CAARoE,EAAAA,oEACQpE,EAAA,CAARoE,EAAAA,0EACQpE,EAAA,CAARoE,EAAAA,8DACQpE,EAAA,CAARoE,EAAAA,+DACQpE,EAAA,CAARoE,EAAAA,mEACQpE,EAAA,CAARoE,EAAAA,iEACQpE,EAAA,CAARoE,EAAAA,uEACQpE,EAAA,CAARoE,EAAAA,4EACQpE,EAAA,CAARoE,EAAAA,sEACQpE,EAAA,CAARoE,EAAAA,0EACQpE,EAAA,CAARoE,EAAAA,oEACQpE,EAAA,CAARoE,EAAAA,qEACQpE,EAAA,CAARoE,EAAAA,+DACQpE,EAAA,CAARoE,EAAAA,iEACSpE,EAAA,CAARoE,EAAAA,sEAE4CpE,EAAA,CAA5C8W,EAAAA,aAAa9H,EAAAA,YAAa,CAAE9K,QAAQ,oBAA0B8K,EAAAA,8CAClChP,EAAA,CAA5B+W,EAAAA,YAAY,sEACgB/W,EAAA,CAA5B+W,EAAAA,YAAY,sEASL/W,EAAA,CAARoE,EAAAA,+FAwBQpE,EAAA,CAARoE,EAAAA,wBAAqC6L,0BAAAA,qCAgB5BjQ,EAAA,CAATiG,EAAAA,+DACYjG,EAAA,CAATiG,EAAAA,gEA0LJjG,EAAA,CADCgJ,EAAAA,aAAa,gBAAiB,0HAU9BhJ,EAAA,CADCgJ,EAAAA,aAAa,kBAAmB,CAAC,mIA3QvBiH,EAAoBjQ,EAAA,CALhCqE,EAAAA,UAAU,CACPC,SAAU,eACVC,SAAA,+nEAwF0BJ,EAAAA,WAA8BH,EAAAA,aArF/CiM,mBC5Bb,SAAA+G,KAAgC,OAAnBA,EAAiBhX,EAAA,CAb7B4E,EAAAA,SAAS,CACNC,QAAS,CACLC,EAAAA,cAEJC,aAAc,CACVkL,GAEJjL,QAAS,CACLiL,GAEJhL,UAAW,MAGF+R,mBCDT,SAAAC,IANSrX,KAAAwR,QAA6B,QAC7BxR,KAAAsX,YAAc,iBACdtX,KAAAuX,KAAe,YACfvX,KAAAqD,MAAgB,IAChBrD,KAAA+J,UAAkE,CAACsH,EAAG,QAASC,EAAG,OAK/F,OADI+F,EAAAnX,UAAAiE,SAAA,aATS/D,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,+DACQpE,EAAA,CAARoE,EAAAA,mEACQpE,EAAA,CAARoE,EAAAA,4DACQpE,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,iEANQ6S,EAAoBjX,EAAA,CALhCqE,EAAAA,UAAU,CACPC,SAAU,eACVC,SAAA,quDAGS0S,mBCWb,SAAAG,KAAgC,OAAnBA,EAAiBpX,EAAA,CAd7B4E,EAAAA,SAAS,CACNC,QAAS,CACLC,EAAAA,aACAkS,GAEJjS,aAAc,CACbkS,GAEDjS,QAAS,CACRiS,GAEDhS,UAAW,MAGFmS,mBCQb,SAAAC,KAGA,OAHaA,EAAiBrX,EAAA,CAnB7B4E,EAAAA,SACG,CACIC,QAAU,CACNyS,EAAAA,oBACAxS,EAAAA,aACA4G,EACA0L,GAEJrS,aAAe,CACX+I,GAEJ9I,QAAU,CACN8I,GAEJ7I,UAAY,CACR0H,MAIC0K,oBCZT,SAAAE,EAAY3L,GAAZ,IAAAlJ,EACI+J,EAAAhL,KAAA7B,KAAMgM,IAAQhM,YACd8C,EAAK8U,OAAS5L,EAAQ4L,SAE9B,OAZiC9X,EAAA6X,EAAA9K,GAC7BrN,OAAAyB,eAAI0W,EAAAzX,UAAA,cAAW,KAAf,WAEI,MAAO,wCASfyX,GAZiC7K,iBCQ7B,SAAA+K,EAAY7L,GAAZ,IAAAlJ,EACI+J,EAAAhL,KAAA7B,KAAMgM,IAAQhM,YAHlB8C,EAAAgV,UAAqB,EAIjBhV,EAAKgV,SAAW9L,EAAQ8L,WAEhC,OAZuChY,EAAA+X,EAAAhL,GACnCrN,OAAAyB,eAAI4W,EAAA3X,UAAA,cAAW,KAAf,WAEI,MAAO,8CASf2X,GAZuC/K,iBCOnC,SAAAiL,EAAY/L,UACRa,EAAAhL,KAAA7B,KAAMgM,IAAQhM,KAEtB,OAVqCF,EAAAiY,EAAAlL,GACjCrN,OAAAyB,eAAI8W,EAAA7X,UAAA,cAAW,KAAf,WAEI,MAAO,4CAOf6X,GAVqCjL,iBCCjC,SAAAkL,EAAYhM,UACRa,EAAAhL,KAAA7B,KAAMgM,IAAQhM,KAEtB,OAToCF,EAAAkY,EAAAnL,GAChCrN,OAAAyB,eAAI+W,EAAA9X,UAAA,cAAW,KAAf,WAEI,MAAO,2CAMf8X,GAToClL,iBCahC,SAAAmL,EAAYjM,GAAZ,IAAAlJ,EACI+J,EAAAhL,KAAA7B,KAAMgM,IAAQhM,YACd8C,EAAK8U,OAAS5L,EAAQ4L,SAE9B,OAZ4C9X,EAAAmY,EAAApL,GACxCrN,OAAAyB,eAAIgX,EAAA/X,UAAA,cAAW,KAAf,WAEI,MAAO,4CASf+X,GAZ4CnL,iBCCxC,SAAAoL,EAAYlM,UACRa,EAAAhL,KAAA7B,KAAMgM,IAAQhM,KAEtB,OATmCF,EAAAoY,EAAArL,GAC/BrN,OAAAyB,eAAIiX,EAAAhY,UAAA,cAAW,KAAf,WAEI,MAAO,0CAMfgY,GATmCpL,iBCM/B,SAAAqL,EAAYnM,UACRa,EAAAhL,KAAA7B,KAAMgM,IAAQhM,KAEtB,OATmCF,EAAAqY,EAAAtL,GAC/BrN,OAAAyB,eAAIkX,EAAAjY,UAAA,cAAW,KAAf,WAEI,MAAO,0CAMfiY,GATmCrL,gBCuClC,SAAAsL,IA/BApY,KAAAqD,MAAiB,IAGjBrD,KAAAuI,OAAkB,IAYlBvI,KAAAqY,OAAkB,4BAGlBrY,KAAAsY,UAAkB,GAGlBtY,KAAAuY,MAAgB,EAGhBvY,KAAAwY,GAAc,GAGdxY,KAAAyY,mBAAqB,IAAI7S,EAAAA,aA4D1B,OAtDCwS,EAAAlY,UAAAwV,gBAAA,WACM1V,KAAKuY,MACTvY,KAAK0Y,SAIAN,EAAAlY,UAAAwY,MAAP,WAAA,IAAA5V,EAAA9C,KAEC,GAAKA,KAAK2Y,KAAQ3Y,KAAK4Y,UAAa5Y,KAAK6Y,QAEnC,CAEL,GAAoD,OAAhDvV,SAASwV,eAAe,oBAA8B,CACzD,IAAIC,EAAIzV,SAASmH,cAAc,UAC/BsO,EAAEC,IAAShZ,KAAKqY,OAAM,MAAMrY,KAAK2Y,IAAG,OAAO3Y,KAAK2Y,IAAG,8BAA8B3Y,KAAK4Y,SAAQ,eAAe5Y,KAAK2Y,IAClHI,EAAEP,GAAK,mBACPO,EAAEE,OAAQ,EACV3V,SAAS4V,KAAKrO,YAAYkO,GAG3B,GAAK/Y,KAAKmZ,IAQTnZ,KAAKoZ,eAPL,IAAMC,EAAaC,aAAY,gBACG,IAAtBtR,OAAgB,UAC1BJ,cAAcyR,GACdvW,EAAKsW,aAEL,SAjBHzD,QAAQC,KAAK,kFAwBPwC,EAAAlY,UAAAkZ,QAAR,WAAA,IAAAtW,EAAA9C,KACCgI,OAAgB,QAAEuR,MAAM,CACvBC,SAAY,kBAAoBxZ,KAAKwY,GACrCiB,IAAO,IAAMzZ,KAAK2Y,IAClBe,UAAa1Z,KAAK4Y,SAClBN,UAAatY,KAAKsY,UAClBqB,SAAYnR,KAAKoR,SACjBC,SAAY7Z,KAAK6Y,QACjBiB,cAAiB,SAACC,GACjBjX,EAAKqW,IAAM7V,SAASwV,eAAeiB,GACnCjX,EAAK2V,mBAAmBrS,KAAKtD,EAAKqW,SAKrCf,EAAAlY,UAAA8I,YAAA,WACKhJ,KAAKmZ,KACRnR,OAAgB,QAAEgS,QAAQha,KAAKmZ,MAnFjC/Y,EAAA,CADCoE,EAAAA,6DAIDpE,EAAA,CADCoE,EAAAA,8DAIDpE,EAAA,CADCoE,EAAAA,2DAIDpE,EAAA,CADCoE,EAAAA,gEAIDpE,EAAA,CADCoE,EAAAA,+DAIDpE,EAAA,CADCoE,EAAAA,8DAIDpE,EAAA,CADCoE,EAAAA,iEAIDpE,EAAA,CADCoE,EAAAA,6DAIDpE,EAAA,CADCoE,EAAAA,0DAIDpE,EAAA,CADCiG,EAAAA,2EA7BW+R,EAAsBhY,EAAA,CALlCqE,EAAAA,UAAU,CACPC,SAAU,WACVC,SAAA,6LAGSyT,mBCYZ,SAAA6B,IAXQja,KAAAka,eAAiB,IAAIC,EAAAA,QACtBna,KAAAoa,cAAgBpa,KAAKka,eAAevH,eACnC3S,KAAAqa,eAAiB,IAAIF,EAAAA,QACtBna,KAAAsa,cAAgBta,KAAKqa,eAAe1H,eACnC3S,KAAAua,eAAiB,IAAI/H,EAAAA,gBAAoB,IAC1CxS,KAAAwa,eAAiBxa,KAAKua,eAAe5H,eAEpC3S,KAAAya,eAAsB,GACtBza,KAAA0a,iBAAmB1a,KAAK2a,kBAAkB7I,KAAK9R,MAC/CA,KAAA4a,iBAAmB5a,KAAK6a,kBAAkB/I,KAAK9R,MAItDgI,OAAOkL,iBAAiB,SAAUlT,KAAK0a,kBACvC1S,OAAOkL,iBAAiB,SAAUlT,KAAK4a,kBAiDzC,OA9CCX,EAAA/Z,UAAA8I,YAAA,WACChB,OAAOiL,oBAAoB,SAAUjT,KAAK0a,kBAC1C1S,OAAOiL,oBAAoB,SAAUjT,KAAK4a,mBAG3CX,EAAA/Z,UAAAya,kBAAA,WACC3a,KAAKka,eAAenY,KAAK,KAG1BkY,EAAA/Z,UAAA2a,kBAAA,WACC7a,KAAKqa,eAAetY,KAAK,KAG1BkY,EAAA/Z,UAAA4a,OAAA,SAAOtC,GACN,IAAKA,EACJ,MAAM,IAAIuC,MAAM,yCACX,QAAuC,IAA5B/a,KAAKya,eAAejC,GACpC,MAAM,IAAIuC,MAAM,uCAAuCvC,EAAG,KAE1DxY,KAAKya,eAAejC,GAAM,MAI5ByB,EAAA/Z,UAAA8a,OAAA,SAAOxC,GACDA,SAGGxY,KAAKya,eAAejC,GAF3B7C,QAAQC,KAAK,0CAMfqE,EAAA/Z,UAAA+a,OAAA,SAAOzC,EAAYjQ,EAAgB2S,GAClC,GAAK1C,EAEC,CACL,IAAM2C,EAAenb,KAAKya,eAAejC,GACzC,QAA4B,IAAjB2C,EAMV,MAAM,IAAIJ,MAAM,2BAA2BvC,EAAE,0CALxB,OAAjB2C,GAAyBA,EAAa5S,SAAWA,GAAU4S,EAAaD,SAAWA,IACtFlb,KAAKya,eAAejC,GAAM,CAACjQ,OAAMA,EAAE2S,OAAMA,GACzClb,KAAKua,eAAexY,KAAK/B,KAAKya,sBANhC9E,QAAQC,KAAK,gCApDHqE,EAAmB7Z,EAAA,CAD/B6N,EAAAA,wCACYgM,oBCyBT,SAAAmB,EAAoB9R,EAAgCiH,EAA6B8K,GAA7Drb,KAAAsJ,WAAAA,EAAgCtJ,KAAAuQ,SAAAA,EAA6BvQ,KAAAqb,qBAAAA,EAtBzErb,KAAAsb,WAAqB,EACtBtb,KAAAub,UAAoB,EAEnBvb,KAAAwb,YAAa,EAEXxb,KAAAyb,cAAgB,IAAI7V,EAAAA,aACpB5F,KAAA0b,gBAAkB,IAAI9V,EAAAA,aAGvB5F,KAAA2b,aAAuB,EAEvB3b,KAAA4b,SAAmB,GACnB5b,KAAA6b,SAAmB,GACnB7b,KAAA8b,gBAA0B,GAE3B9b,KAAA+b,WAAqB,KACrB/b,KAAAgc,cAAwB,KACxBhc,KAAAic,WAAqB,KACrBjc,KAAAkc,cAAwB,KAyKpC,OAjKcd,EAAAlb,UAAAic,kBAAV,SAA4B7S,GACxB,OAAOA,EAAWnG,eAGtBiY,EAAAlb,UAAAwV,gBAAA,WAEI1V,KAAKoc,eAAiBpc,KAAKmc,kBAAkBnc,KAAKsJ,YAClDtJ,KAAKib,UAGTG,EAAAlb,UAAAiE,SAAA,WAAA,IAAArB,EAAA9C,KAEQA,KAAK4b,UACL5b,KAAKqb,qBAAqBP,OAAO9a,KAAK4b,UAG1C5b,KAAKqb,qBAAqBjB,cAAcxH,KAAKC,EAAAA,gBAAgB7S,OAAOyH,WAChE,SAAA4L,GAEIvQ,EAAKuZ,aAIbrc,KAAKqb,qBAAqBf,cAAc1H,KAAKC,EAAAA,gBAAgB7S,OAAOyH,WAC5D,SAAA4L,GACIvQ,EAAKwZ,cAIjBtc,KAAKqb,qBAAqBb,eAAe5H,KAAKC,EAAAA,gBAAgB7S,OAAOyH,WACjE,SAAA8U,GACI,IAAMxW,EAAOjD,EAAK+Y,SAAWU,EAASzZ,EAAK+Y,UAAY,CAACtT,OAAQ,EAAG2S,OAAQ,IACvEnV,GACIjD,EAAKiZ,aAAehW,EAAKwC,QACzBzF,EAAKkZ,gBAAkBjW,EAAKmV,SAGhCpY,EAAKiZ,WAAahW,EAAKwC,OACvBzF,EAAKkZ,cAAgBjW,EAAKmV,OAC1BpY,EAAKmY,cAMrBG,EAAAlb,UAAA8I,YAAA,WAEIhJ,KAAKwb,YAAa,EAClBxb,KAAKqb,qBAAqBL,OAAOhb,KAAK4b,WAGnCR,EAAAlb,UAAA+a,OAAP,WAAA,IAAAnY,EAAA9C,KACI,GAAwB,OAApBA,KAAK+b,YACoB,MAAtB/b,KAAKgc,cACZ,CAEI,IAAMQ,EAAexc,KAAKgc,cAAgBhc,KAAK2b,aAU/C,GATI3b,KAAKic,aAAejc,KAAK+b,YACzB/b,KAAKkc,gBAAkBM,IAGvBxc,KAAKic,WAAajc,KAAK+b,WACvB/b,KAAKkc,cAAgBM,EACrBxc,KAAKqc,WAGLrc,KAAK4b,UAAY5b,KAAKoc,eAAgB,CAEtC,IAAMK,EAAgBzc,KAAKoc,eAAehZ,wBAAgC,OAC1EJ,YAAW,WACTF,EAAKuY,qBAAqBJ,OAAOnY,EAAK8Y,SAAUa,EAAgB3Z,EAAKmZ,WAAYnZ,EAAKoZ,iBACrF,MAKPd,EAAAlb,UAAAmc,QAAR,WAEI,IAAKrc,KAAKwb,YAAcxb,KAAKoc,gBAGD,OAApBpc,KAAKic,YACoB,MAAtBjc,KAAKkc,cAAuB,CAC/B,IAAMQ,EAAS1U,OAAO0L,YAClBgJ,EAAS1c,KAAKsb,aAAetb,KAAKub,UAAYvb,KAAKoc,eAAehZ,wBAA6B,KAAKpD,KAAKic,WAEzGjc,KAAK2c,YACED,EAAS1c,KAAKsb,YAActb,KAAKub,UAAYmB,GAAU1c,KAAKkc,cAEnElc,KAAK4c,cAGD5c,KAAKub,UAAYmB,IAAW1c,KAAKsb,YACjCtb,KAAK0D,SAAS,MAAO1D,KAAKic,WAAa,MAI/Cjc,KAAKsb,WAAaoB,IAMtBtB,EAAAlb,UAAAyc,UAAR,WACS3c,KAAKub,WACNvb,KAAKub,UAAW,EAEhBvb,KAAK6c,YAAc,CACf5I,SAAUjU,KAAKoc,eAAerT,MAAMkL,SACpC9L,IAAKnI,KAAKoc,eAAeU,UACzBhV,UAAW9H,KAAKoc,eAAerT,MAAMjB,UACrCnE,KAAM3D,KAAKoc,eAAeW,YAE9B/c,KAAK0D,SAAS,WAAY,SAC1B1D,KAAK0D,SAAS,MAAO1D,KAAKic,WAAa,MACnCjc,KAAK8T,UACL9T,KAAK0D,SAAS,OAAQ1D,KAAK8T,SAAS1Q,wBAA8B,KAAI,MAE1EpD,KAAKgd,UAAS,GACdhd,KAAKyb,cAAcrV,OACnBpG,KAAKid,cAIH7B,EAAAlb,UAAA+c,UAAV,WAAA,IAAAna,EAAA9C,KACIgD,YAAW,WAAMF,EAAKmY,WAAU,IAG5BG,EAAAlb,UAAA0c,YAAR,WACQ5c,KAAKub,WACLvb,KAAKub,UAAW,EAChBvb,KAAK0D,SAAS,WAAY1D,KAAK6c,YAAY5I,UAC3CjU,KAAK0D,SAAS,YAAa1D,KAAK6c,YAAY/U,WAC5C9H,KAAK0D,SAAS,MAAO1D,KAAK6c,YAAY1U,IAAM,MACxCnI,KAAK8T,UACL9T,KAAK0D,SAAS,OAAQ1D,KAAK6c,YAAYlZ,KAAO,MAElD3D,KAAKgd,UAAS,GACdhd,KAAK0b,gBAAgBtV,OACrBpG,KAAKkd,mBAIH9B,EAAAlb,UAAAgd,eAAV,WAAA,IAAApa,EAAA9C,KACIgD,YAAW,WAAMF,EAAKmY,WAAU,IAG1BG,EAAAlb,UAAAoc,SAAV,aAEQlB,EAAAlb,UAAAwD,SAAR,SAAiBnD,EAAa2B,GAC1BlC,KAAKuQ,SAAS7M,SAAS1D,KAAKoc,eAAgB7b,EAAK2B,IAG7CkZ,EAAAlb,UAAA8c,SAAR,SAAiBnN,GACXA,EACF7P,KAAKuQ,SAAS2D,SAASlU,KAAKoc,eAAgBpc,KAAKmd,aAEjDnd,KAAKuQ,SAAS2E,YAAYlV,KAAKoc,eAAgBpc,KAAKmd,uDAjKxB5Y,EAAAA,kBAA8BH,EAAAA,iBAAyC6V,KAjB7F7Z,EAAA,CAATiG,EAAAA,sEACSjG,EAAA,CAATiG,EAAAA,wEAEQjG,EAAA,CAARoE,EAAAA,mEACQpE,EAAA,CAARoE,EAAAA,oEACQpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,uEAdQ4W,EAAehb,EAAA,CAJ3ByL,EAAAA,UAAU,CACPnH,SAAU,qCA0BsBH,EAAAA,WAA8BH,EAAAA,UAAyC6V,KAvB9FmB,oBCkBZ,SAAAgC,EAAoB/B,EAAmD3Y,GAAnD1C,KAAAqb,qBAAAA,EAAmDrb,KAAA0C,UAAAA,EAdhE1C,KAAAqd,cAAuB,EAErBrd,KAAA2b,aAAe,EAgDzB,OAlCCyB,EAAAld,UAAAwV,gBAAA,WAAA,IAAA5S,EAAA9C,KACCgD,YAAW,WACVF,EAAKwa,kBACJ,GACFtd,KAAKqb,qBAAqBf,cAAc1H,KAAKC,EAAAA,gBAAgB7S,OAAOyH,WACnE,SAAA4L,GACCvQ,EAAKya,wBAKAH,EAAAld,UAAAod,cAAR,WACKtd,KAAKqC,QAAQc,cAAciF,SAASzH,OAAS,EAChDX,KAAKqd,cAAgBrd,KAAKqC,QAAQc,cAAciF,SAAS,GAAGC,aAE5DsN,QAAQC,KAAK,gDAIRwH,EAAAld,UAAAoH,aAAP,SAAoBkW,GAApB,IAAA1a,EAAA9C,UAAoB,IAAAwd,IAAAA,GAAA,GACnBxa,YAAW,WACVF,EAAKwa,gBACLxa,EAAK2a,QAAQxC,WACZ,IAGImC,EAAAld,UAAAqd,kBAAP,WACGvd,KAAK0C,UAAUgB,SAAS1D,KAAK0d,UAAUva,cAAe,QAAYnD,KAAKqC,QAAQc,cAAcgI,YAAW,OAG3GiS,EAAAld,UAAA8I,YAAA,sDAhC0CiR,SAAwC7V,EAAAA,aAZzEhE,EAAA,CAARoE,EAAAA,oEACqBpE,EAAA,CAArBoE,EAAAA,MAAM,0EAEapE,EAAA,CAAnBoE,EAAAA,MAAM,sEAEEpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,gEAE8CpE,EAAA,CAA9CiE,EAAAA,UAAU,iBAAkB,CAAEC,QAAQ,oBAAiBC,EAAAA,2CACdnE,EAAA,CAAzCiE,EAAAA,UAAU,YAAa,CAAEC,QAAQ,oBAAmBC,EAAAA,6CACPnE,EAAA,CAA7CiE,EAAAA,UAAU+W,GAAiB,CAAE9W,QAAQ,oBAAiB8W,mCAd3CgC,EAAehd,EAAA,CAL3BqE,EAAAA,UAAU,CACVC,SAAU,UACVC,SAAA,0dAmB0CsV,EAAwC7V,EAAAA,aAhBtEgZ,oBCWb,SAAAO,WAUA,SAVaA,EACFA,EAAAC,QAAP,WACI,MAAO,CACHC,SAAUC,EACVzY,UAAkB,CACd4U,KALH0D,EAAYG,EAAA1d,EAAA,CAfxB4E,EAAAA,SAAS,CACNC,QAAS,CACL8Y,EAAAA,qBAEJ5Y,aAAc,CACViY,GACAhC,IAEJhW,QAAS,CACLgY,GACAhC,IAEJ/V,UAAW,MAGFsY,oBCFT,SAAAK,IANMhe,KAAAie,YAAsB,EAIlBje,KAAAke,UAAY,IAAItY,EAAAA,aAS9B,OAJCoY,EAAA9d,UAAAie,UAAA,SAAUC,GACTpe,KAAKke,UAAU9X,KAAKgY,IAdZhe,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,+DACQpE,EAAA,CAARoE,EAAAA,4DACQpE,EAAA,CAARoE,EAAAA,gEACQpE,EAAA,CAARoE,EAAAA,mEACQpE,EAAA,CAARoE,EAAAA,wBAAkB4K,EAAAA,6CAGNhP,EAAA,CAATiG,EAAAA,kEAVQ2X,EAAY5d,EAAA,CALxBqE,EAAAA,UAAU,CACPC,SAAU,OACVC,SAAA,oxCAGSqZ,MCYPK,GAAIC,gBAoCN,SAAAC,IA1BOve,KAAAwe,UAAoB,EAIrBxe,KAAAye,eAAyB,EACzBze,KAAA0e,WAAqB,EAErB1e,KAAA2e,cAAwB,YAIpB3e,KAAA4e,YAAc,IAAIhZ,EAAAA,aAClB5F,KAAA6e,YAAc,IAAIjZ,EAAAA,aACrB5F,KAAA8e,aAAe,IAAIlZ,EAAAA,aAQtB5F,KAAA0G,WAAqB,EAErB1G,KAAA+e,oBAA8B,EAC9B/e,KAAAgf,qBAA+B,EA+EvC,OAzECT,EAAAre,UAAA8G,eAAA,WACChH,KAAKif,iBAGLV,EAAAre,UAAAgf,YAAA,SAAY1X,GAAZ,IAAA1E,EAAA9C,KACQwH,EAAc,OACZxH,KAAKmf,eAAiBxf,MAAMyf,QAAQpf,KAAK+F,OACzC/F,KAAK+F,KAAKsZ,MAAK,SAACC,EAAG/f,GAAM,OAAAggB,OAAOhgB,EAAEuD,EAAKqc,gBAAkB,GAAKI,OAAOD,EAAExc,EAAKqc,gBAAkB,MAGlGnf,KAAKif,kBAIZV,EAAAre,UAAAwV,gBAAA,WAAA,IAAA5S,EAAA9C,KACCA,KAAKwf,iBAAmBxf,KAAKyf,SAASjY,QAAQC,WAAU,SAACiY,GAExD5c,EAAKgc,aAAa1Y,KAAK,CAACuZ,UAAY7c,EAAKiD,KAAOjD,EAAKiD,KAAKpF,OAAS,IACnEmC,EAAKmc,oBAIPV,EAAAre,UAAA8I,YAAA,WACKhJ,KAAKwf,mBACRxf,KAAKwf,iBAAiBvW,cACtBjJ,KAAKwf,iBAAmB,OAIvBjB,EAAAre,UAAAie,UAAA,SAAUC,GACTpe,KAAK4e,YAAYxY,KAAKgY,IAGvBG,EAAAre,UAAA0f,SAAA,WACC5f,KAAK6e,YAAYzY,QAGrBmY,EAAAre,UAAA+e,cAAA,WAAA,IAAAnc,EAAA9C,KAEKA,KAAK2H,0BACRC,cAAc5H,KAAK2H,yBACnB3H,KAAK2H,wBAA0B,MAEhC3H,KAAK2H,wBAA0B3E,YAAW,WACrCF,EAAKiD,MAAQjD,EAAKiD,KAAKpF,QAAUmC,EAAK+c,WACzC/c,EAAK4D,UAAY5D,EAAK+c,SAAS1c,cAAciI,YAAetI,EAAK+c,SAAS1c,cAAcC,wBAAwBC,MAAQ,GAEzHP,EAAK6E,wBAA0B,OAC9B,MAGH4W,EAAAre,UAAA4f,OAAA,SAAOhX,GAAP,IAAAhG,EAAA9C,KACO+f,EAAkB/f,KAAK6f,SAAS1c,cAAcC,wBAAwBC,MACtE2c,EAAchgB,KAAK6f,SAAS1c,cAAciI,YAChD,GAAkB,UAAdtC,EAAsB,CACzB,IAAMmX,EAAmBjgB,KAAK6f,SAAS1c,cAAc+c,WAAaH,EAClE1B,GAAEre,KAAK6f,SAAS1c,eAAegd,QAAQ,CAACD,WAAYD,GAAmB,KAAK,WAC3End,EAAKic,oBAAqB,EACrBjc,EAAK+c,SAAS1c,cAAc+c,WAAaH,GAAqBC,EAAY,IAC9Eld,EAAKkc,qBAAsB,UAGzB,CACEiB,EAAmBjgB,KAAK6f,SAAS1c,cAAc+c,WAAaH,EAClE1B,GAAEre,KAAK6f,SAAS1c,eAAegd,QAAQ,CAACD,WAAYD,GAAmB,KAAK,WAC3End,EAAKkc,qBAAsB,EACvBlc,EAAK+c,SAAS1c,cAAc+c,YAAc,IAC7Cpd,EAAKic,oBAAqB,QAlGpB3e,EAAA,CAARoE,EAAAA,2DACQpE,EAAA,CAARoE,EAAAA,iEACQpE,EAAA,CAARoE,EAAAA,kEACOpE,EAAA,CAARoE,EAAAA,oEACQpE,EAAA,CAARoE,EAAAA,qEACQpE,EAAA,CAARoE,EAAAA,sEACQpE,EAAA,CAARoE,EAAAA,kEACQpE,EAAA,CAARoE,EAAAA,6DACQpE,EAAA,CAARoE,EAAAA,qEAEmDpE,EAAA,CAAnD8I,EAAAA,gBAAgBkG,EAAAA,YAAa,CAACC,aAAa,oBAA0BlG,EAAAA,4CAEzD/I,EAAA,CAATiG,EAAAA,oEACSjG,EAAA,CAATiG,EAAAA,oEACMjG,EAAA,CAATiG,EAAAA,qEAEyCjG,EAAA,CAAzCiE,EAAAA,UAAU,WAAY,CAAEC,QAAQ,oBAAmBC,EAAAA,4CAGpDnE,EAAA,CADCggB,EAAAA,aAAapC,oBACI7U,EAAAA,2CAYlB/I,EAAA,CADCgJ,EAAAA,aAAa,gBAAiB,0HAhCnBmV,EAAane,EAAA,CALzBqE,EAAAA,UAAU,CACPC,SAAU,QACVC,SAAA,6tEAGS4Z,oBCNb,SAAA8B,KAAyB,OAAZA,EAAUjgB,EAAA,CAftB4E,EAAAA,SAAS,CACNC,QAAS,CACLC,EAAAA,cAEJC,aAAc,CACVoZ,GACAP,IAEJ5Y,QAAS,CACLmZ,GACAP,IAEJ3Y,UAAW,MAGFgb,MCjBAC,GAAW,IAAIC,OAAO,6GAA6G,KAGlIC,GAAe,IAAID,OAAO,yGAAyG,KACpIE,GAAU,IAAIF,OAAO,2GAA4G,mBAc9I,SAAAG,KAkCA,OA7BWA,EAAAC,GAAP,SAAUtS,GACN,OAAKA,EAAQnM,OAAUmM,EAAQnM,MAAMvB,OAC9B8f,GAAQG,KAAKvS,EAAQnM,OAAS,KAAO,CAACye,IAAM,GADC,MAOjDD,EAAAG,IAAP,SAAWxS,GACP,OAAKA,EAAQnM,OAAUmM,EAAQnM,MAAMvB,OAC9B2f,GAASM,KAAKvS,EAAQnM,OAAS,KAAO,CAAC2e,KAAO,GADD,MAOjDH,EAAAI,QAAP,SAAezS,GACX,OAAKA,EAAQnM,OAAUmM,EAAQnM,MAAMvB,OAC9B6f,GAAaI,KAAKvS,EAAQnM,OAAS,KAAO,CAAC2e,KAAO,GADL,MAQjDH,EAAAK,WAAP,SAAkBF,GACd,OAAOP,GAASM,KAAKC,IAG7BH,MlCtCYte,EAAAA,EAAAA,sBAAAA,EAAAA,oBAAmB,KAE3BA,EAAA,mBAAA,GAAA,qBACAA,EAAAA,EAAA,iBAAA,GAAA,mBACAA,EAAAA,EAAA,oBAAA,GAAA,0BmCrBQ4e,iBnC+BX,SAAAC,EAAYC,GANDlhB,KAAAmhB,SAAgD,GAChDnhB,KAAAohB,cAAmD,IAAI5O,EAAAA,gBAAkC,IACzFxS,KAAAqhB,YAAa,EACdrhB,KAAAshB,cAAgBthB,KAAKohB,cAAczO,eAI5C3S,KAAKuhB,QAAUL,EAASA,EAAOM,UAAU,kBAAoB,IAAIC,EAAAA,YAsKnE,OAnKIjiB,OAAAyB,eAAWggB,EAAA/gB,UAAA,eAAY,KAAvB,WACI,OAAOF,KAAKohB,cAAc5L,4CAG9BhW,OAAAyB,eAAWggB,EAAA/gB,UAAA,YAAS,KAApB,WACI,OAAOF,KAAKqhB,4CAGTJ,EAAA/gB,UAAAwhB,mBAAP,SAA0BC,GACtB,IAAMC,EAAsB5hB,KAAKohB,cAAc5L,WAE1CmM,GAAmBA,EAAephB,KAGnCP,KAAKuhB,QAAQM,KAAK,6BAA6BF,EAAephB,IAAG,yBAA0BohB,GAC3FC,EAAoBD,EAAephB,KAAOohB,EAC1C3hB,KAAKohB,cAAcrf,KAAK6f,IAJxB5hB,KAAKuhB,QAAQ3L,KAAK,qEASnBqL,EAAA/gB,UAAA4hB,gBAAP,SAAuBC,GAAvB,IAAAjf,EAAA9C,KAEQ+hB,GAEAA,EAAQ5a,SAAQ,SAAA6a,GAIZ,GAFiClf,EAAKqe,SAAS3S,MAAK,SAAAyT,GAAoB,OAAAA,IAAqBD,GAAUC,EAAiB1hB,MAAQyhB,EAAOzhB,OAInI,MAAM,IAAIwa,MAAM,sBAAsBiH,EAAOzhB,IAAG,uEAEhDuC,EAAKye,QAAQM,KAAK,6BAA6BG,EAAOzhB,IAAG,2CACzDyhB,EAAOE,SAASpf,GAChBA,EAAKqe,SAASlf,KAAK+f,OAO5Bf,EAAA/gB,UAAAiiB,kBAAP,SAAyBC,GACrBpiB,KAAKuhB,QAAQM,KAAK,2DAA2DO,EAAM,KAEnFpiB,KAAKmhB,SAASkB,QAAO,SAAAL,GAAU,OAAAA,EAAOM,YAAUnb,SAAQ,SAAA6a,GACpDA,EAAOO,YAGXviB,KAAKmhB,SAASha,SAAQ,SAAA6a,GAClBA,EAAOQ,mBAAmBJ,OAI3BnB,EAAA/gB,UAAAuiB,iBAAP,SAAwB1c,EAAa2c,GAEjC1iB,KAAKuhB,QAAQM,KAAK,yCAClB,IAAMrV,EAAmB,GAczB,OAbAxM,KAAKqhB,WAAaqB,EAASC,UAC3B3iB,KAAKuhB,QAAQM,KAAK,qCAAoC7hB,KAAKqhB,WAAa,MAAQ,YAAU,WAC1FrhB,KAAKmhB,SAASha,SAAQ,SAAA6a,GAElB,IACIA,EAAOY,kBAAkB7c,GACzBic,EAAOa,WACV,MAAMjhB,GAEH4K,EAAOvK,KAAKL,OAIb,CAAE4K,OAAMA,IAGXyU,EAAA/gB,UAAA4iB,qBAAR,SAA6BC,EAAgBC,EAAmBC,GAAhE,IAAAngB,EAAA9C,KACUwM,EAAkB,GAYxB,OAXgBxM,KAAKqhB,WAAarhB,KAAKmhB,SAAWnhB,KAAKmhB,SAASkB,QAAO,SAAAL,GAAU,OAAAA,EAAOM,aAChFnb,SAAQ,SAAA6a,GACZ,IACIlf,EAAKye,QAAQM,KAAK,6BAA6BG,EAAOzhB,IAAG,iCACzDyhB,EAAOkB,kBAAkBH,EAASC,EAASC,GAC7C,MAAOE,GACLrgB,EAAKye,QAAQpf,MAAM,6BAA6B6f,EAAOzhB,IAAG,8DAA+D4iB,GACzH3W,EAAOvK,KAAKkhB,OAIb,CAAC3W,OAAMA,IAGXyU,EAAA/gB,UAAAkjB,iBAAP,SAAwBL,EAAgBC,EAAmBC,GAA3D,IAAAngB,EAAA9C,KAEIA,KAAKuhB,QAAQM,KAAK,yCAElB,IAAMwB,IAAyBrjB,KAAKmhB,SAAS3S,MAAK,SAAAwT,GAAU,OAAAA,EAAOsB,YAActB,EAAOuB,UAExF,OAAOC,EAAAA,WAAWC,GAAGJ,EACjB,CACIK,OAAO,EACPzO,OAAQ7S,EAAAA,oBAAoBuhB,oBAC5B,CAACD,OAAO,IACX9Q,KAAKC,EAAAA,gBAAgB7S,OACrB4jB,SAAQ,SAAAC,GACL,OAAIA,EAASH,MACF5gB,EAAKghB,mBACPC,OAAM,SAAC5hB,EAAO6hB,GAAW,OAAAR,EAAAA,WAAWC,GAAG,CAACQ,SAAS,OACjDC,KAAI,SAAAL,GAAY,OAAAA,EAASI,QAAU,CAACP,OAAO,GAAQ,CAChDA,OAAO,EACPzO,OAAQ7S,EAAAA,oBAAoB+hB,qBAG7BX,EAAAA,WAAWC,GAAGI,MAG5BK,KAAI,SAAAL,GACD,GAAIA,EAASH,MAAO,CAChB,IAAMU,EAActhB,EAAKggB,qBAAqBC,EAASC,EAASC,GAEhE,OAAkC,IAA9BmB,EAAY5X,OAAO7L,OACZ,CAAC+iB,OAAO,EAAMzO,OAAQ,MAGtB,CACHyO,OAAO,EACPzO,OAAQ7S,EAAAA,oBAAoBiiB,oBAC5B7X,OAAQ4X,EAAY5X,QAI5B,OAAOqX,MAKf5C,EAAA/gB,UAAA4jB,iBAAR,WAAA,IAAAhhB,EAAA9C,KAEUskB,GADUtkB,KAAKqhB,WAAarhB,KAAKmhB,SAAWnhB,KAAKmhB,SAASkB,QAAO,SAAAL,GAAU,OAAAA,EAAOM,aACzD4B,KAAI,SAAAlC,GAC/B,OAAOA,EAAOuC,YACT3R,KAAKC,EAAAA,gBAAgB/P,IACrBihB,OAAM,SAACZ,EAAKa,GAAW,OAAAR,EAAAA,WAAWC,GAAG,CAACQ,SAAS,UAGxD,OAAIK,EAAe3jB,OACR6iB,EAAAA,WAAWgB,SAAQC,MAAnBjB,EAAAA,WD1CZ,WACH,IAAK,IAAI1hB,EAAK,GAAId,EAAI,EAAGA,EAAIN,UAAUC,OAAQK,IAC3Cc,EAAKA,EAAG4iB,OAAOpjB,EAAOZ,UAAUM,KACpC,OAAOc,ECuCkB6iB,CAAaL,IAAgBJ,KAAI,SAAAU,GAC9C,OAAOA,EAAUpW,MAAK,SAAAqV,GAAY,OAACA,EAASI,YAAY,CAACA,SAAS,MAG/DT,EAAAA,WAAWC,GAAG,CAACQ,SAAS,KAIvChD,EAAA/gB,UAAA8I,YAAA,WACIhJ,KAAKmhB,SAASha,SAAQ,SAAA6a,GAElBA,EAAO6C,aAGX7kB,KAAKuhB,QAAQ3L,KAAK,sDAClB5V,KAAKohB,cAAcvL,YAK3BoL,mBoC1KI,SAAA6D,EAAoBC,EAAe7D,GAE/B,GAFgBlhB,KAAA+kB,KAAAA,EAPZ/kB,KAAAglB,sBAAuC,KAGvChlB,KAAAilB,YAAoC,IAAIC,EAAAA,cAAqB,GAC9DllB,KAAAmlB,MAAQnlB,KAAKilB,YAAYtS,eAaxB3S,KAAAolB,aAA6B,CAAC7kB,IAAKP,KAAKO,IAAK0jB,SAAS,EAAMoB,SAAS,EAAO/B,YAAY,EAAOC,QAAS,EAAOjB,UAAW,EAAQgD,cAAe,GASjJtlB,KAAAulB,aAA8B,IAAIpL,EAAAA,QACnCna,KAAAwlB,aAAexlB,KAAKulB,aAAa5S,gBAlB/BoS,EAED,MAAM,IAAIhK,MAAM,wEAAwE/a,MAG/FA,KAAKuhB,QAAUL,EAASA,EAAOM,UAAU,WAAWuD,GAAU,IAAItD,EAAAA,YA2NvE,OA/OIjiB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,OAAI,KAAf,WACI,OAAOF,KAAKgG,uCA0BN8e,EAAA5kB,UAAAulB,aAAV,SAAuB1C,EAAgBC,EAAmBC,KAQ1DzjB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,eAAY,KAAvB,WACI,OAAOF,KAAKolB,aAAaE,8CAG7B9lB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,UAAO,KAAlB,WACI,OAAOF,KAAKolB,aAAanB,yCAG7BzkB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,UAAO,KAAlB,WACI,OAAOF,KAAKolB,aAAaC,yCAG7B7lB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,WAAQ,KAAnB,WACI,OAAOF,KAAKolB,aAAa9C,0CAG7B9iB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,aAAU,KAArB,WACI,OAAOF,KAAKolB,aAAa9B,4CAG7B9jB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,SAAM,KAAjB,WACI,OAAOF,KAAKolB,aAAa7B,wCAG7B/jB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,MAAG,KAAd,WAEI,OAAOF,KAAK+kB,sCAGhBvlB,OAAAyB,eAAW6jB,EAAA5kB,UAAA,YAAS,KAApB,WACI,OAAOF,KAAK+O,KAAK4T,2CAGXmC,EAAA5kB,UAAAwlB,WAAV,SAAqBJ,GACjB,OAAO9B,EAAAA,WAAWC,GAAG,CAACQ,SAAS,KAGzBa,EAAA5kB,UAAAylB,YAAV,SAAsBC,GAClB5lB,KAAK6lB,aAAaD,IAGdd,EAAA5kB,UAAA2lB,aAAR,SAAqBD,GAArB,IAAA9iB,EAAA9C,KAMI,GAJAA,KAAK8lB,oBAEmBtmB,OAAOumB,KAAKH,GAAaI,QAAO,SAAC5Y,EAAQ6Y,GAAiB,OAAA7Y,GAAUtK,EAAKsiB,aAAaa,KAAkBL,EAAYK,MAAe,KAGvJzmB,OAAO0mB,OAAOlmB,KAAKolB,aAAcQ,GAE7B5lB,KAAK+O,MAAM,CACX,IAAM4S,EAAiBniB,OAAO0mB,OAAO,GAAIlmB,KAAKolB,cAC9CplB,KAAK+O,KAAK2S,mBAAmBC,KAK/BmD,EAAA5kB,UAAAimB,aAAV,SAAuBpgB,KAGb+e,EAAA5kB,UAAAkmB,cAAV,SAAwBhE,KAKd0C,EAAA5kB,UAAAmmB,WAAV,SAAqBC,KAGdxB,EAAA5kB,UAAAgiB,SAAP,SAAgBqE,GACZvmB,KAAK+O,KAAOwX,GAGTzB,EAAA5kB,UAAAsiB,mBAAP,SAA0BJ,GACtBpiB,KAAK8lB,oBACL9lB,KAAK8F,SAAS,MACd9F,KAAKomB,cAAchE,IAGf0C,EAAA5kB,UAAA4F,SAAR,SAAiBC,GACb/F,KAAKgG,MAAQD,EACb/F,KAAKilB,YAAYljB,KAAKgE,IAGnB+e,EAAA5kB,UAAA0iB,kBAAP,SAAyB7c,GACrB/F,KAAK8lB,oBACL9lB,KAAK8F,SAASC,GACd/F,KAAKmmB,aAAapgB,IAGf+e,EAAA5kB,UAAAqkB,UAAP,WAAA,IAAAzhB,EAAA9C,KAII,OAFAA,KAAK8lB,oBAEE9lB,KAAK0lB,WAAW1lB,KAAKslB,cACvBkB,IACG,SAAA3C,GACyBA,EAASI,UAAYnhB,EAAKsiB,aAAanB,UAGxDnhB,EAAKye,QAAQM,KAAK,oBAAoB/e,EAAKvC,IAAG,wFAAuFsjB,EAASI,QAAU,QAAU,WAAS,KAC3KnhB,EAAK6iB,YAAY,CAAC1B,QAASJ,EAASI,eAMjDa,EAAA5kB,UAAAgjB,kBAAP,SAAyBH,EAAgBC,EAAmBC,GAExDjjB,KAAK8lB,oBACL9lB,KAAKylB,aAAa1C,EAASC,EAASC,IAGjC6B,EAAA5kB,UAAAqiB,OAAP,WACIviB,KAAK8lB,oBAEL9lB,KAAKuhB,QAAQM,KAAK,oBAAoB7hB,KAAKO,IAAG,mBAE1CP,KAAKglB,wBAELhlB,KAAKglB,sBAAsB/b,cAC3BjJ,KAAKglB,sBAAwB,MAGjChlB,KAAKulB,aAAaxjB,KAAK,IACvB/B,KAAK6lB,aAAa,CAAE5B,SAAS,EAAMoB,SAAS,EAAO/C,UAAW,EAAOiB,QAAQ,IAC7EvjB,KAAKymB,WAGD3B,EAAA5kB,UAAA4lB,kBAAR,WACI,IAAI9lB,KAAK+O,KAGL,MADA/O,KAAKuhB,QAAQpf,MAAM,oBAAoBnC,KAAKO,IAAG,gIACzC,IAAIwa,MAAM,qDAAsD/a,KAAKO,IAAG,sCAI/EukB,EAAA5kB,UAAA2iB,SAAP,WAAA,IAAA/f,EAAA9C,KAII,GAFAA,KAAK8lB,oBAED9lB,KAAK+F,MAAQ/F,KAAKsjB,aAAetjB,KAAKsiB,SAAU,CAEhDtiB,KAAKuiB,SAEL,IAAMmE,EAAiB,CACrBpB,aAAetlB,KAAKslB,cAGtBtlB,KAAKuhB,QAAQM,KAAK,oBAAoB7hB,KAAKO,IAAG,uCAAuCmmB,EAAepB,aAAY,KAChH,IAAMqB,EAAY3mB,KAAKqmB,YAAYrmB,KAAKslB,cACxCtlB,KAAK6lB,aAAa,CAAEvD,UAAW,EAAMgD,cAAe,IAEhDqB,aAAqBnD,EAAAA,aACrBxjB,KAAKuhB,QAAQM,KAAK,oBAAoB7hB,KAAKO,IAAG,kFAC9CP,KAAKglB,sBAAwB2B,EACxB5C,OAAM,SAAC5hB,EAAO6hB,GAAW,OAAAR,EAAAA,WAAWC,GAAG,CAACmD,QAAQ,EAAMzkB,MAAKA,OAC3DsF,WACG,SAAAoc,GACQA,GAAYA,EAAS+C,QACrB9jB,EAAKye,QAAQM,KAAK,oBAAoB/e,EAAKvC,IAAG,sDAAsDsmB,KAAKC,UAAUJ,GAAe,KAClI5jB,EAAK+iB,aAAa,CAAEvD,UAAW,EAAOgD,aAAeoB,EAAepB,gBAEpExiB,EAAKye,QAAQM,KAAK,oBAAoB/e,EAAKvC,IAAG,2CAGtD,WACIuC,EAAKkiB,sBAAwB,QAEjC,WACIliB,EAAKkiB,sBAAwB,WAM9CF,EAAA5kB,UAAA6mB,WAAP,WACI/mB,KAAK8lB,oBAED9lB,KAAKsjB,WACLtjB,KAAKuhB,QAAQ3L,KAAK,6BAA6B5V,KAAKO,IAAG,sIAEvDP,KAAKuhB,QAAQM,KAAK,oBAAoB7hB,KAAKO,IAAG,uBAC9CP,KAAK6lB,aAAa,CAACvC,YAAY,IAC/BtjB,KAAK6iB,aAINiC,EAAA5kB,UAAA8mB,WAAP,WAEIhnB,KAAK8lB,oBAEA9lB,KAAKsjB,YAGNtjB,KAAKuhB,QAAQM,KAAK,oBAAoB7hB,KAAKO,IAAG,uBAC9CP,KAAK6lB,aAAa,CAACvC,YAAY,KAH/BtjB,KAAKuhB,QAAQ3L,KAAK,6BAA6B5V,KAAKO,IAAG,mIAO/DukB,EAAA5kB,UAAA2kB,QAAA,WACI7kB,KAAKuiB,SACLviB,KAAKulB,aAAa1P,YAG1BiP,mBChPC,SAAAmC,EAAoB3d,GAAAtJ,KAAAsJ,WAAAA,EALXtJ,KAAAqiB,OAAiB,GACjBriB,KAAAkM,eAAyB,EAExBlM,KAAAknB,eAAiB,IAAIthB,EAAAA,aA2BhC,OArBQqhB,EAAA/mB,UAAA8R,KAAP,SAAYqB,GAEPA,IAEHA,EAAMqB,kBACNrB,EAAM8T,kBAEPnnB,KAAKsJ,WAAWnG,cAAcikB,kBAAkBllB,MAAQ,GACxDlC,KAAKsJ,WAAWnG,cAAcikB,kBAAkBC,SAG1CJ,EAAA/mB,UAAAonB,iBAAP,SAAwBjU,GACnBA,EAAMkU,cAAcC,OAASnU,EAAMkU,cAAcC,MAAM7mB,QAE1DX,KAAKknB,eAAe9gB,KAAKiN,EAAMkU,cAAcC,QAI/CP,EAAA/mB,UAAAiE,SAAA,sDAtBgCI,EAAAA,cALvBnE,EAAA,CAARoE,EAAAA,8DACQpE,EAAA,CAARoE,EAAAA,sEAESpE,EAAA,CAATiG,EAAAA,uEALW4gB,EAAmB7mB,EAAA,CAL/BqE,EAAAA,UAAU,CACVC,SAAU,cACVC,SAAA,gOAUgCJ,EAAAA,cAPpB0iB,MCLPQ,GAASC,gBAQX,SAAAC,KAgCJ,OA9BIA,EAAAznB,UAAA0nB,UAAA,SAAUC,EAAcC,GACpB,GAAID,EAAM,CAKN,OAJKC,IACDA,EAAS,eAGLA,GACJ,IAAK,WACDA,EAAS,WACT,MACJ,IAAK,WACDA,EAAS,QACT,MACJ,IAAK,cACDA,EAAS,iBACT,MACJ,IAAK,eACDA,EAAS,eAOjB,OAAOL,GAAOI,GAAMC,OAAOA,GAG3B,MAAO,IA/BNH,EAAQvnB,EAAA,CAHpB2nB,EAAAA,KAAK,CACFC,KAAM,qCAEGL,oBCIb,SAAAM,IAEYjoB,KAAAkoB,MAAQ,CACZ,QACA,KACA,KACA,KACA,KACA,MAeR,OAZID,EAAA/nB,UAAA0nB,UAAA,SAAUO,EAAmBC,GACzB,QADM,IAAAD,IAAAA,EAAA,QAAmB,IAAAC,IAAAA,EAAA,GACpBC,MAAOC,WAAYC,OAAOJ,OAAeK,SAAUL,GAAU,MAAO,MAIzE,IAFA,IAAIM,EAAO,EAEHN,GAAS,MACbA,GAAS,KACTM,IAGJ,OAAON,EAAMO,SAAWN,GAAc,IAAMpoB,KAAKkoB,MAAOO,IArBnDR,EAAY7nB,EAAA,CADxB2nB,EAAAA,KAAK,CAACC,KAAM,eACAC,oBCJX,SAAAU,EAAoBC,EAAwBrY,GAAxBvQ,KAAA4oB,GAAAA,EAAwB5oB,KAAAuQ,SAAAA,EAFpCvQ,KAAA6oB,YAAa,EAiBvB,OAZEF,EAAAzoB,UAAAwV,gBAAA,WAAA,IAAA5S,EAAA9C,KACMA,KAAK6oB,YACP7lB,YAAW,WACTF,EAAKyN,SAASuY,kBAAkBhmB,EAAK8lB,GAAGzlB,eAAe4lB,YAM7DvpB,OAAAyB,eAAI0nB,EAAAzoB,UAAA,iBAAc,KAAlB,SAAmB8oB,GACjBhpB,KAAK6oB,WAAaG,4EAbIzkB,EAAAA,kBAA8BH,EAAAA,aAYtDhE,EAAA,CADCoE,EAAAA,sGAdUmkB,EAAkBvoB,EAAA,CAH9ByL,EAAAA,UAAU,CACTnH,SAAU,wCAKcH,EAAAA,WAA8BH,EAAAA,aAH3CukB,OLLD3H,GAAAA,EAAAA,eAAAA,EAAAA,aAAY,KAEvBA,GAAA,KAAA,GAAA,OACAA,GAAAA,GAAA,MAAA,GAAA,0BAED,SAAAiI,KASA,OARQA,EAAAC,cAAP,WAEE,OAAMlhB,OAA6B,sBAAO1E,SAAuB,aACzD0d,EAAAA,aAAamI,KAEbnI,EAAAA,aAAaoI,OAGxBH,mBMTC,SAAAI,EAAoBC,GAAAtpB,KAAAspB,UAAAA,EAIrB,OAHCD,EAAAnpB,UAAA0nB,UAAA,SAAU/G,GACT,OAAO7gB,KAAKspB,UAAUC,+BAA+B1I,6CAFvB2I,EAAAA,gBADnBH,EAAQjpB,EAAA,CADpB2nB,EAAAA,KAAK,CAAEC,KAAM,gCAEkBwB,EAAAA,gBADnBH,oBCDb,SAAAI,KAgBA,OAfEA,EAAAvpB,UAAA0nB,UAAA,SAAU1lB,GACX,GAAqB,iBAAVA,EACV,OAAOA,EAEP,IAAIwnB,EAAgBlhB,KAAKmhB,MAAOnhB,KAAKgO,MAAOtU,GAAU,MAClD0nB,EAAkBphB,KAAKmhB,MAASnhB,KAAKgO,MAAOtU,GAAU,GAAO,IAC7D2nB,EAAkBrhB,KAAKgO,MAAMtU,GAAS,GAM1C,OAJiC,IAAVwnB,EAAc,GAAKA,EAAMI,WAAa,MACxB,IAAZF,GAA2B,IAAVF,EAAc,KAAOE,EAAU,GAAM,IAAMA,EAAQE,WAAaF,EAAQE,YAGnF,KAFND,EAAU,GAAM,IAAMA,EAAQC,WAAaD,EAAQC,aAXjEL,EAAQrpB,EAAA,CADpB2nB,EAAAA,KAAK,CAACC,KAAM,WACAyB,oBCIT,SAAAM,KAQJ,OANIA,EAAA7pB,UAAA0nB,UAAA,SAAUoC,GAIN,OAHIA,EAAIC,MAAM,MAAMtpB,OAAS,GAAKqpB,EAAIC,MAAM,QAAQtpB,OAASqpB,EAAIC,MAAM,MAAMtpB,SACzEqpB,EAAMA,EAAIC,MAAM,MAAMC,KAAK,SAExBF,GARFD,EAAa3pB,EAAA,CAHzB2nB,EAAAA,KAAK,CACFC,KAAM,0CAEG+B,oBCGX,SAAAI,EAAoBC,GAAApqB,KAAAoqB,IAAAA,EAMtB,OAHSD,EAAAjqB,UAAAmqB,YAAP,WACErqB,KAAKoqB,IAAIjnB,cAAcyQ,UAAY,4CAJZrP,EAAAA,cADd4lB,EAA6B/pB,EAAA,CALzCqE,EAAAA,UAAU,CACTC,SAAU,wBACVC,SAAU,oCACD,qDAGgBJ,EAAAA,cADd4lB,oBCkCb,SAAAG,KAA8B,OAAjBA,EAAelqB,EAAA,CA7B3B4E,EAAAA,SAAS,CACNC,QAAS,CACLC,EAAAA,cAEJC,aAAc,CACVkkB,GACAI,GACDxC,GACC7O,EACAuP,GACAM,GACA8B,GACApB,GACAwB,IAEJ/kB,QAAS,CACLqkB,GACAJ,GACDpC,GACC7O,EACAuP,GACAM,GACA8B,GACApB,GACAwB,IAEJ9kB,UAAW,MAGFilB,oBCfX,SAAAC,IALOvqB,KAAAwqB,YAAc,GAErBxqB,KAAAyqB,SAAW,SAACvoB,KACZlC,KAAA0qB,UAAY,mBAmDd,SA5DaH,EAcXA,EAAArqB,UAAAiE,SAAA,WACEnE,KAAK2qB,oBAAsB3qB,KAAKgM,QAAQ4e,WAAU,SAAAC,GAAU,OAAAA,EAAOC,cACnE9qB,KAAK2qB,qBAAmD,GAA7B3qB,KAAK2qB,oBAA4B,EAAI3qB,KAAK2qB,oBACrE3qB,KAAK+qB,aAAe/qB,KAAKgM,QAAQhM,KAAK2qB,qBAAqB7mB,OAI7DymB,EAAArqB,UAAA8qB,oBAAA,WAEE,OAAO,KAAOhrB,KAAKgM,QAAQrL,OAAS,IAAMX,KAAK2qB,qBAAuB,EAAI3qB,KAAK2qB,oBAAsB,IAIvGJ,EAAArqB,UAAA+qB,cAAA,SAAcriB,GACR5I,KAAK2qB,oBAAsB,IAC7B3qB,KAAKgM,QAAQhM,KAAK2qB,qBAAqBG,YAAa,GAGtD9qB,KAAKgM,QAAQpD,GAAOkiB,YAAa,EAEjC9qB,KAAK+qB,aAAe/qB,KAAKgM,QAAQpD,GAAO9E,MACxC9D,KAAK2qB,oBAAsB/hB,EAE3B5I,KAAK0qB,YACL1qB,KAAKyqB,SAASzqB,KAAKgM,QAAQpD,GAAO1G,QAKpCqoB,EAAArqB,UAAAgrB,WAAA,SAAWhpB,GACT,IAAMipB,EAAmBnrB,KAAKgM,QAAQ4e,WAAU,SAAAC,GAAU,OAAAA,EAAO3oB,OAASA,MAChD,IAAtBipB,GACFnrB,KAAKirB,cAAcE,IAMvBZ,EAAArqB,UAAAkrB,iBAAA,SAAiBC,GACfrrB,KAAKyqB,SAAWY,GAIlBd,EAAArqB,UAAAorB,kBAAA,SAAkBD,GAChBrrB,KAAK0qB,UAAYW,GAzDVjrB,EAAA,CAARoE,EAAAA,wBAAiB7E,sCACTS,EAAA,CAARoE,EAAAA,6DAFU+lB,EAAmBgB,EAAAnrB,EAAA,CAb/BqE,EAAAA,UAAU,CACTC,SAAU,cACVC,SAAA,+/BAEAU,UAAW,CACT,CACEmmB,QAASC,EAAAA,kBACTC,YAAaH,EACbI,OAAO,0xDAKApB,oBCIb,SAAAqB,KAA+B,OAAlBA,EAAgBxrB,EAAA,CAd5B4E,EAAAA,SAAS,CACRC,QAAS,CACPC,EAAAA,aACA4G,GAEF3G,aAAc,CACZolB,IAEFnlB,QAAS,CACPmlB,IAEFllB,UAAW,MAGAumB","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/share';\nimport 'rxjs/add/operator/map';\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { WidgetBase } from './widget-base';\nimport { WidgetState } from './widget-state';\nimport { KalturaLogger, EmptyLogger } from '@kaltura-ng/kaltura-common';\nimport { cancelOnDestroy, tag } from '@kaltura-ng/kaltura-common';\n\nexport declare type FormWidgetsState = {\n    [key : number] : WidgetState\n}\n\nexport enum OnDataSavingReasons\n{\n    attachedWidgetBusy,\n    validationErrors,\n    buildRequestFailure\n}\n\nexport abstract class WidgetsManagerBase<TData, TRequest> implements WidgetsManagerBase<TData, TRequest>, OnDestroy {\n    private _widgets: WidgetBase<this, TData, TRequest>[] = [];\n    private _widgetsState: BehaviorSubject<FormWidgetsState> = new BehaviorSubject<FormWidgetsState>({});\n    private _isNewData = false;\n    public widgetsState$ = this._widgetsState.asObservable();\n\tprotected _logger: KalturaLogger;\n\n\tconstructor(logger?: KalturaLogger) {\n\t\tthis._logger = logger ? logger.subLogger(`widgetsManager`) : new EmptyLogger();\n\t}\n\n    public get widgetsState(): FormWidgetsState {\n        return this._widgetsState.getValue();\n    }\n\n    public get isNewData(): boolean{\n        return this._isNewData;\n    }\n\n    public _updateWidgetState(newWidgetState : WidgetState): void {\n        const currentWidgetsState = this._widgetsState.getValue();\n\n        if (!newWidgetState || !newWidgetState.key) {\n            this._logger.warn('[widgets manager] cannot update widget state, missing widget key');\n        } else {\n            this._logger.info(`[widgets manager] widget '${newWidgetState.key}': update widget state`, newWidgetState);\n            currentWidgetsState[newWidgetState.key] = newWidgetState;\n            this._widgetsState.next(currentWidgetsState);\n\n        }\n    }\n\n    public registerWidgets(widgets : WidgetBase<this, TData,TRequest>[])\n    {\n        if (widgets)\n        {\n            widgets.forEach(widget =>\n            {\n                const existingRegisteredWidget = this._widgets.find(registeredWidget => registeredWidget === widget || registeredWidget.key === widget.key);\n\n                if (existingRegisteredWidget)\n                {\n                    throw new Error(`a widget with key '${widget.key}' is already registered (did you registered the same widget twice?)`);\n                }else {\n                    this._logger.info(`[widgets manager] widget '${widget.key}': registered to a form widgets manager`);\n                    widget._setForm(this);\n                    this._widgets.push(widget);\n                }\n            })\n\n        }\n    }\n\n    public notifyDataLoading(dataId: any): void {\n        this._logger.info(`[widgets manager] notify data loading. data identifier '${dataId}'`);\n\n        this._widgets.filter(widget => widget.isActive).forEach(widget => {\n            widget._reset();\n        });\n\n        this._widgets.forEach(widget => {\n            widget._handleDataLoading(dataId);\n        });\n    }\n\n    public notifyDataLoaded(data: TData, settings: { isNewData: boolean }) : { errors?: Error[] } {\n\n        this._logger.info(`[widgets manager] notify data loaded.`);\n        const errors : Error[] = [];\n        this._isNewData = settings.isNewData;\n        this._logger.info(`[widgets manager] treat data as '${this._isNewData ? 'new' : 'existing'} data'.`);\n        this._widgets.forEach(widget => {\n\n            try {\n                widget._handleDataLoaded(data);\n                widget.activate();\n            }catch(e)\n            {\n                errors.push(e);\n            }\n        });\n\n        return { errors };\n    }\n\n    private _widgetsOnDataSaving(newData: TData, request: TRequest, originalData: TData): { errors?: Error[] } {\n        const errors: Error[] = [];\n        const widgets = this._isNewData ? this._widgets : this._widgets.filter(widget => widget.isActive);\n        widgets.forEach(widget => {\n            try {\n                this._logger.info(`[widgets manager] widget '${widget.key}': build save request content`);\n                widget._handleDataSaving(newData, request, originalData);\n            } catch (err) {\n                this._logger.error(`[widgets manager] widget '${widget.key}': failed to prepare data for save. Save operation aborted.`, err); // keep error\n                errors.push(err);\n            }\n        });\n\n        return {errors};\n    }\n\n    public notifyDataSaving(newData: TData, request: TRequest, originalData: TData): Observable<{ ready: boolean, reason?: OnDataSavingReasons, errors?: Error[] }> {\n\n        this._logger.info(`[widgets manager] notify data saving.`);\n\n        const isAttachedWidgetBusy = !!this._widgets.find(widget => widget.isAttached && widget.isBusy);\n\n        return Observable.of(isAttachedWidgetBusy ?\n            {\n                ready: false,\n                reason: OnDataSavingReasons.attachedWidgetBusy\n            } : {ready: true} )\n            .pipe(cancelOnDestroy(this))\n            .flatMap(response => {\n                if (response.ready) {\n                    return this._validateWidgets()\n                        .catch((error, caught) => Observable.of({isValid: false}))\n                        .map(response => response.isValid ? {ready: true} : {\n                            ready: false,\n                            reason: OnDataSavingReasons.validationErrors\n                        });\n                } else {\n                    return Observable.of(response);\n                }\n            })\n            .map(response => {\n                if (response.ready) {\n                    const saveContent = this._widgetsOnDataSaving(newData, request, originalData);\n\n                    if (saveContent.errors.length === 0) {\n                        return {ready: true, reason: null};\n                    }\n                    else {\n                        return {\n                            ready: false,\n                            reason: OnDataSavingReasons.buildRequestFailure,\n                            errors: saveContent.errors\n                        };\n                    }\n                } else {\n                    return response;\n                }\n            });\n    }\n\n    private _validateWidgets(): Observable<{ isValid: boolean }> {\n        const widgets = this._isNewData ? this._widgets : this._widgets.filter(widget => widget.isActive);\n        const widgetsResults = widgets.map(widget => {\n            return widget._validate()\n                .pipe(cancelOnDestroy(this))\n                .catch((err, caught) => Observable.of({isValid: false}));\n        });\n\n        if (widgetsResults.length) {\n            return Observable.forkJoin(...widgetsResults).map(responses => {\n                return responses.find(response => !response.isValid) || {isValid: true};\n            });\n        } else {\n            return Observable.of({isValid: true});\n        }\n    }\n\n    ngOnDestroy() {\n        this._widgets.forEach(widget =>\n        {\n            widget.destory();\n        });\n\n        this._logger.warn('[widgets manager] form widgets manager ngOnDestroy');\n        this._widgetsState.complete();\n    }\ns\n\n\n}\n","export interface AreaBlockerMessageButton\n{\n    label : string;\n    action : () => void;\n    classes?: string;\n}\n\nexport class AreaBlockerMessage\n{\n    title   : string;\n    message : string;\n    buttons : AreaBlockerMessageButton[];\n\n    constructor(content : { title? : string, message : string, buttons : AreaBlockerMessageButton[]})\n    {\n        this.title = content.title || 'Error';\n        this.message = content.message;\n        this.buttons = content.buttons;\n    }\n}","import { Component, Input, OnInit, ViewEncapsulation, ViewChild, ElementRef, Renderer2 } from '@angular/core';\nimport { AreaBlockerMessage } from './area-blocker-message';\n\n@Component({\n  selector: 'k-area-blocker',\n  templateUrl: './area-blocker.component.html',\n  styleUrls: ['./area-blocker.component.scss'],\n  encapsulation : ViewEncapsulation.None\n})\nexport class AreaBlockerComponent implements OnInit  {\n\n  private _showLoader: boolean;\n  public _message : AreaBlockerMessage;\n  private _showLoaderHandler: number;\n\n  @ViewChild('areaBlockerContainer', { static: false }) areaBlockerContainer: ElementRef;\n  @ViewChild('spinnerContainer', { static: false }) spinnerContainer: ElementRef;\n\n  @Input() bodyScroll : boolean = false;\n  @Input() spinnerMarginTop : number = 0;\n  @Input() classes : string;\n\n  @Input() set showLoader(value : boolean) {\n      // once showLoader is set to true, use a timeout so *ngIf will cause the HTML to render and then calculate area blocker width\n      if (value) {\n          this._showLoaderHandler = setTimeout(() => {\n              this._showLoaderHandler = null;\n              if (this.bodyScroll && !!this.areaBlockerContainer) {\n                  const rect = this.areaBlockerContainer.nativeElement.getBoundingClientRect();\n                  if (rect.width < document.body.clientWidth && this.spinnerContainer) {\n                      this._renderer.setStyle(this.spinnerContainer.nativeElement, 'left', `${rect.left + rect.width / 2}px`);\n                  }\n              }\n              this._renderer.setStyle(this.spinnerContainer.nativeElement, 'opacity', '1'); // show the spinner only after its position is calculated to prevent seeing it jumps...\n          }, 0);\n      } else {\n          if (this._showLoaderHandler) {\n              clearTimeout(this._showLoaderHandler);\n              this._showLoaderHandler = null;\n          }\n          if (this.bodyScroll && this.spinnerContainer) {\n              this._renderer.setStyle(this.spinnerContainer.nativeElement, 'opacity', '0'); // hide the spinner so we won't see it jump next time its position is recalculated\n          }\n      }\n      this._showLoader = value;\n  }\n\n  get showLoader(): boolean{\n    return this._showLoader;\n  }\n\n  @Input()\n  set message(value : AreaBlockerMessage | string)\n  {\n    if (typeof value === 'string')\n    {\n      this._message = { title : 'Error', message : value, buttons : [{ label :'Dismiss', action : () => { this._message = null;}}]};\n    }else if (value instanceof AreaBlockerMessage)\n    {\n      this._message = value;\n    }else\n    {\n      this._message = null;\n    }\n  }\n\n  constructor(private _renderer: Renderer2){}\n\n  public handleAction(button : { action : () => void}) {\n    if (button) {\n      button.action();\n    }\n  }\n\n  ngOnInit()\n  {\n\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AreaBlockerComponent } from './area-blocker.component';\n\n@NgModule(\n    {\n        imports : [\n          CommonModule\n        ],\n        declarations : [\n            AreaBlockerComponent\n        ],\n        exports : [\n            AreaBlockerComponent\n        ],\n        providers : [\n        ]\n    }\n)\nexport class AreaBlockerModule\n{\n\n}","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'kDetailInfo',\n    templateUrl: './detail-info.component.html',\n    styleUrls: ['./detail-info.component.scss']\n})\nexport class DetailInfoComponent implements OnInit {\n\n    @Input() label: string;\n    @Input() value: string;\n    @Input() valueField: string;\n    @Input() link: string;\n    @Input() tooltip: string;\n    @Input() toolTipAsHTML: boolean = true;\n    @Input() iconStyle: string;\n    @Input() separator: string = \"|\";\n    @Input() maxItemWidth: number = 300;\n    @Input() isLastItem: boolean = false;\n\n    @Output() itemClick = new EventEmitter<any>();\n\n    public _data : any;\n\n    public _setData(data : any)\n    {\n        this._data = data;\n    }\n\n    public isClickable: boolean = false;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n        this.isClickable = this.itemClick.observers.length > 0;\n    }\n\n    onClick($event: MouseEvent){\n        if (this.isClickable){\n            this.itemClick.emit($event);\n        }\n    }\n}\n","import { Component, ElementRef, Input, QueryList, ContentChildren, AfterContentInit, ViewChild, HostListener, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { DetailInfoComponent } from './detail-info.component';\nimport { ISubscription } from 'rxjs/Subscription';\n\n@Component({\n  selector: 'k-details-bar',\n  templateUrl: './details-bar.component.html',\n  styleUrls: ['./details-bar.component.scss']\n})\nexport class DetailsBarComponent implements AfterContentInit,AfterViewChecked, OnDestroy {\n\n  @ContentChildren(DetailInfoComponent) items: QueryList<DetailInfoComponent>;\n\n  @Input() basicDetailsLabel: string = \"Basic Details\";\n  @Input() moreDetailsLabel: string = \"More Details\";\n\n  private _shouldUpdateItems = false;\n\n  public _data: any;\n  @Input() set data(dataObj: any) {\n    this._data = dataObj;\n    this._shouldUpdateItems = true;\n    this.reset();\n  }\n\n  @ViewChild('dataPanel', { static: true }) dataPanel: ElementRef;\n  @ViewChild('dataWrapper', { static: true }) dataWrapper: ElementRef;\n  public _showMore: boolean = false;\n  public _showBasic: boolean = false;\n  private showMoreCheckIntervalID: any;\n  private lineScroll = 0;\n  private disableScroll: boolean = false;\n  private _itemsChangesSubscription: ISubscription;\n\n  constructor() {\n  }\n\n  @HostListener(\"window:resize\", [])\n  onWindowResize() {\n    this.reset();\n  }\n\n  ngAfterViewChecked(){\n    if (this._shouldUpdateItems)\n    {\n      this._shouldUpdateItems = false;\n      setTimeout(()=>{\n        this.items.forEach(item => {\n          item._setData(this._data);\n        })\n      },0);\n    }\n  }\n\n  ngAfterContentInit() {\n    this.updateLayout();\n\n    this._itemsChangesSubscription = this.items.changes.subscribe(\n        changes => {\n          this._shouldUpdateItems = true;\n        }\n    );\n  }\n\n  private _updateItems(): void{\n\n    if (this.items) {\n      this.items.forEach(item => item._setData(this._data));\n    }\n  }\n  updateLayout() {\n    //we use a cancelable interval to improve performances on window resize\n    if (this.showMoreCheckIntervalID) {\n      clearInterval(this.showMoreCheckIntervalID);\n      this.showMoreCheckIntervalID = null;\n    }\n    this.showMoreCheckIntervalID = setTimeout(() => {\n      this.items.forEach(item => {\n        item.isLastItem = false;\n      });\n      this.items.last.isLastItem = true;\n      const marginTop = parseInt(window.getComputedStyle(this.dataWrapper.nativeElement).top);\n      const elementHeight = this.dataWrapper.nativeElement.children.length ? this.dataWrapper.nativeElement.children[0].clientHeight : 0;\n      this._showMore = this.dataWrapper.nativeElement.clientHeight > this.dataPanel.nativeElement.getBoundingClientRect().height && Math.abs(marginTop) < (this.dataWrapper.nativeElement.clientHeight + marginTop);\n      this._showBasic = this.dataWrapper.nativeElement.clientHeight > this.dataPanel.nativeElement.getBoundingClientRect().height && marginTop < 0 ;\n\n      // code to remove last separators in each line\n      let topArr = [];\n      if (this.dataWrapper.nativeElement.children.length){\n        for (let i=0; i<this.dataWrapper.nativeElement.children.length; i++){\n          const elm: any = this.dataWrapper.nativeElement.children[i];\n          const top = elm.getBoundingClientRect().top;\n          topArr.push(top);\n        }\n        for (let i=0; i<topArr.length-1; i++){\n          if (topArr[i] < topArr[i+1] && this.items.length >= i){\n            this.items.forEach((item, index)=>{\n              if (i===index){\n                item.isLastItem = true;\n              }\n            });\n          }\n        }\n      }\n\n      this.showMoreCheckIntervalID = null;\n    }, 100);\n  }\n\n  show(direction: string) {\n    if (!this.disableScroll){\n      this.disableScroll = true;\n      if (direction === \"more\") {\n        this.lineScroll++;\n      }\n      else {\n        this.lineScroll--;\n      }\n      this.dataWrapper.nativeElement.style.top = this.dataWrapper.nativeElement.children[0].clientHeight * (-1) * this.lineScroll + \"px\";\n      setTimeout(()=>{\n        this.updateLayout(); // allow animation to finish before recalculating\n        this.disableScroll = false;\n      },350);\n    }\n\n  }\n\n  reset(){\n    this.lineScroll = 0;\n    this.dataWrapper.nativeElement.style.top = \"0px\";\n    setTimeout(()=>{\n      this.updateLayout(); // allow animation to finish before recalculating\n    },350);\n  }\n\n  ngOnDestroy(){\n    if (this._itemsChangesSubscription){\n      this._itemsChangesSubscription.unsubscribe();\n      this._itemsChangesSubscription = null;\n    }\n  }\n}\n\n","import { Directive, ElementRef, HostListener, Input, OnDestroy } from '@angular/core';\n\nexport type TooltipPositions = 'top' | 'left' | 'right' | 'bottom';\n\n@Directive({\n\tselector: '[kTooltip]'\n})\nexport class KTooltipDirective implements OnDestroy {\n\n    constructor(private elementRef: ElementRef) {\n    }\n\n    private _tooltipElement: HTMLElement = null;\n    private _tooltipContent: any = null;\n    private _shouldBeVisible = false;\n    private _tooltipHeight: number = null;\n    private _tooltipWidth: number = null;\n\n    @Input() tooltipResolver: string | ((val: any) => string) = null;\n    @Input() escape: boolean = true;\n    @Input() tooltipOffset: number = 8;\n    @Input() placement: TooltipPositions = \"top\";\n    @Input() delay = 300;\n    @Input() maxWidth: number = 300;\n    @Input() followTarget = false;\n    @Input() showOnEllipsis = false;\n\n    @Input()\n    set kTooltip(value: any) {\n        if (this.isValidContent(value)) {\n            this._tooltipContent = value;\n        }\n        else {\n            this._tooltipContent = null;\n        }\n\n        this._updateTooltipElement();\n    }\n\n    private isValidContent(value: any)\n    {\n        return typeof value !== 'undefined' && value !== '' && value !== null;\n    }\n\n    private _updateTooltipElement(): void {\n        if (!this._tooltipContent) {\n            if (this._isShowingTooltip()) {\n                this._removeTooltipElement();\n            }\n        } else if (this._shouldBeVisible) {\n            if (!this._isShowingTooltip()) {\n                this._tooltipElement = document.createElement('span');\n                this._tooltipElement.style.pointerEvents = 'none';\n                this._tooltipElement.className += \"ng-tooltip ng-tooltip-\" + this.placement;\n                if (this.maxWidth > 0) {\n                    this._tooltipElement.style.maxWidth = this.maxWidth + \"px\";\n                }\n\n                const addTooltipVisibleClass = () => {\n                    if (this._tooltipElement) {\n                        this._tooltipElement.className += \" ng-tooltip-show\";\n                    }\n                };\n\n                if (this.delay) {\n                    setTimeout(addTooltipVisibleClass, this.delay);\n                } else {\n                    addTooltipVisibleClass();\n                }\n\n                document.body.appendChild(this._tooltipElement);\n                if (this._updateTooltipElementContent()) {\n                    this._updateTooltipElementPosition();\n                }\n\n            } else {\n                if (this._updateTooltipElementContent()) {\n                    this._updateTooltipElementPosition();\n                }\n            }\n        } else {\n            if (this._isShowingTooltip()) {\n                this._removeTooltipElement();\n            }\n        }\n    }\n\n    @HostListener(\"mousemove\")\n    onMouseMove() {\n        if (this.followTarget) {\n            this._updateTooltipElementPosition();\n        }\n    }\n\n    @HostListener(\"mouseenter\")\n    onMouseEnter() {\n      if (!this.showOnEllipsis || this.isInEllipsis()) {\n        this._shouldBeVisible = true;\n        this._updateTooltipElement();\n      }\n    }\n\n    @HostListener(\"mouseleave\")\n    onMouseLeave() {\n        this._shouldBeVisible = false;\n        this._updateTooltipElement();\n    }\n\n    private isInEllipsis(): boolean {\n      // added the -1 threshold to support IE and edge which always show a 1px difference between offsetWidth and scrollWidth\n      return this.elementRef.nativeElement.offsetWidth < (this.elementRef.nativeElement.scrollWidth - 1);\n    }\n\n    private _removeTooltipElement() {\n        if (this._tooltipElement) {\n            if (this._tooltipElement.parentNode) {\n                this._tooltipElement.parentNode.removeChild(this._tooltipElement);\n            }\n            this._tooltipElement = null;\n            this._tooltipHeight = null;\n            this._tooltipWidth = null;\n        }\n    }\n\n    private _isShowingTooltip(): boolean {\n        return this._tooltipElement !== null;\n\t}\n\n    private _updateTooltipElementContent(): boolean {\n        if (this._isShowingTooltip() && this._tooltipContent) {\n\n            let content = '';\n\n            if (this.tooltipResolver && typeof this.tooltipResolver === 'string')\n            {\n                content = this._tooltipContent[this.tooltipResolver];\n            }else if (this.tooltipResolver && typeof this.tooltipResolver === 'function')\n            {\n                content = this.tooltipResolver(this._tooltipContent);\n            }else\n            {\n                content = this._tooltipContent;\n            }\n\n            if (this.isValidContent(content)) {\n                // re-check content type to handle scenarios when the tooltipResolver caused the value to be undefined\n                this._tooltipElement.innerHTML = '';\n                this._tooltipElement.textContent = '';\n                if (this.escape) {\n                    this._tooltipElement.textContent = content;\n                } else {\n                    this._tooltipElement.innerHTML = content;\n                }\n\n                this._tooltipHeight = this._tooltipElement.clientHeight;\n                this._tooltipWidth = this._tooltipElement.offsetWidth;\n\n                return true;\n            } else\n            {\n                this._removeTooltipElement();\n                return false;\n            }\n        }\n    }\n\n    private _updateTooltipElementPosition() {\n\n        if (this._isShowingTooltip()) {\n            const elemPosition = this.elementRef.nativeElement.getBoundingClientRect();\n\n            if (elemPosition) {\n                let elemHeight = this.elementRef.nativeElement.offsetHeight;\n                let elemWidth = this.elementRef.nativeElement.offsetWidth;\n\n                if (this.placement == 'top') {\n                    this._tooltipElement.style.top = elemPosition.top - (this._tooltipHeight + this.tooltipOffset) + 'px';\n                }\n\n                if (this.placement == 'bottom') {\n                    this._tooltipElement.style.top = elemPosition.top + elemHeight + this.tooltipOffset + 'px';\n                }\n\n                if (this.placement == 'top' || this.placement == 'bottom') {\n                    this._tooltipElement.style.left = (elemPosition.left + elemWidth / 2) - this._tooltipWidth / 2 + 'px';\n                }\n\n                if (this.placement == 'left') {\n                    this._tooltipElement.style.left = elemPosition.left - this._tooltipWidth - this.tooltipOffset + 'px';\n                }\n\n                if (this.placement == 'right') {\n                    this._tooltipElement.style.left = elemPosition.left + elemWidth + this.tooltipOffset + 'px';\n                }\n\n                if (this.placement == 'left' || this.placement == 'right') {\n                    this._tooltipElement.style.top = elemPosition.top + elemHeight / 2 - this._tooltipElement.clientHeight / 2 + 'px';\n                }\n                // correct left positioning of tooltip if outside the screen\n                const offsetLeft = parseInt(this._tooltipElement.style.left);\n                if (offsetLeft < 0) {\n                  this._tooltipElement.style.left = 0 + 'px';\n                }\n            }\n        }else\n\t\t{\n\t\t\tthis._updateTooltipElement();\n\t\t}\n    }\n\n    ngOnDestroy() {\n        this._removeTooltipElement();\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { KTooltipDirective } from './k-tooltip.directive';\n\n@NgModule(\n  {\n    imports: [\n      CommonModule\n    ],\n    declarations: [\n      KTooltipDirective\n    ],\n    exports: [\n      KTooltipDirective\n    ]\n  }\n)\nexport class TooltipModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DetailsBarComponent } from './details-bar.component';\nimport { DetailInfoComponent } from \"./detail-info.component\";\nimport { TooltipModule } from \"../tooltip/k-tooltip.module\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TooltipModule\n    ],\n    declarations: [\n        DetailsBarComponent,\n        DetailInfoComponent\n    ],\n    exports: [\n        DetailsBarComponent,\n        DetailInfoComponent\n    ],\n    providers: [\n    ]\n})\nexport class DetailsBarModule {\n}\n","import { ValidatorFn } from '@angular/forms';\n\nexport interface DynamicFormControlArgs<T>\n{\n    value?: T,\n    key: string,\n    label?: string,\n    description?: string,\n    order?: number,\n    allowMultiple? : boolean,\n    validators? : Array<ValidatorFn>,\n    validateOn?: 'change' | 'blur' | 'submit';\n    errors? : {[key: string]: string},\n    inputHelperConfig?: {title?: string, body: string}\n    styleClass?: string;\n    dateFormat?: string;\n};\n\nexport abstract class DynamicFormControlBase<T>{\n\n    abstract get controlType() : string;\n    defaultValue: T;\n    key: string;\n    label: string;\n    allowMultiple : boolean;\n    order: number;\n    description: string;\n    validators : Array<ValidatorFn>;\n    validateOn?: 'change' | 'blur' | 'submit';\n    errors:  {[key: string]:  string};\n    inputHelperConfig: {title?: string, body: string};\n    styleClass: string;\n    dateFormat?: string;\n\n    constructor(options: DynamicFormControlArgs<T>) {\n        this.defaultValue = options.value;\n        this.key = options.key || '';\n        this.label = options.label || '';\n        this.allowMultiple = !!options.allowMultiple;\n        this.order = options.order === undefined ? 1 : options.order;\n        this.description = options.description || '';\n        this.validators = options.validators;\n        this.validateOn = options.validateOn || 'change';\n        this.errors = options.errors;\n        this.inputHelperConfig = options.inputHelperConfig;\n        this.styleClass = options.styleClass;\n        this.dateFormat = options.dateFormat;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface DynamicSectionArgs extends DynamicFormControlArgs<any>\n{\n    children : DynamicFormControlBase<any>[];\n}\n\n\nexport class DynamicSectionControl extends DynamicFormControlBase<any> {\n\n    get controlType() : string\n    {\n        return 'Group';\n    }\n\n    public children : DynamicFormControlBase<any>[];\n\n    constructor(options: DynamicSectionArgs)\n    {\n        super(options);\n        this.children = options.children;\n    }\n\n}","import { Injectable }   from '@angular/core';\nimport { FormControl, FormGroup, Validators,  FormBuilder } from '@angular/forms';\nimport { DynamicFormControlBase } from './dynamic-form-control-base';\nimport { DynamicSectionControl } from './controls/dynamic-section-control';\n\n\n@Injectable()\nexport class DynamicFormService {\n    constructor(private _formBuilder : FormBuilder) { }\n\n\n    toFormGroup(dynamicControls: DynamicFormControlBase<any>[], config : { ignoreMultiple? : boolean, formValue? : {} } = {} ) : FormGroup {\n        let result: any = {};\n\n        if (dynamicControls) {\n            dynamicControls.forEach(formControl => {\n\n                if (!config.ignoreMultiple && formControl.allowMultiple) {\n                    const formArray = result[formControl.key] = this._formBuilder.array([]);\n\n                    if (config && config.formValue) {\n                        // build array formGroup item for each actual record in array\n                        const arrayItems = config.formValue[formControl.key];\n\n                        if (arrayItems instanceof Array) {\n                            arrayItems.forEach(arrayItem => {\n                                formArray.push(this.toFormGroup([formControl], {\n                                    ignoreMultiple: true,\n                                    formValue: arrayItem\n                                }));\n                            });\n                        }\n                    }\n                } else {\n                    if (formControl instanceof DynamicSectionControl) {\n                        const shouldCreateNestedGroup = dynamicControls.length > 1;\n                        if (shouldCreateNestedGroup) {\n                            result[formControl.key] = this.toFormGroup(formControl.children, {formValue: config.formValue});\n                        }else {\n                            result = this.toFormGroup(formControl.children, {formValue: config.formValue});\n                        }\n                    } else {\n                        result[formControl.key] = new FormControl(formControl.defaultValue || null, {validators: formControl.validators, updateOn: formControl.validateOn ? formControl.validateOn : 'change'} );\n                    }\n                }\n\n            });\n        }\n\n        return (result instanceof FormGroup) ? result : this._formBuilder.group(result);\n    }\n}\n","import { Component, Input, TemplateRef, ContentChildren, QueryList, OnInit } from '@angular/core';\nimport { FormArray, FormGroup, Validators,  FormBuilder, AbstractControl } from '@angular/forms';\nimport { DynamicSectionControl } from './controls/dynamic-section-control';\nimport { DynamicFormService } from './dynamic-form.service';\nimport { DynamicFormControlBase } from './dynamic-form-control-base';\n\n@Component({\n    selector: 'k-dynamic-form-item',\n    templateUrl: './dynamic-form-item.component.html',\n    styleUrls : ['./dynamic-form-item.component.scss']\n})\nexport class DynamicFormItem implements  OnInit {\n    @Input() control: DynamicFormControlBase<any>;\n    @Input() form : FormGroup;\n\n    public isRequired: boolean;\n\n    @ContentChildren(TemplateRef, {descendants: false}) public _templates: QueryList<TemplateRef<any>>;\n    @Input() labelTemplate: TemplateRef<any>;\n\n    constructor(private _formBuilder : FormBuilder, private _dynamicFormService : DynamicFormService)\n    {\n\n    }\n\n    asDynamicSection(control: DynamicFormControlBase<any>): DynamicSectionControl {\n      return <DynamicSectionControl>control;\n    }\n\n    asFormGroup(control: AbstractControl): FormGroup {\n      return <FormGroup>control;\n    }\n\n    ngOnInit() {\n        this.isRequired=false;\n\n        const validators = this.control.validators;\n        if (this.control.validators)\n        {\n            const RequiredValidator =validators.find( validator =>\n            validator == Validators.required);\n\n            if (RequiredValidator)\n            {\n                this.isRequired=true;\n            }\n        }\n    }\n\n    initItem(dynamicControl : DynamicFormControlBase<any>) {\n        return this._dynamicFormService.toFormGroup([dynamicControl], { ignoreMultiple : true});\n    }\n\n    addItem(dynamicControl : DynamicFormControlBase<any>) {\n        const control = <FormArray>this.form.controls[dynamicControl.key];\n        control.push(this.initItem(dynamicControl));\n        control.markAsDirty();\n    }\n\n    removeItem(dynamicControl : DynamicFormControlBase<any>, i: number) {\n        const control = <FormArray>this.form.controls[dynamicControl.key];\n        control.removeAt(i);\n        control.markAsDirty();\n    }\n}\n","export class PopupWidgetLayout {\n\n  constructor() {}\n\n  private static popupWidgetInitialZindex = 600;\n  private static modalsCount = 0;\n\n  static getPopupZindex(isFullScreen = false){\n      if (isFullScreen){\n          return 1000;\n      }\n      PopupWidgetLayout.popupWidgetInitialZindex += 2;\n      return PopupWidgetLayout.popupWidgetInitialZindex;\n  }\n\n  static increaseModalCount(){\n      PopupWidgetLayout.modalsCount++;\n      if (PopupWidgetLayout.modalsCount === 1){\n          document.body.classList.add(\"kModal\");\n      }\n  }\n\n  static decreaseModalCount(){\n      PopupWidgetLayout.modalsCount--;\n      if (PopupWidgetLayout.modalsCount === 0){\n          document.body.classList.remove(\"kModal\");\n      }\n      if (PopupWidgetLayout.modalsCount < 0){\n          PopupWidgetLayout.modalsCount = 0;\n      }\n  }\n}\n","import {\n  Component,\n  AfterViewInit,\n  EventEmitter,\n  OnDestroy,\n  Input,\n  Output,\n  ElementRef,\n  HostListener,\n  TemplateRef,\n  ContentChild,\n  Renderer2,\n  HostBinding\n} from \"@angular/core\";\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport { ISubscription } from 'rxjs/Subscription';\nimport { PopupWidgetLayout } from './popup-widget-layout';\nimport 'rxjs/add/observable/fromEvent';\nimport { cancelOnDestroy } from '@kaltura-ng/kaltura-common';\n\nexport const PopupWidgetStates = {\n    \"Open\": \"open\",\n\t\"BeforeClose\": \"beforeClose\",\n    \"Close\": \"close\",\n\t\"Disabled\": \"disabled\"\n}\nexport type popupStatus = {\n\tstate: string,\n\tcontext?: any,\n\treason?: string\n}\n\nexport type PopupWidgetXPositions = 'left' | 'right' | 'center';\nexport type PopupWidgetYPositions = 'top' | 'bottom' | 'center';\ntype PopupWidgetXMargins = {left?: number, right?: number, center?: number}\ntype PopupWidgetYMargins = {top?: number, bottom?: number, center?: number}\n\nconst WINDOW_GUTTER = 16;\n\n@Component({\n    selector: 'kPopupWidget',\n    templateUrl: './popup-widget.component.html',\n    styleUrls: ['./popup-widget.component.scss']\n})\nexport class PopupWidgetComponent implements AfterViewInit, OnDestroy{\n\t@Input() transparent = false;\n\t@Input() appendTo: any;\n\t@Input() popupWidth: number;\n    @Input() popupHeight: number | 'auto' = 'auto';\n\t@Input() showTooltip: boolean = false;\n\t@Input() preventPageScroll: boolean = false;\n\t@Input() modal: boolean = false;\n\t@Input() slider: boolean = false;\n\t@Input() fullScreen: boolean = false;\n\t@Input() closeBtn: boolean = true;\n\t@Input() closeBtnInside: boolean = false;\n\t@Input() closeOnClickOutside: boolean = true;\n\t@Input() closeOnResize: boolean = false;\n\t@Input() closeOnBrowserNav: boolean = true;\n\t@Input() targetOffset: any = {'x':0, 'y': 0};\n\t@Input() childrenPopups: PopupWidgetComponent[] = [];\n\t@Input() trigger: 'click' | 'hover' = 'click';\n\t@Input() placement: {x: PopupWidgetXPositions, y: PopupWidgetYPositions} = {x: 'right', y: 'bottom'}\n  @Input() closeOnScroll: boolean = false;\n\n  @ContentChild(TemplateRef, { static: true }) public _template: TemplateRef<any>;\n  @HostBinding('class.opened') opened = false;\n  @HostBinding('class.closed') closed = false;\n\n\n\tprivate readonly _toggleFunc = this.toggle.bind(this);\n\tprivate readonly _openFunc = this.open.bind(this);\n\tprivate readonly _closeFunc = this.close.bind(this);\n\n    private _viewInitialize = false;\n\n\t@Input() set targetRef(targetRef: any) {\n\t\tif (this.trigger === 'click') {\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.removeEventListener('click', this._toggleFunc);\n\t\t\t}\n\t\t\tthis._targetRef = targetRef;\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.addEventListener('click', this._toggleFunc);\n\t\t\t}\n\t\t}\n\t\telse if (this.trigger === 'hover') {\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.removeEventListener('mouseover', this._openFunc);\n\t\t\t\tthis._targetRef.removeEventListener('mouseout', this._closeFunc);\n\t\t\t}\n\t\t\tthis._targetRef = targetRef;\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.addEventListener('mouseover', this._openFunc);\n\t\t\t\tthis._targetRef.addEventListener('mouseout', this._closeFunc);\n\t\t\t}\n\t\t}\n\t}\n\tget targetRef(): any { return this._targetRef; }\n\n\t@Input() set parentPopup(parentPopup: PopupWidgetComponent){\n\t\tthis._parentPopup = parentPopup;\n\t\tif (this._stateChangeSubscription){\n\t\t\tthis._stateChangeSubscription.unsubscribe();\n\t\t\tthis._stateChangeSubscription = null;\n\t\t}\n\t\tif (this._parentPopup) {\n\t\t\tthis._stateChangeSubscription = this._parentPopup.state$.subscribe(event => {\n\t\t\t\tif (event.state === PopupWidgetStates.Close) {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tget parentPopup(): PopupWidgetComponent { return this._parentPopup; }\n\n\t@Output() onOpen = new EventEmitter<any>();\n    @Output() onClose = new EventEmitter<any>();\n\n\tprivate _targetRef: any;\n    private _saveScrollPosition: number;\n\tpublic _popupWidgetHeight: string;\n    private _modalOverlay: any;\n\tprivate _parentPopup: PopupWidgetComponent;\n\tprivate _stateChangeSubscription: ISubscription = null;\n\tprivate _statechange: BehaviorSubject<popupStatus> = new BehaviorSubject<popupStatus>({state: ''});\n\n\tpublic state$: Observable<popupStatus> = this._statechange.asObservable();\n\n    constructor(public popup: ElementRef, private renderer: Renderer2) {\n\t    this._statechange.next({state: PopupWidgetStates.Close});\n      this.state$\n        .pipe(cancelOnDestroy(this))\n        .subscribe(({ state }) => {\n          this.closed = state === PopupWidgetStates.Close;\n          this.opened = state === PopupWidgetStates.Open;\n        });\n    }\n\n    // public API methods\n    open(){\n\t\tif (this.isEnabled && this.validate()) {\n\t        // handle auto height\n\t\t\tif (!this.popupHeight  || this.popupHeight === 'auto'){\n\t\t\t\tif (this.slider) {\n\t\t\t\t\tthis._popupWidgetHeight = 'calc(100vh - 80px)';\n\t\t\t\t}else {\n\t\t\t\t\tthis._popupWidgetHeight = 'auto';\n\t\t\t\t}\n\t        } else\n\t        {\n\t\t        this._popupWidgetHeight = this.popupHeight + \"px\";\n\t        }\n\t\t\tthis._saveScrollPosition = window.pageYOffset || document.documentElement.scrollTop;\n            // set location according to targetRef\n\t        const parentLeft = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().left : 0;\n\t        const parentTop = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().top : 0;\n\t        // center on screen if no targetRef was defined\n\t        if (!this._targetRef){\n\t        \tif (this.fullScreen){\n\t        \t\tthis.modal = false;\n\t        \t\tthis.preventPageScroll = true;\n\t\t\t        this.renderer.addClass(this.popup.nativeElement, 'fullScreen');\n\t\t        }else {\n\t\t\t        this.popup.nativeElement.style.marginLeft = window.innerWidth / 2 - this.popupWidth / 2 + 'px';\n\t\t\t        if (this.slider) {\n\t\t\t\t        window.scrollTo(0, 0);\n\t\t\t\t        this.popup.nativeElement.style.top = \"auto\";\n\t\t\t\t        this.closeBtn = false;\n\t\t\t\t        this.preventPageScroll = true;\n\t\t\t\t        this.popup.nativeElement.style.bottom = this.popupHeight !== 'auto' ? this.popupHeight * -1 + \"px\" : \"-1000px\";\n\t\t\t\t        setTimeout(() => {\n\t\t\t\t\t        this.popup.nativeElement.style.bottom = 0 + \"px\"; // use timeout to invoke animation\n\t\t\t\t        }, 0);\n\t\t\t        } else {\n                const marginTop = (window.innerHeight / 2 - 100 / 2);\n\t\t\t\t        this.popup.nativeElement.style.marginTop = marginTop + 'px';\n\t\t\t\t        this.popup.nativeElement.style.position = \"fixed\";\n\t\t\t        }\n\t\t        }\n\t        }else{\n\t\t        this.popup.nativeElement.style.marginLeft = this._targetRef.getBoundingClientRect().left - parentLeft + this.targetOffset['x'] + 'px';\n\t\t        this.popup.nativeElement.style.marginTop = this._targetRef.getBoundingClientRect().top - parentTop + this.targetOffset['y'] + 'px';\n\t\t        this.popup.nativeElement.style.position = \"absolute\";\n\t        }\n            this.popup.nativeElement.style.zIndex = PopupWidgetLayout.getPopupZindex(this.fullScreen);\n\n            // handle modal\n\t        if (!this._modalOverlay) {\n                if (this.trigger !== 'hover') {this._modalOverlay = document.createElement('div');\n                if (this.modal || this.slider) {\n\t                this._modalOverlay.className = \"kPopupWidgetModalOverlay\";\n                }else{\n\t                this._modalOverlay.className = \"kPopupWidgetModalOverlay kTransparent\";\n                }\n                this._modalOverlay.style.zIndex = this.popup.nativeElement.style.zIndex - 1;\n                if (!this.slider && this.closeOnClickOutside) {\n\t                this._modalOverlay.addEventListener(\"mousedown\", (event: any) => {\n\t\t                event.stopPropagation();\n\t\t                this.close();\n\t                });\n                }\n        if (this.appendTo){\n\t\t\t        this.appendChild(this._modalOverlay, this.appendTo);\n\t\t        }else {        document.body.appendChild(this._modalOverlay);}\n                if (this.modal || this.slider) {\n\t                PopupWidgetLayout.increaseModalCount();\n\t                }\n                }\n            }\n\n            // prevent page scroll\n\t        if (this.preventPageScroll){\n\t        \tdocument.body.style.overflowY = 'hidden';\n\t        \tdocument.body.style.position = 'fixed';\n\t        }\n\n            setTimeout(()=>{\n\t            this.addClickOutsideSupport();\n            },0);\n\n            this.onOpen.emit(); // dispatch onOpen event (API)\n            this._statechange.next({state: PopupWidgetStates.Open});\n\n            if (this.closeOnScroll && this.isShow) {\n              window.addEventListener('scroll', this._closeFunc);\n            }\n\n\t\t}\n\t    if (!this.slider && !this.fullScreen && this.popup.nativeElement) {\n\t\t    this.popup.nativeElement.style.opacity = 0;\n\t    }\n\t    // auto positioning need first the dom to render\n\t\tsetTimeout(() => {\n\t\t\tthis.setPosition();\n\t\t}, 0);\n    }\n\n    close(context: any = null, reason: string = null){\n        if (this.isEnabled && this.isShow) {\n          window.removeEventListener('scroll', this._closeFunc);\n\t        if (this.fullScreen){\n\t\t        this.renderer.removeClass(this.popup.nativeElement, 'fullScreen');\n\t        }\n\t\t\t// allow cancelling the close operation\n\t        let beforeCloseContext = {\"allowClose\": true};\n\t        this._statechange.next({state: PopupWidgetStates.BeforeClose, context: beforeCloseContext});\n\t        if (beforeCloseContext['allowClose']) {\n\t\t        // close children popups if exist\n\t\t        if (this.childrenPopups.length) {\n\t\t\t        this.childrenPopups.forEach((popup: PopupWidgetComponent) => {\n\t\t\t\t        popup.close();\n\t\t\t        });\n\t\t        }\n\t\t        this.removeClickOutsideSupport();\n\t\t        this.restorePageScroll(true);\n\t\t        this.onClose.emit(); // dispatch onClose event (API)\n\t\t        let timeout = 0;\n\t\t        if (this.slider){\n\t\t\t        this.popup.nativeElement.style.bottom = this.popupHeight!== 'auto' ?  this.popupHeight * -1 +\"px\" :  \"-1000px\";\n\t\t\t        timeout = 300;\n\t\t        }\n\t\t        if (this.modal && !this.slider) {\n\t\t\t        PopupWidgetLayout.decreaseModalCount();\n\t\t        }\n\t\t        setTimeout(()=>{\n\t\t\t        // remove modal\n\t\t\t        if (this._modalOverlay) {\n\t\t\t\t        if (this.appendTo){\n\t\t\t\t\t        this.removeChild(this._modalOverlay, this.appendTo);\n\t\t\t\t        }else {\n\t\t\t\t\t        document.body.removeChild(this._modalOverlay);\n\t\t\t\t        }\n\t\t\t\t        this._modalOverlay = null;\n\t\t\t        }\n\t\t\t        if (this.slider) {\n\t\t\t\t        PopupWidgetLayout.decreaseModalCount();\n\t\t\t        }\n\t\t\t        this._statechange.next({state: PopupWidgetStates.Close, context: context, reason: reason}); // use timeout to prevent valueChangeAfterChecked error\n\t\t        },timeout);\n\t        }\n        }\n\n    }\n\n    toggle(){\n        if (this.isEnabled) {\n            this.isShow ? this.close() : this.open();\n        }\n    }\n\n    get isShow(): boolean {\n    \treturn this._statechange.getValue().state !== PopupWidgetStates.Close;\n    }\n\n    get isEnabled(): boolean {\n    \treturn this._statechange.getValue().state !== PopupWidgetStates.Disabled;\n    }\n\n\n\n\n\t@HostListener(\"window:resize\", [])\n\tonWindowResize() {\n\t\tif (this.closeOnResize) {\n\t\t\tthis.close();\n\t\t}else{\n\t\t\tthis.setPosition();\n\t\t}\n\t}\n\n  @HostListener('window:popstate', ['$event'])\n  onPopState(event) {\n    if (this.closeOnBrowserNav) {\n      this.close();\n    }\n  }\n\n    // component lifecycle events\n    ngAfterViewInit() {\n\t\tthis._viewInitialize = true;\n\n        if (this.validate()) {\n\t\t\tif (this.appendTo && !this.modal){\n\t\t\t\tthis.appendChild(this.popup.nativeElement, this.appendTo);\n\t        }else {\n\t\t        document.body.appendChild(this.popup.nativeElement);\n\t\t        if (this.appendTo){\n\t\t        \tconsole.warn(\"[kaltura] -> Ignoring append to \" + this.appendTo + \" since popup is set to modal=true.\"); // keep warning\n\t\t        }\n\t\t\t}\n\t        if (this.fullScreen){\n\t\t        this.popup.nativeElement.style.width = '0px';\n\t\t        this.popup.nativeElement.style.height = '0px';\n\t        }\n        }\n    }\n\n    ngOnDestroy(){\n\n    \tif (this._targetRef)\n    \t{\n\t\tthis._targetRef.removeEventListener('click', this._toggleFunc);\n\t\tthis._targetRef.removeEventListener('mouseover', this._openFunc);\n\t\tthis._targetRef.removeEventListener('mouseout', this._closeFunc);\n    \t}\n\n        if (this._stateChangeSubscription){\n            this._stateChangeSubscription.unsubscribe();\n        }\n\t    this._statechange.complete();\n        this.removeClickOutsideSupport();\n        this.restorePageScroll(false);\n\t    if (this.modal && this._modalOverlay) {\n\t\t    document.body.removeChild(this._modalOverlay);\n\t\t    this._modalOverlay = null;\n\t    }\n\t    if (this.appendTo && !this.modal){\n\t\t    this.removeChild(this.popup.nativeElement, this.appendTo);\n\t    }else {\n\t    \tif (this._viewInitialize) {\n          document.body.removeChild(this.popup.nativeElement);\n\t\t\t\t}\n\t    }\n\n      window.removeEventListener('scroll', this._closeFunc);\n    }\n\n    // private methods\n\n    private addClickOutsideSupport(){\n        if (this.closeOnClickOutside){\n            this.popup.nativeElement.addEventListener('mousedown', this.blockMouseDownHandler);\n\t        if (this.targetRef) {\n\t\t        this.targetRef.addEventListener('mousedown', this.blockMouseDownHandler);\n\t        }\n        }\n    }\n\n    private blockMouseDownHandler(event: any){\n\t    event.stopPropagation();\n    }\n\n    private removeClickOutsideSupport(){\n        if (this.closeOnClickOutside){\n            this.popup.nativeElement.removeEventListener('mousedown', this.blockMouseDownHandler);\n\t        if (this.targetRef) {\n\t\t        this.targetRef.removeEventListener('mousedown', this.blockMouseDownHandler);\n\t        }\n        }\n    }\n\n    private restorePageScroll(restoreScrollPosition = true):void{\n\t    if (this.preventPageScroll){\n\t\t    document.body.style.overflowY = 'auto';\n\t\t    document.body.style.position = '';\n\t\t    if (restoreScrollPosition) {\n\t\t\t    window.scrollTo(0, this._saveScrollPosition);\n\t\t    }\n\t    }\n    }\n\n    private validate(){\n        let valid: boolean = typeof this.popupWidth !== 'undefined' || this.fullScreen;\n        if (!valid){\n\t        this._statechange.next({state: PopupWidgetStates.Disabled});\n\t        throw \"Popup widget error: missing required parameters. Verify popupWidth is defined.\";\n        }\n        return valid;\n    }\n\n\tprivate appendChild(element: any, target: any) {\n\t\tif (this.isElement(target)) {\n\t\t\ttarget.appendChild(element);\n\t\t}else {\n\t\t\tthrow 'Cannot append ' + target + ' to ' + element;\n\t\t}\n\t}\n\n\tprivate removeChild(element: any, target: any) {\n\t\tif (this.isElement(target)) {\n\t\t\ttarget.removeChild(element);\n\t\t}else {\n\t\t\tthrow 'Cannot remove ' + target + ' from ' + element;\n\t\t}\n\t}\n\n\tprivate isElement(obj: any) {\n\t\treturn (typeof HTMLElement === \"object\" ? obj instanceof HTMLElement :\n\t\t\tobj && typeof obj === \"object\" && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === \"string\"\n\t\t);\n\t}\n\n\tprivate setPosition() {\n    const popupHeight = this.popup.nativeElement.clientHeight;\n\t\tconst popupWidth = this.popup.nativeElement.clientWidth;\n\n    if (this.modal || this.slider) {\n      this.popup.nativeElement.style.marginLeft = window.innerWidth / 2 - this.popupWidth / 2 + 'px';\n\n      if (this.modal) {\n        const modalMarginTop = (\n          window.innerHeight / 2 -\n          popupHeight / 2\n        );\n        this.popup.nativeElement.style.marginTop = Math.round(modalMarginTop) + 'px';\n        this.popup.nativeElement.style.opacity = 1;\n      }\n\t\t\treturn;\n\t\t}\n\t\tif (!this._targetRef) return;\n\n\t\tconst popupBox = this.popup.nativeElement.getBoundingClientRect();\n\t\tconst targetRefBox = this._targetRef.getBoundingClientRect();\n\t\tconst parentTop = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().top : 0;\n\t\tconst parentLeft = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().left : 0;\n\n\t\tlet popupMarginTop: number;\n\t\tlet popupMarginLeft: number;\n\n\t\tlet popupLeftMargins: PopupWidgetXMargins = {}\n\t\tlet popupTopMargins: PopupWidgetYMargins = {}\n\n\t\tpopupTopMargins.top = (\n\t\t\ttargetRefBox.top\n\t\t\t- parentTop\n\t\t\t- popupHeight\n\t\t\t+ this.targetRef.offsetHeight\n\t\t\t- this.targetOffset['y']\n\t\t);\n\n\t\tpopupTopMargins.bottom = (\n\t\t\ttargetRefBox.top\n\t\t\t- parentTop\n\t\t\t+ this.targetOffset['y']\n\t\t);\n\n\t\tpopupTopMargins.center = (\n\t\t\ttargetRefBox.top\n\t\t\t- parentTop\n\t\t\t- popupHeight / 2\n\t\t\t+ this.targetRef.offsetHeight / 2\n\t\t\t+ this.targetOffset['y']\n\t\t);\n\n\t\tpopupLeftMargins.left = (\n\t\t\ttargetRefBox.left\n\t\t\t- parentLeft\n\t\t\t- popupWidth\n\t\t\t+ this.targetRef.clientWidth\n\t\t\t- this.targetOffset['x']\n\t\t);\n\n\t\tpopupLeftMargins.right = (\n\t\t\ttargetRefBox.left\n\t\t\t- parentLeft\n\t\t\t+ this.targetOffset['x']\n\t\t);\n\n\t\tpopupLeftMargins.center = (\n\t\t\ttargetRefBox.left\n\t\t\t- parentLeft\n\t\t\t- popupWidth / 2\n\t\t\t+ this.targetOffset['x']\n\t\t);\n\n\t\tpopupMarginTop = this.placement.y ? popupTopMargins[this.placement.y] : popupTopMargins.bottom;\n\t\tpopupMarginLeft = this.placement.x ? popupLeftMargins[this.placement.y] : popupLeftMargins.right;\n\n\t\tthis.popup.nativeElement.style.marginTop = Math.round(popupMarginTop) + 'px';\n\t\tthis.popup.nativeElement.style.marginLeft = Math.round(popupMarginLeft) + 'px';\n\n\t\tthis.validatePosition(popupLeftMargins, popupTopMargins);\n\t}\n\n\t// validate popup widget is not outside of the viewport (+ gutter) and if it is, reposition it\n\tprivate validatePosition(popupLeftMargins: PopupWidgetXMargins, popupTopMargins: PopupWidgetYMargins) {\n\n\t\tconst popupHeight = this.popup.nativeElement.clientHeight;\n\t\tconst popupWidth = this.popup.nativeElement.clientWidth;\n\t\tconst popupBox = this.popup.nativeElement.getBoundingClientRect();\n\t\tconst clientHeight = window.innerHeight;\n\t\tconst clientWidth = window.innerWidth;\n\n\t\tlet popupMarginTop: number;\n\t\tlet popupMarginLeft: number;\n\n\t\tif (this.placement.y === 'top') {\n\t\t\tif (popupBox.top < WINDOW_GUTTER) {\n\t\t\t\tpopupMarginTop = popupTopMargins.bottom;\n\t\t\t}\n\t\t}\n\t\telse if (this.placement.y === 'bottom') {\n\t\t\tif (popupBox.top + popupHeight > clientHeight - WINDOW_GUTTER && popupBox.top > clientHeight) {\n\t\t\t\tpopupMarginTop = popupTopMargins.top;\n\t\t\t}else {\n        popupMarginTop = popupTopMargins.bottom;\n      }\n\t\t}\n\t\telse if (this.placement.y === 'center') {\n\t\t\tif (popupBox.top < WINDOW_GUTTER) {\n\t\t\t\tpopupMarginTop = popupTopMargins.bottom;\n\t\t\t}\n\t\t\telse if (popupBox.top + popupHeight > clientHeight - WINDOW_GUTTER) {\n\t\t\t\tpopupMarginTop = popupTopMargins.top;\n\t\t\t}\n\t\t}\n\n\t\tif (popupBox.left + popupWidth > clientWidth + WINDOW_GUTTER) {\n\t\t\tpopupMarginLeft = popupLeftMargins.left;\n\t\t}\n\t\telse if (popupBox.left < WINDOW_GUTTER) {\n\t\t\tpopupMarginLeft = popupLeftMargins.right;\n\t\t}\n\n\t\tthis.popup.nativeElement.style.marginTop = Math.round(popupMarginTop) + 'px';\n\t\tthis.popup.nativeElement.style.marginLeft = Math.round(popupMarginLeft) + 'px';\n\t\tthis.popup.nativeElement.style.opacity = 1;\n\t}\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PopupWidgetComponent } from './popup-widget.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        PopupWidgetComponent\n    ],\n    exports: [\n        PopupWidgetComponent\n    ],\n    providers: [\n    ]\n})\nexport class PopupWidgetModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { PopupWidgetXPositions, PopupWidgetYPositions } from '../popup-widget/popup-widget.component';\n\n@Component({\n    selector: 'kInputHelper',\n    templateUrl: './input-helper.component.html',\n    styleUrls: ['./input-helper.component.scss']\n})\nexport class InputHelperComponent implements OnInit {\n    @Input() title: string;\n    @Input() trigger: 'click' | 'hover' = 'hover';\n    @Input() triggerIcon = 'kIconhelp_full';\n    @Input() icon: string = 'kIconhelp';\n    @Input() width: number = 300;\n    @Input() placement: {x: PopupWidgetXPositions, y: PopupWidgetYPositions} = {x: 'right', y: 'top'};\n\n    constructor() {}\n\n    ngOnInit() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PopupWidgetModule } from '../popup-widget/popup-widget.module';\nimport { InputHelperComponent } from './input-helper.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PopupWidgetModule\n    ],\n    declarations: [\n\t    InputHelperComponent\n    ],\n    exports: [\n\t    InputHelperComponent\n    ],\n    providers: [\n    ]\n})\nexport class InputHelperModule {}\n","import { NgModule } from '@angular/core';\nimport { DynamicFormService } from './dynamic-form.service';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DynamicFormItem } from './dynamic-form-item.component';\nimport { TooltipModule } from \"../tooltip/k-tooltip.module\";\nimport { InputHelperModule } from \"../input-helper/input-helper.module\";\n\n@NgModule(\n    {\n        imports : [\n            ReactiveFormsModule,\n            CommonModule,\n            TooltipModule,\n            InputHelperModule\n        ],\n        declarations : [\n            DynamicFormItem\n        ],\n        exports : [\n            DynamicFormItem\n        ],\n        providers : [\n            DynamicFormService\n        ]\n    }\n)\nexport class DynamicFormModule\n{\n\n}","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface ListControlArgs extends DynamicFormControlArgs<any>\n{\n    values : {value : any, text : string}[];\n}\n\nexport class ListControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'List';\n    }\n\n    values : {value : any, text : string} [];\n\n    constructor(options: ListControlArgs) {\n        super(options);\n        this.values = options.values;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface DatePickerControlArgs extends DynamicFormControlArgs<Date>\n{\n    showTime? : boolean;\n}\n\nexport class DatePickerControl extends DynamicFormControlBase<Date> {\n    get controlType()\n    {\n        return 'DatePicker';\n    }\n\n    showTime : boolean = false;\n\n    constructor(options: DatePickerControlArgs) {\n        super(options);\n        this.showTime = options.showTime;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface TextAreaControlArgs extends DynamicFormControlArgs<string>\n{\n\n}\n\nexport class TextAreaControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'TextArea';\n    }\n\n\n    constructor(options: TextAreaControlArgs) {\n        super(options);\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport class TextboxControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Textbox';\n    }\n\n    constructor(options: DynamicFormControlArgs<string>) {\n        super(options);\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface ListControlArgs extends DynamicFormControlArgs<any>\n{\n    values : {value : any, text : string}[];\n}\n\nexport class DynamicDropdownControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Dropdown';\n    }\n\n    values : {value : any, text : string} [];\n\n    constructor(options: ListControlArgs) {\n        super(options);\n        this.values = options.values;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport class SwitchControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Switch';\n    }\n\n    constructor(options: DynamicFormControlArgs<string>) {\n        super(options);\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport class NumberControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Number';\n    }\n\n    constructor(options: DynamicFormControlArgs<string>) {\n        super(options);\n    }\n}\n","import { Component, Input, Output, OnInit, OnDestroy, AfterViewInit, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'k-player',\n    templateUrl: './player.component.html',\n\tstyleUrls: ['./player.component.scss']\n})\nexport class KalturaPlayerComponent implements AfterViewInit, OnDestroy {\n\n\t@Input()\n\twidth : number = 480;\n\n\t@Input()\n\theight : number = 360;\n\n\t@Input()\n\tpid : number;\n\n\t@Input()\n\tuiconfid : number;\n\n\t@Input()\n\tentryid : string;\n\n\t@Input()\n\tcdnUrl : string = 'http://cdnapi.kaltura.com';\n\n\t@Input()\n\tflashvars : any = {};\n\n\t@Input()\n\tlazy: boolean = false;\n\n\t@Input()\n\tid : string = \"\";\n\n\t@Output()\n\tkalturaPlayerReady = new EventEmitter<any>();\n\n\tprivate kdp: any;\n\n\tconstructor() {}\n\n\tngAfterViewInit(){\n\t\tif (!this.lazy){\n\t\t\tthis.Embed();\n\t\t}\n\t}\n\n\tpublic Embed():void{\n\t\t// validation\n\t\tif (!this.pid || !this.uiconfid || !this.entryid){\n\t\t\tconsole.warn(\"Kaltura Player::Missing parameters. Please provide pid, uiconfid and entryid.\");\n\t\t}else {\n\t\t\t// load player lib if doesn't exist\n\t\t\tif (document.getElementById(\"kalturaPlayerLib\") === null) {\n\t\t\t\tlet s = document.createElement('script');\n\t\t\t\ts.src = `${this.cdnUrl}/p/${this.pid}/sp/${this.pid}00/embedIframeJs/uiconf_id/${this.uiconfid}/partner_id/${this.pid}`;\n\t\t\t\ts.id = \"kalturaPlayerLib\";\n\t\t\t\ts.async = false;\n\t\t\t\tdocument.head.appendChild(s);\n\t\t\t}\n\t\t\t// wait for lib to load if not loaded and then embed player\n\t\t\tif (!this.kdp){\n\t\t\t\tconst intervalID = setInterval(() => {\n\t\t\t\t\tif (typeof window['kWidget'] !== \"undefined\"){\n\t\t\t\t\t\tclearInterval(intervalID);\n\t\t\t\t\t\tthis.doEmbed();\n\t\t\t\t\t}\n\t\t\t\t},50);\n\t\t\t}else{\n\t\t\t\tthis.doEmbed();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate doEmbed():void{\n\t\twindow['kWidget'].embed({\n\t\t\t\"targetId\": \"kaltura_player_\" + this.id,\n\t\t\t\"wid\": \"_\" + this.pid,\n\t\t\t\"uiconf_id\": this.uiconfid,\n\t\t\t\"flashvars\": this.flashvars,\n\t\t\t\"cache_st\": Math.random(),\n\t\t\t\"entry_id\": this.entryid,\n\t\t\t\"readyCallback\": (playerID) => {\n\t\t\t\tthis.kdp = document.getElementById(playerID);\n\t\t\t\tthis.kalturaPlayerReady.emit(this.kdp);\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnDestroy(){\n\t\tif (this.kdp){\n\t\t\twindow['kWidget'].destroy(this.kdp);\n\t\t}\n\t}\n\n}\n\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class StickyScrollService implements OnDestroy\n{\n\tprivate _scrollSubject = new Subject<{}>();\n\tpublic scrollStatus$ = this._scrollSubject.asObservable();\n\tprivate _resizeSubject = new Subject<{}>();\n\tpublic resizeStatus$ = this._resizeSubject.asObservable();\n\tprivate _layoutSubject = new BehaviorSubject<{}>({});\n\tpublic layoutSubject$ = this._layoutSubject.asObservable();\n\n\tprivate stickyElements: any = {};\n\tprivate manageScrollFunc = this.manageScrollEvent.bind(this);\n\tprivate manageResizeFunc = this.manageResizeEvent.bind(this);\n\n\tconstructor()\n\t{\n\t\twindow.addEventListener('scroll', this.manageScrollFunc);\n\t\twindow.addEventListener('resize', this.manageResizeFunc);\n\t}\n\n\tngOnDestroy(){\n\t\twindow.removeEventListener('scroll', this.manageScrollFunc);\n\t\twindow.removeEventListener('resize', this.manageResizeFunc);\n\t}\n\n\tmanageScrollEvent(){\n\t\tthis._scrollSubject.next({});\n\t}\n\n\tmanageResizeEvent(){\n\t\tthis._resizeSubject.next({});\n\t}\n\n\tattach(id: string){\n\t\tif (!id){\n\t\t\tthrow new Error(\"sticky service::missing id on attach!\");\n\t\t}else if (typeof this.stickyElements[id] !== \"undefined\") {\n\t\t\tthrow new Error(\"sticky service::id already exists! (\"+id+\")\");\n\t\t}else{\n\t\t\tthis.stickyElements[id] = null;\n\t\t}\n\t}\n\n\tdetach(id: string){\n\t\tif (!id){\n\t\t\tconsole.warn(\"sticky service::missing id on attach!\");\n\t\t}else {\n\t\t\tdelete this.stickyElements[id];\n\t\t}\n\t}\n\n\tupdate(id: string, height: number, offset: number){\n\t\tif (!id){\n\t\t\tconsole.warn(\"sticky service::missing id!\");\n\t\t}else {\n\t\t\tconst currentValue = this.stickyElements[id];\n\t\t\tif (typeof currentValue !== \"undefined\") {\n\t\t\t\tif (currentValue === null || currentValue.height !== height || currentValue.offset !== offset) {\n\t\t\t\t\tthis.stickyElements[id] = {height, offset};\n\t\t\t\t\tthis._layoutSubject.next(this.stickyElements);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(`unknown sticky element '${id}' (did you attach it before updating?)`);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Directive, Input, Renderer2, ElementRef, AfterViewInit, OnInit, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { StickyScrollService } from '../services/sticky-scroll.service';\nimport { cancelOnDestroy, tag } from '@kaltura-ng/kaltura-common';\n\n@Directive({\n    selector: '[kSticky]'\n})\n\nexport class StickyDirective implements OnInit, OnDestroy, AfterViewInit {\n    private lastScroll: number = 0;\n    public isSticky: boolean = false;\n    private originalCss: any;\n    private _destroyed = false;\n\n    @Output() onStickyEvent = new EventEmitter<any>();\n    @Output() onUnStickyEvent = new EventEmitter<any>();\n\n    @Input() stickyClass: string;\n    @Input() scrollOffset: number = 0;\n    @Input() appendTo: any;\n    @Input() stickyId: string = \"\";\n    @Input() sticksTo: string = \"\";\n    @Input() elementSelector: string = \"\";\n\n    private _parentTop: number = null;\n    private _parentOffset: number = null;\n    private _stickyTop: number = null;\n    private _stickyOffset: number = null;\n\n    protected _stickyElement: any;\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2, private _stickyScrollService: StickyScrollService) {\n\n    }\n\n    protected _getStickyElement(elementRef: ElementRef) :any{\n        return elementRef.nativeElement;\n    }\n\n    ngAfterViewInit(): void {\n        // console.log(`[${this.stickyId}] - ngAfterViewInit`);\n        this._stickyElement = this._getStickyElement(this.elementRef);\n        this.update();\n    }\n\n    ngOnInit(){\n        // console.log(`[${this.stickyId}] - attached`);\n        if (this.stickyId) {\n            this._stickyScrollService.attach(this.stickyId);\n        }\n\n        this._stickyScrollService.scrollStatus$.pipe(cancelOnDestroy(this)).subscribe(\n            event => {\n                // console.log(`[${this.stickyId}] - handle scroll`);\n                this._render();\n            }\n        );\n\n        this._stickyScrollService.resizeStatus$.pipe(cancelOnDestroy(this)).subscribe(\n                event => {\n                    this.onResize();\n                }\n            );\n\n        this._stickyScrollService.layoutSubject$.pipe(cancelOnDestroy(this)).subscribe(\n            elements =>{\n                const data = this.sticksTo ? elements[this.sticksTo] : {height: 0, offset: 0};\n                if (data && (\n                        this._parentTop !== data.height ||\n                        this._parentOffset !== data.offset\n                    )\n                ){\n                    this._parentTop = data.height;\n                    this._parentOffset = data.offset;\n                    this.update();\n                }\n            }\n        );\n    }\n\n    ngOnDestroy(){\n        // console.log(`[${this.stickyId}] - destroyed`);\n        this._destroyed = true;\n        this._stickyScrollService.detach(this.stickyId);\n    }\n\n    public update() : void{\n        if (this._parentTop !== null\n            && this._parentOffset != null)\n        {\n            // console.log(`[${this.stickyId}] - handle layout update`);\n            const stickyOffset = this._parentOffset + this.scrollOffset;\n            if (this._stickyTop !== this._parentTop ||\n                this._stickyOffset !== stickyOffset)\n            {\n                // console.log(`[${this.stickyId}] - update cached values`);\n                this._stickyTop = this._parentTop;\n                this._stickyOffset = stickyOffset;\n                this._render();\n            }\n\n            if (this.stickyId && this._stickyElement) {\n                // console.log(`[${this.stickyId}] - update service`);\n                const elementHeight = this._stickyElement.getBoundingClientRect()['height'];\n                setTimeout(() => {\n                  this._stickyScrollService.update(this.stickyId, elementHeight + this._stickyTop, this._stickyOffset);\n                }, 0);\n            }\n        }\n    }\n\n    private _render() : void\n    {\n        if (!this._destroyed && this._stickyElement) {\n            // console.log(`[${this.stickyId}] - _render`);\n\n            if (this._stickyTop !== null\n                && this._stickyOffset != null) {\n                const scroll = window.pageYOffset;\n                if (scroll > this.lastScroll && !this.isSticky && this._stickyElement.getBoundingClientRect()['top'] <= this._stickyTop) {\n                    // console.log(`[${this.stickyId}] - _render (set sticky mode)`);\n                    this.setSticky();\n                } else if (scroll < this.lastScroll && this.isSticky && scroll <= this._stickyOffset) {\n                    // console.log(`[${this.stickyId}] - _render (unset sticky mode)`);\n                    this.unsetSticky();\n                }else\n                {\n                    if (this.isSticky && scroll === this.lastScroll) {\n                        this.setStyle('top', this._stickyTop + 'px');\n                        // console.log(`[${this.stickyId}] - _render (update sitcky values) - TODO!!!!!!`);\n                    }\n                }\n                this.lastScroll = scroll;\n            }\n        }\n    }\n\n\n    private setSticky(): void {\n        if (!this.isSticky) {\n            this.isSticky = true;\n            // console.log(`[${this.stickyId}] - top = ${this._stickyElement.clientTop}`);\n            this.originalCss = {\n                position: this._stickyElement.style.position,\n                top: this._stickyElement.clientTop,\n                marginTop: this._stickyElement.style.marginTop,\n                left: this._stickyElement.clientLeft\n            };\n            this.setStyle('position', 'fixed');\n            this.setStyle('top', this._stickyTop + 'px');\n            if (this.appendTo) {\n                this.setStyle('left', this.appendTo.getBoundingClientRect()['left'] + 'px');\n            }\n            this.setClass(true);\n            this.onStickyEvent.emit();\n            this._onSticky();\n        }\n    }\n\n    protected _onSticky():void{\n        setTimeout(()=> {this.update()},0);\n    }\n\n    private unsetSticky(): void {\n        if (this.isSticky) {\n            this.isSticky = false;\n            this.setStyle('position', this.originalCss.position);\n            this.setStyle('marginTop', this.originalCss.marginTop);\n            this.setStyle('top', this.originalCss.top + 'px');\n            if (this.appendTo) {\n                this.setStyle('left', this.originalCss.left + 'px');\n            }\n            this.setClass(false);\n            this.onUnStickyEvent.emit();\n            this._onUnsetSticky();\n        }\n    }\n\n    protected _onUnsetSticky():void{\n        setTimeout(()=> {this.update()},0);\n    }\n\n    protected onResize():void{}; // used by primeng directive to update table layout\n\n    private setStyle(key: string, value: string): void {\n        this.renderer.setStyle(this._stickyElement, key, value);\n    }\n\n    private setClass(add: boolean): void {\n      if (add) {\n        this.renderer.addClass(this._stickyElement, this.stickyClass);\n      } else {\n        this.renderer.removeClass(this._stickyElement, this.stickyClass);\n      }\n    }\n\n}\n","import { Component, ElementRef, Input, AfterViewInit, OnDestroy, ViewChild, Renderer2 } from '@angular/core';\nimport { StickyScrollService } from '../services/sticky-scroll.service';\nimport { StickyDirective } from '../directives/sticky.directive';\nimport { cancelOnDestroy, tag } from '@kaltura-ng/kaltura-common';\n\n@Component({\n\tselector: 'kSticky',\n\ttemplateUrl: './sticky.component.html',\n\tstyleUrls: ['./sticky.component.scss']\n})\nexport class StickyComponent implements AfterViewInit, OnDestroy {\n\n\tpublic wrapperHeight:number = 0;\n\n\t@Input() scrollOffset = 0;\n\t@Input('stickyClass') stickyClass: string;\n\n\t@Input('container') container: any;\n\n\t@Input() stickyId: string;\n\t@Input() sticksTo: string;\n\n\t@ViewChild('contentWrapper', { static: true }) content: ElementRef;\n\t@ViewChild('stickyDiv', { static: true }) stickyDiv: ElementRef;\n\t@ViewChild(StickyDirective, { static: true }) _sticky: StickyDirective;\n\n\tconstructor(private _stickyScrollService: StickyScrollService, private _renderer: Renderer2) {}\n\n\tngAfterViewInit(): void {\n\t\tsetTimeout(()=>{\n\t\t\tthis._updateLayout();\n\t\t},0);\n\t\tthis._stickyScrollService.resizeStatus$.pipe(cancelOnDestroy(this)).subscribe(\n\t\t\tevent => {\n\t\t\t\tthis._updateDimensions();\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate _updateLayout() {\n\t\tif (this.content.nativeElement.children.length > 0) {\n\t\t\tthis.wrapperHeight = this.content.nativeElement.children[0].clientHeight;\n\t\t} else {\n\t\t\tconsole.warn(\"Sticky component::could not access content.\");\n\t\t}\n\t}\n\n\tpublic updateLayout(manual: boolean = true){\n\t\tsetTimeout(()=>{\n\t\t\tthis._updateLayout();\n\t\t\tthis._sticky.update();\n\t\t},0);\n\t}\n\n\tpublic _updateDimensions(){\n    this._renderer.setStyle(this.stickyDiv.nativeElement, 'width', `${this.content.nativeElement.offsetWidth}px`);\n\t}\n\n\tngOnDestroy(){\n\n\t}\n\n}\n\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { KalturaCommonModule } from '@kaltura-ng/kaltura-common';\nimport { StickyComponent } from './components/sticky.component';\nimport { StickyDirective} from './directives/sticky.directive';\nimport { StickyScrollService } from './services/sticky-scroll.service';\n\n@NgModule({\n    imports: [\n        KalturaCommonModule\n    ],\n    declarations: [\n        StickyComponent,\n        StickyDirective\n    ],\n    exports: [\n        StickyComponent,\n        StickyDirective\n    ],\n    providers: [\n    ]\n})\nexport class StickyModule {\n    static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: StickyModule,\n            providers: <any[]>[\n                StickyScrollService\n            ]\n        };\n    }\n\n}\n","import { Component, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\n\n@Component({\n    selector: 'kTag',\n    templateUrl: './tag.component.html',\n    styleUrls: ['./tag.component.scss']\n})\nexport class TagComponent{\n\n\t@Input() label: string;\n\t@Input() tooltip: string;\n\t@Input() data: any;\n\t@Input() disabled: any;\n\t@Input() showRemove: boolean = true;\n\t@Input() template: TemplateRef<any>;\n\n\n    @Output() onRemoved = new EventEmitter<any>();\n\n    constructor() {\n    }\n\n\tremoveTag(tag: any) {\n\t\tthis.onRemoved.emit(tag);\n    }\n\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  AfterViewInit,\n  OnDestroy,\n  ViewChild,\n  ViewChildren,\n  QueryList,\n  HostListener,\n  ElementRef,\n  ContentChildren,\n  TemplateRef, SimpleChanges, OnChanges,\n} from '@angular/core';\nimport { TagComponent } from './tag.component';\nimport { Subscription } from \"rxjs/Subscription\";\n\nimport * as $NS from 'jquery';\nconst $ = $NS;\n\n@Component({\n    selector: 'kTags',\n    templateUrl: './tags.component.html',\n    styleUrls: ['./tags.component.scss']\n})\nexport class TagsComponent implements AfterViewInit, OnDestroy, OnChanges {\n\n  @Input() data: any[];\n  @Input() disabled: boolean = false;\n  @Input() labelField: string;\n\t@Input() tooltipField: string;\n\t@Input() disabledField: string;\n\t@Input() removableTags: boolean = true;\n\t@Input() showClear: boolean = true;\n\t@Input() title: string;\n\t@Input() clearAllLabel: string = \"Clear All\";\n\n\t@ContentChildren(TemplateRef, {descendants: false}) public templates: QueryList<TemplateRef<any>>;\n\n    @Output() onTagRemove = new EventEmitter<any>();\n    @Output() onRemoveAll = new EventEmitter<any>();\n\t@Output() onTagsChange = new EventEmitter<{tagsCount: number}>();\n\n\t@ViewChild('scroller', { static: false }) scroller: ElementRef;\n\n\t@ViewChildren(TagComponent)\n\tprivate tagsList: QueryList<any>\n\tprivate tagsListObserver: Subscription;\n \n\tpublic _showMore: boolean = false;\n\tprivate showMoreCheckIntervalID: number;\n\tpublic _scrollLeftEnabled: boolean = false;\n\tpublic _scrollRightEnabled: boolean = true;\n\n    constructor() {\n    }\n\n\t@HostListener(\"window:resize\", [])\n\tonWindowResize() {\n\t\tthis.checkShowMore();\n\t}\n\n  ngOnChanges(changes: SimpleChanges) {\n      if (changes['data']) {\n        if (this.disabledField && Array.isArray(this.data)) {\n            this.data.sort((a, b) => Number(b[this.disabledField] || 0) - Number(a[this.disabledField] || 0));\n        }\n\n        this.checkShowMore();\n      }\n  }\n\n\tngAfterViewInit(){\n\t\tthis.tagsListObserver = this.tagsList.changes.subscribe((comps: QueryList <any>) =>\n\t\t{\n\t\t\tthis.onTagsChange.emit({tagsCount: (this.data ? this.data.length : 0) });\n\t\t\tthis.checkShowMore();\n\t\t});\n\t}\n\n\tngOnDestroy(){\n\t\tif (this.tagsListObserver){\n\t\t\tthis.tagsListObserver.unsubscribe();\n\t\t\tthis.tagsListObserver = null;\n\t\t}\n\t}\n\n    removeTag(tag: any){\n    \tthis.onTagRemove.emit(tag);\n    }\n\n    clearAll(){\n    \tthis.onRemoveAll.emit();\n    }\n\n\tcheckShowMore(){\n\t\t// we use a cancelable interval to improve performances on window resize\n\t\tif (this.showMoreCheckIntervalID){\n\t\t\tclearInterval(this.showMoreCheckIntervalID);\n\t\t\tthis.showMoreCheckIntervalID = null;\n\t\t}\n\t\tthis.showMoreCheckIntervalID = setTimeout(() => {\n\t\t\tif (this.data && this.data.length && this.scroller){\n\t\t\t\tthis._showMore = this.scroller.nativeElement.scrollWidth > (this.scroller.nativeElement.getBoundingClientRect().width + 1);\n\t\t\t}\n\t\t\tthis.showMoreCheckIntervalID = null;\n\t\t},100);\n\t}\n\n\tscroll(direction: string){\n\t\tconst scrollPageWidth = this.scroller.nativeElement.getBoundingClientRect().width;\n\t\tconst totalScroll = this.scroller.nativeElement.scrollWidth;\n\t\tif (direction === \"right\"){\n\t\t\tconst targetScrollLeft = this.scroller.nativeElement.scrollLeft + scrollPageWidth;\n\t\t\t$(this.scroller.nativeElement).animate({scrollLeft: targetScrollLeft}, 800, () => {\n\t\t\t\tthis._scrollLeftEnabled = true;\n\t\t\t\tif ((this.scroller.nativeElement.scrollLeft + scrollPageWidth) >= (totalScroll-1)){\n\t\t\t\t\tthis._scrollRightEnabled = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tconst targetScrollLeft = this.scroller.nativeElement.scrollLeft - scrollPageWidth;\n\t\t\t$(this.scroller.nativeElement).animate({scrollLeft: targetScrollLeft}, 800, () => {\n\t\t\t\tthis._scrollRightEnabled = true;\n\t\t\t\tif (this.scroller.nativeElement.scrollLeft <= 1){\n\t\t\t\t\tthis._scrollLeftEnabled = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TagsComponent } from './tags.component';\nimport { TagComponent } from './tag.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        TagsComponent,\n        TagComponent\n    ],\n    exports: [\n        TagsComponent,\n        TagComponent\n    ],\n    providers: [\n    ]\n})\nexport class TagsModule {}\n","import {AbstractControl, ValidationErrors} from \"@angular/forms\";\n\n// accepts http/https/ftp\nexport const urlRegex = new RegExp(\"(ftp|https?):\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9^@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,6}\\\\b([-a-zA-Z0-9^@:%_\\\\+.~#?&//=]*)\",\"i\");\n\n// accepts http/https\nexport  const urlHttpRegex = new RegExp(\"(https?):\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9^@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,6}\\\\b([-a-zA-Z0-9^@:%_\\\\+.~#?&//=]*)\",\"i\");\nexport const ipRegex = new RegExp(\"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\"i\");\n/**\n * Provides a set of validators used by form controls.\n *\n * A validator is a function that processes a {@link FormControl} or collection of\n * controls and returns a map of errors. A null map means that validation has passed.\n *\n * ### Example\n *\n * ```typescript\n * var loginControl = new FormControl(\"\", [Validators.ip, Validators.required])\n * ```\n *\n */\nexport class KalturaValidators {\n\n    /**\n     * Validator that requires controls to have a value represented as IP (value not required).\n     */\n    static ip(control: AbstractControl): ValidationErrors|null {\n        if (!control.value || !control.value.length) return null;\n        return ipRegex.test(control.value) ? null : {'ip': true};\n    }\n\n    /**\n     * Validator that requires controls to have a value represented as URL (value not required).\n     */\n    static url(control: AbstractControl): ValidationErrors|null {\n        if (!control.value || !control.value.length) return null;\n        return urlRegex.test(control.value) ? null : {'url': true};\n    }\n\n    /**\n     * Validator that requires controls to have a value represented as URL (value not required).\n     */\n    static urlHttp(control: AbstractControl): ValidationErrors|null {\n        if (!control.value || !control.value.length) return null;\n        return urlHttpRegex.test(control.value) ? null : {'url': true};\n    }\n\n\n    /**\n     * Url validation\n     */\n    static isUrlValid(url: string): boolean {\n        return urlRegex.test(url);\n    }\n\n}\n","export enum BrowserNames\n{\n\tIE11,\n\tother\n}\nexport class KalturaBrowserUtils {\n\tstatic detectBrowser(): BrowserNames\n\t\t{\n\t\t\tif (!!window['MSInputMethodContext'] && !!document['documentMode']){\n\t\t\t\treturn BrowserNames.IE11;\n\t\t\t}else{\n\t\t\t\treturn BrowserNames.other;\n\t\t\t}\n\t\t}\n}","import { Observable } from 'rxjs/Observable';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport 'rxjs/add/observable/of';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/do';\nimport { WidgetsManagerBase } from './widgets-manager-base';\nimport { ISubscription } from 'rxjs/Subscription';\nimport { WidgetState, WidgetStateData } from './widget-state';\nimport { KalturaLogger, EmptyLogger } from '@kaltura-ng/kaltura-common';\n\n// DEVELOPER NOTE: Don't implement ngOnDestroy - the inheritor will probably override this without calling super()\nexport abstract class WidgetBase<TForm extends WidgetsManagerBase<TData,TRequest>, TData, TRequest>\n{\n    public get data(): TData {\n        return this._data;\n    }\n\n    // DEVELOPER NOTE: this class cannot use 'cancelOnDestroy' operation\n    // because it must assume the inheriter will override it\n    private _activateSubscription: ISubscription = null;\n\n    private _data: TData;\n    private _dataSource: ReplaySubject<TData> = new ReplaySubject<TData>(1);\n    public data$ = this._dataSource.asObservable();\n    protected _logger: KalturaLogger;\n\n    constructor(private _key : string, logger?: KalturaLogger)\n    {\n        if (!_key)\n        {\n            throw new Error(`Form widget key is required when constructing widget of type '${typeof this}`);\n        }\n\n\t    this._logger = logger ? logger.subLogger(`widgets.${_key}`) : new EmptyLogger();\n    }\n\n    private _widgetState : WidgetState = {key: this.key, isValid: true, isDirty: false, isAttached: false, isBusy : false, isActive : false,  wasActivated : false};\n\n    protected onDataSaving(newData: TData, request: TRequest, originalData: TData): void;\n    protected onDataSaving(newData: TData, request: TRequest): void;\n    protected onDataSaving(newData: TData, request: TRequest, originalData?: TData): void {\n    }\n\n    protected form : TForm;\n\n    private _widgetReset : Subject<any> = new Subject<any>();\n    public widgetReset$ = this._widgetReset.asObservable();\n\n    public get wasActivated(): boolean {\n        return this._widgetState.wasActivated;\n    }\n\n    public get isValid(): boolean {\n        return this._widgetState.isValid;\n    }\n\n    public get isDirty(): boolean {\n        return this._widgetState.isDirty;\n    }\n\n    public get isActive(): boolean {\n        return this._widgetState.isActive;\n    }\n\n    public get isAttached(): boolean {\n        return this._widgetState.isAttached;\n    }\n\n    public get isBusy(): boolean {\n        return this._widgetState.isBusy;\n    }\n\n    public get key(): string\n    {\n        return this._key;\n    }\n\n    public get isNewData(): boolean{\n        return this.form.isNewData;\n    }\n\n    protected onValidate(wasActivated: boolean): Observable<{isValid: boolean}> {\n        return Observable.of({isValid: true});\n    }\n\n    protected updateState(stateUpdate : {isValid? : boolean, isDirty? : boolean, isBusy? : boolean}) : void {\n        this._updateState(stateUpdate);\n    }\n\n    private _updateState(stateUpdate : Partial<WidgetStateData>) : void {\n\n        this._verifyRegistered();\n\n        const stateHasChanges = Object.keys(stateUpdate).reduce((result, propertyName) => result || this._widgetState[propertyName] !== stateUpdate[propertyName], false);\n\n        if (stateHasChanges) {\n            Object.assign(this._widgetState, stateUpdate);\n\n            if (this.form) {\n                const newWidgetState = Object.assign({}, this._widgetState);\n                this.form._updateWidgetState(newWidgetState);\n            }\n        }\n    }\n\n    protected onDataLoaded(data: TData): void {\n    }\n\n    protected onDataLoading(dataId: any): void {\n    }\n\n    protected abstract onReset();\n\n    protected onActivate(firstTimeActivating: boolean): Observable<{failed: boolean, error?: Error}> | void {\n    }\n\n    public _setForm(manager : TForm) :void {\n        this.form = manager;\n    }\n\n    public _handleDataLoading(dataId: string): void {\n        this._verifyRegistered();\n        this._setData(null);\n        this.onDataLoading(dataId);\n    }\n\n    private _setData(data: TData): void{\n        this._data = data;\n        this._dataSource.next(data);\n    }\n\n    public _handleDataLoaded(data: TData): void {\n        this._verifyRegistered();\n        this._setData(data);\n        this.onDataLoaded(data);\n    }\n\n    public _validate(): Observable<{isValid: boolean}> {\n\n        this._verifyRegistered();\n\n        return this.onValidate(this.wasActivated)\n            .do(\n                response => {\n                    const updateState = (response.isValid !== this._widgetState.isValid);\n\n                    if (updateState) {\n                        this._logger.info(`[widget] widget '${this.key}': widget 'isValid' state doesn't match result of 'onValidate'. updating status to '${response.isValid ? 'valid' : 'invalid'}'`);\n                        this.updateState({isValid: response.isValid});\n                    }\n                }\n            );\n    }\n\n    public _handleDataSaving(newData: TData, request: TRequest, originalData: TData): void {\n\n        this._verifyRegistered();\n        this.onDataSaving(newData, request, originalData);\n    }\n\n    public _reset(): void {\n        this._verifyRegistered();\n\n        this._logger.info(`[widget] widget '${this.key}': reset widget`);\n\n        if (this._activateSubscription)\n        {\n            this._activateSubscription.unsubscribe();\n            this._activateSubscription = null;\n        }\n\n        this._widgetReset.next('');\n        this._updateState({ isValid: true, isDirty: false, isActive : false, isBusy: false});\n        this.onReset();\n    }\n\n    private _verifyRegistered(): void{\n        if(!this.form)\n        {\n            this._logger.error(`[widget] widget '${this.key}': cannot perform action, widget is not registered to a manager (did you forgot to register it in the main route component?)`);\n            throw new Error(`[widget] cannot perform action. widget with key \\''${this.key}'\\' is not registered to a manager`);\n        }\n    }\n\n    public activate(): void {\n\n        this._verifyRegistered();\n\n        if (this.data && this.isAttached && !this.isActive) {\n\n            this._reset();\n\n            const previousStatus = {\n              wasActivated : this.wasActivated\n            };\n\n            this._logger.info(`[widget] widget '${this.key}': activating widget (first time = ${!previousStatus.wasActivated})`);\n            const activate$ = this.onActivate(!this.wasActivated);\n            this._updateState({ isActive : true, wasActivated : true});\n\n            if (activate$ instanceof Observable) {\n                this._logger.info(`[widget] widget '${this.key}': widget requested for async activation operation. executing async operation.`);\n                this._activateSubscription = activate$\n                    .catch((error, caught) => Observable.of({failed: true, error}))\n                    .subscribe(\n                        response => {\n                            if (response && response.failed) {\n                                this._logger.info(`[widget] widget '${this.key}': async widget activation failed. revert state to ${JSON.stringify(previousStatus)})`);\n                                this._updateState({ isActive : false, wasActivated : previousStatus.wasActivated});\n                            }else {\n                                this._logger.info(`[widget] widget '${this.key}': async widget activation completed`);\n                            }\n                        },\n                        () => {\n                            this._activateSubscription = null;\n                        },\n                        () => {\n                            this._activateSubscription = null;\n                        });\n            }\n        }\n    }\n\n    public attachForm() : void{\n        this._verifyRegistered();\n\n        if (this.isAttached) {\n            this._logger.warn(`[widget] widget with key '${this.key}' is already attached (did you attached two components to the same widget? did you forgot to detach the widget upon ngOnDestroy?)`);\n        }else {\n            this._logger.info(`[widget] widget '${this.key}': attaching widget`);\n            this._updateState({isAttached: true});\n            this.activate();\n        }\n    }\n\n    public detachForm() : void{\n\n        this._verifyRegistered();\n\n        if (!this.isAttached) {\n            this._logger.warn(`[widget] widget with key '${this.key}' is already detached (did you attached two components to the same widget? did you forgot to attach the widget upon ngOnInit?)`);\n        }else {\n            this._logger.info(`[widget] widget '${this.key}': detaching widget`);\n            this._updateState({isAttached: false});\n        }\n    }\n\n    destory() {\n        this._reset();\n        this._widgetReset.complete();\n    }\n\n}\n","import { Output, EventEmitter, Component, ElementRef, Input, OnInit, HostListener } from '@angular/core';\n\n@Component({\n\tselector: 'kFileDialog',\n\ttemplateUrl: './file-dialog.component.html',\n\tstyleUrls: ['./file-dialog.component.scss']\n})\nexport class FileDialogComponent implements OnInit {\n\n\t@Input() filter: string = \"\";\n\t@Input() allowMultiple: boolean = false;\n\n\t@Output() onFileSelected = new EventEmitter<File[]>();\n\n\tconstructor(private elementRef: ElementRef) {\n\n\t}\n\n\tpublic open(event? : Event) {\n\n\t\tif (event)\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tthis.elementRef.nativeElement.firstElementChild.value = \"\";\n\t\tthis.elementRef.nativeElement.firstElementChild.click();\n\t}\n\n\tpublic _fileInputChange(event){\n\t\tif (event.currentTarget.files && event.currentTarget.files.length)\n\t\t{\n\t\t\tthis.onFileSelected.emit(event.currentTarget.files);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t}\n}\n\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as momentNS from 'moment';\nconst moment = momentNS;\n\n\n@Pipe({\n    name: 'kDate'\n})\nexport class DatePipe implements PipeTransform {\n\n    constructor(){}\n\n    transform(date: number, format : string): any {\n        if (date) {\n            if (!format) {\n                format = \"dateAndTime\";\n            }\n\n            switch (format) {\n                case 'dateOnly':\n                    format = 'MM/DD/YY';\n                    break;\n                case 'timeOnly':\n                    format = 'HH:mm';\n                    break;\n                case 'dateAndTime':\n                    format = \"MM/DD/YY HH:mm\";\n                    break;\n                case 'longDateOnly':\n                    format = \"MMMM D, YYYY\";\n                    break;\n                default:\n                    break;\n            }\n\n\n            return moment(date).format(format);\n        }else\n        {\n            return '';\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n/*\n * Convert bytes into largest possible unit.\n * Takes an precision argument that defaults to 2.\n * Usage:\n *   bytes | fileSize:precision\n * Example:\n *   {{ 1024 |  fileSize}}\n *   formats to: 1 KB\n */\n@Pipe({name: 'kFileSize'})\nexport class FileSizePipe implements PipeTransform {\n\n    private units = [\n        'bytes',\n        'KB',\n        'MB',\n        'GB',\n        'TB',\n        'PB'\n    ];\n\n    transform(bytes: number = 0, precision: number = 2 ) : string {\n        if ( isNaN( parseFloat( String(bytes) )) || ! isFinite( bytes ) ) return 'N/A';\n\n        let unit = 0;\n\n        while ( bytes >= 1024 ) {\n            bytes /= 1024;\n            unit ++;\n        }\n\n        return bytes.toFixed( + precision ) + ' ' + this.units[ unit ];\n    }\n}","import { Directive, ElementRef, Renderer2, Input, AfterViewInit } from '@angular/core';\n\n@Directive({\n  selector: '[kAutofocus]'\n})\nexport class AutofocusDirective implements AfterViewInit {\n  private _autofocus = true;\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {\n  }\n\n  ngAfterViewInit() {\n    if (this._autofocus) {\n      setTimeout(() => {\n        this.renderer.selectRootElement(this.el.nativeElement).focus();\n      });\n    }\n  }\n\n  @Input()\n  set inputAutofocus(allowed: boolean) {\n    this._autofocus = allowed;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({ name: 'safe' })\nexport class SafePipe implements PipeTransform {\n\tconstructor(private sanitizer: DomSanitizer) {}\n\ttransform(url) : any {\n\t\treturn this.sanitizer.bypassSecurityTrustResourceUrl(url);\n\t}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'kTime'})\nexport class TimePipe implements PipeTransform {\n  transform(value: number): string {\n\tif (typeof value === \"string\"){\n\t\treturn value as string;\n\t}else{\n\t\tlet hours: number = Math.floor( Math.round( value ) / 3600 );\n\t\tlet minutes: number = Math.floor( ( Math.round( value ) / 60 ) % 60 );\n\t\tlet seconds: number = Math.round(value) % 60;\n\n\t\tlet hoursStr: string = hours === 0 ? '' : hours.toString() + \":\";\n\t\tlet minutesStr: string = minutes === 0 && hours === 0 ? '00' : minutes < 10  ? '0' + minutes.toString() : minutes.toString();\n\t\tlet secondsStr: string = seconds < 10  ? '0' + seconds.toString() : seconds.toString();\n\n\t\treturn hoursStr + minutesStr + \":\" + secondsStr;\n\t}\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'kLineBreak'\n})\nexport class LineBreakPipe implements PipeTransform {\n\n    constructor(){}\n\n    transform(str: string): string {\n        if (str.split(\"\\r\").length > 0 && str.split(\"\\r\\n\").length < str.split(\"\\r\").length) {\n            str = str.split(\"\\r\").join(\"\\r\\n\");\n        }\n        return str;\n    }\n}\n","import { Component, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'kScrollToTopContainer',\n  template: '<ng-content></ng-content>',\n  styles: [':host { display: block }']\n})\nexport class ScrollToTopContainerComponent {\n  constructor(private _el: ElementRef) {\n  }\n\n  public scrollToTop(): void {\n    this._el.nativeElement.scrollTop = 0;\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FileDialogComponent } from './file-dialog/file-dialog.component';\nimport { KalturaPlayerComponent } from './player/player.component';\nimport { DatePipe } from './date.pipe';\nimport { SafePipe } from './safe.pipe';\nimport { TimePipe } from './time.pipe';\nimport { FileSizePipe } from './file-size.pipe';\nimport { LineBreakPipe } from './line-break.pipe';\nimport { AutofocusDirective } from './input-autofocus';\nimport { ScrollToTopContainerComponent } from './scroll-to-top-container.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        SafePipe,\n        TimePipe,\n\t      FileDialogComponent,\n        KalturaPlayerComponent,\n        DatePipe,\n        FileSizePipe,\n        LineBreakPipe,\n        AutofocusDirective,\n        ScrollToTopContainerComponent,\n    ],\n    exports: [\n        TimePipe,\n        SafePipe,\n\t      FileDialogComponent,\n        KalturaPlayerComponent,\n        DatePipe,\n        FileSizePipe,\n        LineBreakPipe,\n        AutofocusDirective,\n        ScrollToTopContainerComponent\n    ],\n    providers: [\n    ]\n})\nexport class KalturaUIModule {}\n","import {Component, ChangeDetectionStrategy, OnInit, Input} from \"@angular/core\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\n@Component({\n  selector: 'kInputRange',\n  templateUrl: './input-range.component.html',\n  styleUrls: ['./input-range.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: InputRangeComponent,\n      multi: true\n    }\n  ]\n})\n\nexport class InputRangeComponent implements OnInit, ControlValueAccessor {\n  @Input() options: Array<{value: string | number, tooltip: string, isSelected: boolean, label: string}>;\n  @Input() width: string;\n\n  public selectedOptionIndex: number;\n  public selectedText: string;\n  public pointOvered = [];\n\n  onChange = (value: string | number) => {};\n  onTouched = () => {};\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.selectedOptionIndex = this.options.findIndex(option => option.isSelected);\n    this.selectedOptionIndex = this.selectedOptionIndex == -1 ? 0 : this.selectedOptionIndex;\n    this.selectedText = this.options[this.selectedOptionIndex].label;\n\n  }\n\n  getProgressBarStyle() {\n\n    return 100 / (this.options.length - 1) * (this.selectedOptionIndex >= 0 ? this.selectedOptionIndex : 0);\n\n  }\n\n  pointSelected(index) {\n    if (this.selectedOptionIndex > 0) {\n      this.options[this.selectedOptionIndex].isSelected = false;\n    }\n\n    this.options[index].isSelected = true;\n\n    this.selectedText = this.options[index].label;\n    this.selectedOptionIndex = index;\n\n    this.onTouched();\n    this.onChange(this.options[index].value);\n\n  }\n\n  //From ControlValueAccessor interface\n  writeValue(value: string | number) {\n    const valueOptionIndex = this.options.findIndex(option => option.value == value);\n    if (valueOptionIndex !== -1) {\n      this.pointSelected(valueOptionIndex);\n    }\n\n  }\n\n  //From ControlValueAccessor interface\n  registerOnChange(fn: (value: string | number) => void) {\n    this.onChange = fn;\n  }\n\n  //From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InputRangeComponent } from './input-range.component';\nimport { TooltipModule } from \"../tooltip/k-tooltip.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TooltipModule\n  ],\n  declarations: [\n    InputRangeComponent\n  ],\n  exports: [\n    InputRangeComponent\n  ],\n  providers: [\n  ]\n})\nexport class InputRangeModule {}\n"]}
{"version":3,"file":"kaltura-ng-kaltura-ui.js","sources":["ng://@kaltura-ng/kaltura-ui/lib/area-blocker/area-blocker-message.ts","ng://@kaltura-ng/kaltura-ui/lib/area-blocker/area-blocker.component.ts","ng://@kaltura-ng/kaltura-ui/lib/area-blocker/area-blocker.module.ts","ng://@kaltura-ng/kaltura-ui/lib/details-bar/detail-info.component.ts","ng://@kaltura-ng/kaltura-ui/lib/details-bar/details-bar.component.ts","ng://@kaltura-ng/kaltura-ui/lib/tooltip/k-tooltip.directive.ts","ng://@kaltura-ng/kaltura-ui/lib/tooltip/k-tooltip.module.ts","ng://@kaltura-ng/kaltura-ui/lib/details-bar/details-bar.module.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form-control-base.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/dynamic-section-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form.service.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form-item.component.ts","ng://@kaltura-ng/kaltura-ui/lib/popup-widget/popup-widget-layout.ts","ng://@kaltura-ng/kaltura-ui/lib/popup-widget/popup-widget.component.ts","ng://@kaltura-ng/kaltura-ui/lib/popup-widget/popup-widget.module.ts","ng://@kaltura-ng/kaltura-ui/lib/input-helper/input-helper.component.ts","ng://@kaltura-ng/kaltura-ui/lib/input-helper/input-helper.module.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/dynamic-form.module.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/list-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/datepicker-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/text-area-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/textbox-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/dynamic-dropdown-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/switch-control.ts","ng://@kaltura-ng/kaltura-ui/lib/dynamic-form/controls/number-control.ts","ng://@kaltura-ng/kaltura-ui/lib/player/player.component.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/services/sticky-scroll.service.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/directives/sticky.directive.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/components/sticky.component.ts","ng://@kaltura-ng/kaltura-ui/lib/sticky/sticky.module.ts","ng://@kaltura-ng/kaltura-ui/lib/tags/tag.component.ts","ng://@kaltura-ng/kaltura-ui/lib/tags/tags.component.ts","ng://@kaltura-ng/kaltura-ui/lib/tags/tags.module.ts","ng://@kaltura-ng/kaltura-ui/lib/validators/validators.ts","ng://@kaltura-ng/kaltura-ui/lib/widgets/widgets-manager-base.ts","ng://@kaltura-ng/kaltura-ui/lib/widgets/widget-base.ts","ng://@kaltura-ng/kaltura-ui/lib/file-dialog/file-dialog.component.ts","ng://@kaltura-ng/kaltura-ui/lib/date.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/file-size.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/input-autofocus.ts","ng://@kaltura-ng/kaltura-ui/lib/kaltura-browser-utils.ts","ng://@kaltura-ng/kaltura-ui/lib/safe.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/time.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/line-break.pipe.ts","ng://@kaltura-ng/kaltura-ui/lib/scroll-to-top-container.component.ts","ng://@kaltura-ng/kaltura-ui/lib/kaltura-ui.module.ts","ng://@kaltura-ng/kaltura-ui/lib/input-range/input-range.component.ts","ng://@kaltura-ng/kaltura-ui/lib/input-range/input-range.module.ts","ng://@kaltura-ng/kaltura-ui/public_api.ts","ng://@kaltura-ng/kaltura-ui/kaltura-ng-kaltura-ui.ts"],"sourcesContent":["export interface AreaBlockerMessageButton\n{\n    label : string;\n    action : () => void;\n    classes?: string;\n}\n\nexport class AreaBlockerMessage\n{\n    title   : string;\n    message : string;\n    buttons : AreaBlockerMessageButton[];\n\n    constructor(content : { title? : string, message : string, buttons : AreaBlockerMessageButton[]})\n    {\n        this.title = content.title || 'Error';\n        this.message = content.message;\n        this.buttons = content.buttons;\n    }\n}","import { Component, Input, OnInit, ViewEncapsulation, ViewChild, ElementRef, Renderer2 } from '@angular/core';\nimport { AreaBlockerMessage } from './area-blocker-message';\n\n@Component({\n  selector: 'k-area-blocker',\n  templateUrl: './area-blocker.component.html',\n  styleUrls: ['./area-blocker.component.scss'],\n  encapsulation : ViewEncapsulation.None\n})\nexport class AreaBlockerComponent implements OnInit  {\n\n  private _showLoader: boolean;\n  public _message : AreaBlockerMessage;\n  private _showLoaderHandler: number;\n\n  @ViewChild('areaBlockerContainer', { static: false }) areaBlockerContainer: ElementRef;\n  @ViewChild('spinnerContainer', { static: false }) spinnerContainer: ElementRef;\n\n  @Input() bodyScroll : boolean = false;\n  @Input() spinnerMarginTop : number = 0;\n  @Input() classes : string;\n\n  @Input() set showLoader(value : boolean) {\n      // once showLoader is set to true, use a timeout so *ngIf will cause the HTML to render and then calculate area blocker width\n      if (value) {\n          this._showLoaderHandler = setTimeout(() => {\n              this._showLoaderHandler = null;\n              if (this.bodyScroll && !!this.areaBlockerContainer) {\n                  const rect = this.areaBlockerContainer.nativeElement.getBoundingClientRect();\n                  if (rect.width < document.body.clientWidth && this.spinnerContainer) {\n                      this._renderer.setStyle(this.spinnerContainer.nativeElement, 'left', `${rect.left + rect.width / 2}px`);\n                  }\n              }\n              this._renderer.setStyle(this.spinnerContainer.nativeElement, 'opacity', '1'); // show the spinner only after its position is calculated to prevent seeing it jumps...\n          }, 0);\n      } else {\n          if (this._showLoaderHandler) {\n              clearTimeout(this._showLoaderHandler);\n              this._showLoaderHandler = null;\n          }\n          if (this.bodyScroll && this.spinnerContainer) {\n              this._renderer.setStyle(this.spinnerContainer.nativeElement, 'opacity', '0'); // hide the spinner so we won't see it jump next time its position is recalculated\n          }\n      }\n      this._showLoader = value;\n  }\n\n  get showLoader(): boolean{\n    return this._showLoader;\n  }\n\n  @Input()\n  set message(value : AreaBlockerMessage | string)\n  {\n    if (typeof value === 'string')\n    {\n      this._message = { title : 'Error', message : value, buttons : [{ label :'Dismiss', action : () => { this._message = null;}}]};\n    }else if (value instanceof AreaBlockerMessage)\n    {\n      this._message = value;\n    }else\n    {\n      this._message = null;\n    }\n  }\n\n  constructor(private _renderer: Renderer2){}\n\n  public handleAction(button : { action : () => void}) {\n    if (button) {\n      button.action();\n    }\n  }\n\n  ngOnInit()\n  {\n\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AreaBlockerComponent } from './area-blocker.component';\n\n@NgModule(\n    {\n        imports : [\n          CommonModule\n        ],\n        declarations : [\n            AreaBlockerComponent\n        ],\n        exports : [\n            AreaBlockerComponent\n        ],\n        providers : [\n        ]\n    }\n)\nexport class AreaBlockerModule\n{\n\n}","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'kDetailInfo',\n    templateUrl: './detail-info.component.html',\n    styleUrls: ['./detail-info.component.scss']\n})\nexport class DetailInfoComponent implements OnInit {\n\n    @Input() label: string;\n    @Input() value: string;\n    @Input() valueField: string;\n    @Input() link: string;\n    @Input() tooltip: string;\n    @Input() toolTipAsHTML: boolean = true;\n    @Input() iconStyle: string;\n    @Input() separator: string = \"|\";\n    @Input() maxItemWidth: number = 300;\n    @Input() isLastItem: boolean = false;\n\n    @Output() itemClick = new EventEmitter<any>();\n\n    public _data : any;\n\n    public _setData(data : any)\n    {\n        this._data = data;\n    }\n\n    public isClickable: boolean = false;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n        this.isClickable = this.itemClick.observers.length > 0;\n    }\n\n    onClick($event: MouseEvent){\n        if (this.isClickable){\n            this.itemClick.emit($event);\n        }\n    }\n}\n","import { Component, ElementRef, Input, QueryList, ContentChildren, AfterContentInit, ViewChild, HostListener, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { DetailInfoComponent } from './detail-info.component';\nimport { ISubscription } from 'rxjs/Subscription';\n\n@Component({\n  selector: 'k-details-bar',\n  templateUrl: './details-bar.component.html',\n  styleUrls: ['./details-bar.component.scss']\n})\nexport class DetailsBarComponent implements AfterContentInit,AfterViewChecked, OnDestroy {\n\n  @ContentChildren(DetailInfoComponent) items: QueryList<DetailInfoComponent>;\n\n  @Input() basicDetailsLabel: string = \"Basic Details\";\n  @Input() moreDetailsLabel: string = \"More Details\";\n\n  private _shouldUpdateItems = false;\n\n  public _data: any;\n  @Input() set data(dataObj: any) {\n    this._data = dataObj;\n    this._shouldUpdateItems = true;\n    this.reset();\n  }\n\n  @ViewChild('dataPanel', { static: true }) dataPanel: ElementRef;\n  @ViewChild('dataWrapper', { static: true }) dataWrapper: ElementRef;\n  public _showMore: boolean = false;\n  public _showBasic: boolean = false;\n  private showMoreCheckIntervalID: any;\n  private lineScroll = 0;\n  private disableScroll: boolean = false;\n  private _itemsChangesSubscription: ISubscription;\n\n  constructor() {\n  }\n\n  @HostListener(\"window:resize\", [])\n  onWindowResize() {\n    this.reset();\n  }\n\n  ngAfterViewChecked(){\n    if (this._shouldUpdateItems)\n    {\n      this._shouldUpdateItems = false;\n      setTimeout(()=>{\n        this.items.forEach(item => {\n          item._setData(this._data);\n        })\n      },0);\n    }\n  }\n\n  ngAfterContentInit() {\n    this.updateLayout();\n\n    this._itemsChangesSubscription = this.items.changes.subscribe(\n        changes => {\n          this._shouldUpdateItems = true;\n        }\n    );\n  }\n\n  private _updateItems(): void{\n\n    if (this.items) {\n      this.items.forEach(item => item._setData(this._data));\n    }\n  }\n  updateLayout() {\n    //we use a cancelable interval to improve performances on window resize\n    if (this.showMoreCheckIntervalID) {\n      clearInterval(this.showMoreCheckIntervalID);\n      this.showMoreCheckIntervalID = null;\n    }\n    this.showMoreCheckIntervalID = setTimeout(() => {\n      this.items.forEach(item => {\n        item.isLastItem = false;\n      });\n      this.items.last.isLastItem = true;\n      const marginTop = parseInt(window.getComputedStyle(this.dataWrapper.nativeElement).top);\n      const elementHeight = this.dataWrapper.nativeElement.children.length ? this.dataWrapper.nativeElement.children[0].clientHeight : 0;\n      this._showMore = this.dataWrapper.nativeElement.clientHeight > this.dataPanel.nativeElement.getBoundingClientRect().height && Math.abs(marginTop) < (this.dataWrapper.nativeElement.clientHeight + marginTop);\n      this._showBasic = this.dataWrapper.nativeElement.clientHeight > this.dataPanel.nativeElement.getBoundingClientRect().height && marginTop < 0 ;\n\n      // code to remove last separators in each line\n      let topArr = [];\n      if (this.dataWrapper.nativeElement.children.length){\n        for (let i=0; i<this.dataWrapper.nativeElement.children.length; i++){\n          const elm: any = this.dataWrapper.nativeElement.children[i];\n          const top = elm.getBoundingClientRect().top;\n          topArr.push(top);\n        }\n        for (let i=0; i<topArr.length-1; i++){\n          if (topArr[i] < topArr[i+1] && this.items.length >= i){\n            this.items.forEach((item, index)=>{\n              if (i===index){\n                item.isLastItem = true;\n              }\n            });\n          }\n        }\n      }\n\n      this.showMoreCheckIntervalID = null;\n    }, 100);\n  }\n\n  show(direction: string) {\n    if (!this.disableScroll){\n      this.disableScroll = true;\n      if (direction === \"more\") {\n        this.lineScroll++;\n      }\n      else {\n        this.lineScroll--;\n      }\n      this.dataWrapper.nativeElement.style.top = this.dataWrapper.nativeElement.children[0].clientHeight * (-1) * this.lineScroll + \"px\";\n      setTimeout(()=>{\n        this.updateLayout(); // allow animation to finish before recalculating\n        this.disableScroll = false;\n      },350);\n    }\n\n  }\n\n  reset(){\n    this.lineScroll = 0;\n    this.dataWrapper.nativeElement.style.top = \"0px\";\n    setTimeout(()=>{\n      this.updateLayout(); // allow animation to finish before recalculating\n    },350);\n  }\n\n  ngOnDestroy(){\n    if (this._itemsChangesSubscription){\n      this._itemsChangesSubscription.unsubscribe();\n      this._itemsChangesSubscription = null;\n    }\n  }\n}\n\n","import { Directive, ElementRef, HostListener, Input, OnDestroy } from '@angular/core';\n\nexport type TooltipPositions = 'top' | 'left' | 'right' | 'bottom';\n\n@Directive({\n\tselector: '[kTooltip]'\n})\nexport class KTooltipDirective implements OnDestroy {\n\n    constructor(private elementRef: ElementRef) {\n    }\n\n    private _tooltipElement: HTMLElement = null;\n    private _tooltipContent: any = null;\n    private _shouldBeVisible = false;\n    private _tooltipHeight: number = null;\n    private _tooltipWidth: number = null;\n\n    @Input() tooltipResolver: string | ((val: any) => string) = null;\n    @Input() escape: boolean = true;\n    @Input() tooltipOffset: number = 8;\n    @Input() placement: TooltipPositions = \"top\";\n    @Input() delay = 300;\n    @Input() maxWidth: number = 300;\n    @Input() followTarget = false;\n    @Input() showOnEllipsis = false;\n\n    @Input()\n    set kTooltip(value: any) {\n        if (this.isValidContent(value)) {\n            this._tooltipContent = value;\n        }\n        else {\n            this._tooltipContent = null;\n        }\n\n        this._updateTooltipElement();\n    }\n\n    private isValidContent(value: any)\n    {\n        return typeof value !== 'undefined' && value !== '' && value !== null;\n    }\n\n    private _updateTooltipElement(): void {\n        if (!this._tooltipContent) {\n            if (this._isShowingTooltip()) {\n                this._removeTooltipElement();\n            }\n        } else if (this._shouldBeVisible) {\n            if (!this._isShowingTooltip()) {\n                this._tooltipElement = document.createElement('span');\n                this._tooltipElement.style.pointerEvents = 'none';\n                this._tooltipElement.className += \"ng-tooltip ng-tooltip-\" + this.placement;\n                if (this.maxWidth > 0) {\n                    this._tooltipElement.style.maxWidth = this.maxWidth + \"px\";\n                }\n\n                const addTooltipVisibleClass = () => {\n                    if (this._tooltipElement) {\n                        this._tooltipElement.className += \" ng-tooltip-show\";\n                    }\n                };\n\n                if (this.delay) {\n                    setTimeout(addTooltipVisibleClass, this.delay);\n                } else {\n                    addTooltipVisibleClass();\n                }\n\n                document.body.appendChild(this._tooltipElement);\n                if (this._updateTooltipElementContent()) {\n                    this._updateTooltipElementPosition();\n                }\n\n            } else {\n                if (this._updateTooltipElementContent()) {\n                    this._updateTooltipElementPosition();\n                }\n            }\n        } else {\n            if (this._isShowingTooltip()) {\n                this._removeTooltipElement();\n            }\n        }\n    }\n\n    @HostListener(\"mousemove\")\n    onMouseMove() {\n        if (this.followTarget) {\n            this._updateTooltipElementPosition();\n        }\n    }\n\n    @HostListener(\"mouseenter\")\n    onMouseEnter() {\n      if (!this.showOnEllipsis || this.isInEllipsis()) {\n        this._shouldBeVisible = true;\n        this._updateTooltipElement();\n      }\n    }\n\n    @HostListener(\"mouseleave\")\n    onMouseLeave() {\n        this._shouldBeVisible = false;\n        this._updateTooltipElement();\n    }\n\n    private isInEllipsis(): boolean {\n      // added the -1 threshold to support IE and edge which always show a 1px difference between offsetWidth and scrollWidth\n      return this.elementRef.nativeElement.offsetWidth < (this.elementRef.nativeElement.scrollWidth - 1);\n    }\n\n    private _removeTooltipElement() {\n        if (this._tooltipElement) {\n            if (this._tooltipElement.parentNode) {\n                this._tooltipElement.parentNode.removeChild(this._tooltipElement);\n            }\n            this._tooltipElement = null;\n            this._tooltipHeight = null;\n            this._tooltipWidth = null;\n        }\n    }\n\n    private _isShowingTooltip(): boolean {\n        return this._tooltipElement !== null;\n\t}\n\n    private _updateTooltipElementContent(): boolean {\n        if (this._isShowingTooltip() && this._tooltipContent) {\n\n            let content = '';\n\n            if (this.tooltipResolver && typeof this.tooltipResolver === 'string')\n            {\n                content = this._tooltipContent[this.tooltipResolver];\n            }else if (this.tooltipResolver && typeof this.tooltipResolver === 'function')\n            {\n                content = this.tooltipResolver(this._tooltipContent);\n            }else\n            {\n                content = this._tooltipContent;\n            }\n\n            if (this.isValidContent(content)) {\n                // re-check content type to handle scenarios when the tooltipResolver caused the value to be undefined\n                this._tooltipElement.innerHTML = '';\n                this._tooltipElement.textContent = '';\n                if (this.escape) {\n                    this._tooltipElement.textContent = content;\n                } else {\n                    this._tooltipElement.innerHTML = content;\n                }\n\n                this._tooltipHeight = this._tooltipElement.clientHeight;\n                this._tooltipWidth = this._tooltipElement.offsetWidth;\n\n                return true;\n            } else\n            {\n                this._removeTooltipElement();\n                return false;\n            }\n        }\n    }\n\n    private _updateTooltipElementPosition() {\n\n        if (this._isShowingTooltip()) {\n            const elemPosition = this.elementRef.nativeElement.getBoundingClientRect();\n\n            if (elemPosition) {\n                let elemHeight = this.elementRef.nativeElement.offsetHeight;\n                let elemWidth = this.elementRef.nativeElement.offsetWidth;\n\n                if (this.placement == 'top') {\n                    this._tooltipElement.style.top = elemPosition.top - (this._tooltipHeight + this.tooltipOffset) + 'px';\n                }\n\n                if (this.placement == 'bottom') {\n                    this._tooltipElement.style.top = elemPosition.top + elemHeight + this.tooltipOffset + 'px';\n                }\n\n                if (this.placement == 'top' || this.placement == 'bottom') {\n                    this._tooltipElement.style.left = (elemPosition.left + elemWidth / 2) - this._tooltipWidth / 2 + 'px';\n                }\n\n                if (this.placement == 'left') {\n                    this._tooltipElement.style.left = elemPosition.left - this._tooltipWidth - this.tooltipOffset + 'px';\n                }\n\n                if (this.placement == 'right') {\n                    this._tooltipElement.style.left = elemPosition.left + elemWidth + this.tooltipOffset + 'px';\n                }\n\n                if (this.placement == 'left' || this.placement == 'right') {\n                    this._tooltipElement.style.top = elemPosition.top + elemHeight / 2 - this._tooltipElement.clientHeight / 2 + 'px';\n                }\n                // correct left positioning of tooltip if outside the screen\n                const offsetLeft = parseInt(this._tooltipElement.style.left);\n                if (offsetLeft < 0) {\n                  this._tooltipElement.style.left = 0 + 'px';\n                }\n            }\n        }else\n\t\t{\n\t\t\tthis._updateTooltipElement();\n\t\t}\n    }\n\n    ngOnDestroy() {\n        this._removeTooltipElement();\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { KTooltipDirective } from './k-tooltip.directive';\n\n@NgModule(\n  {\n    imports: [\n      CommonModule\n    ],\n    declarations: [\n      KTooltipDirective\n    ],\n    exports: [\n      KTooltipDirective\n    ]\n  }\n)\nexport class TooltipModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DetailsBarComponent } from './details-bar.component';\nimport { DetailInfoComponent } from \"./detail-info.component\";\nimport { TooltipModule } from \"../tooltip/k-tooltip.module\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TooltipModule\n    ],\n    declarations: [\n        DetailsBarComponent,\n        DetailInfoComponent\n    ],\n    exports: [\n        DetailsBarComponent,\n        DetailInfoComponent\n    ],\n    providers: [\n    ]\n})\nexport class DetailsBarModule {\n}\n","import { ValidatorFn } from '@angular/forms';\n\nexport interface DynamicFormControlArgs<T>\n{\n    value?: T,\n    key: string,\n    label?: string,\n    description?: string,\n    order?: number,\n    allowMultiple? : boolean,\n    validators? : Array<ValidatorFn>,\n    validateOn?: 'change' | 'blur' | 'submit';\n    errors? : {[key: string]: string},\n    inputHelperConfig?: {title?: string, body: string}\n    styleClass?: string;\n    dateFormat?: string;\n};\n\nexport abstract class DynamicFormControlBase<T>{\n\n    abstract get controlType() : string;\n    defaultValue: T;\n    key: string;\n    label: string;\n    allowMultiple : boolean;\n    order: number;\n    description: string;\n    validators : Array<ValidatorFn>;\n    validateOn?: 'change' | 'blur' | 'submit';\n    errors:  {[key: string]:  string};\n    inputHelperConfig: {title?: string, body: string};\n    styleClass: string;\n    dateFormat?: string;\n\n    constructor(options: DynamicFormControlArgs<T>) {\n        this.defaultValue = options.value;\n        this.key = options.key || '';\n        this.label = options.label || '';\n        this.allowMultiple = !!options.allowMultiple;\n        this.order = options.order === undefined ? 1 : options.order;\n        this.description = options.description || '';\n        this.validators = options.validators;\n        this.validateOn = options.validateOn || 'change';\n        this.errors = options.errors;\n        this.inputHelperConfig = options.inputHelperConfig;\n        this.styleClass = options.styleClass;\n        this.dateFormat = options.dateFormat;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface DynamicSectionArgs extends DynamicFormControlArgs<any>\n{\n    children : DynamicFormControlBase<any>[];\n}\n\n\nexport class DynamicSectionControl extends DynamicFormControlBase<any> {\n\n    get controlType() : string\n    {\n        return 'Group';\n    }\n\n    public children : DynamicFormControlBase<any>[];\n\n    constructor(options: DynamicSectionArgs)\n    {\n        super(options);\n        this.children = options.children;\n    }\n\n}","import { Injectable }   from '@angular/core';\nimport { FormControl, FormGroup, Validators,  FormBuilder } from '@angular/forms';\nimport { DynamicFormControlBase } from './dynamic-form-control-base';\nimport { DynamicSectionControl } from './controls/dynamic-section-control';\n\n\n@Injectable()\nexport class DynamicFormService {\n    constructor(private _formBuilder : FormBuilder) { }\n\n\n    toFormGroup(dynamicControls: DynamicFormControlBase<any>[], config : { ignoreMultiple? : boolean, formValue? : {} } = {} ) : FormGroup {\n        let result: any = {};\n\n        if (dynamicControls) {\n            dynamicControls.forEach(formControl => {\n\n                if (!config.ignoreMultiple && formControl.allowMultiple) {\n                    const formArray = result[formControl.key] = this._formBuilder.array([]);\n\n                    if (config && config.formValue) {\n                        // build array formGroup item for each actual record in array\n                        const arrayItems = config.formValue[formControl.key];\n\n                        if (arrayItems instanceof Array) {\n                            arrayItems.forEach(arrayItem => {\n                                formArray.push(this.toFormGroup([formControl], {\n                                    ignoreMultiple: true,\n                                    formValue: arrayItem\n                                }));\n                            });\n                        }\n                    }\n                } else {\n                    if (formControl instanceof DynamicSectionControl) {\n                        const shouldCreateNestedGroup = dynamicControls.length > 1;\n                        if (shouldCreateNestedGroup) {\n                            result[formControl.key] = this.toFormGroup(formControl.children, {formValue: config.formValue});\n                        }else {\n                            result = this.toFormGroup(formControl.children, {formValue: config.formValue});\n                        }\n                    } else {\n                        result[formControl.key] = new FormControl(formControl.defaultValue || null, {validators: formControl.validators, updateOn: formControl.validateOn ? formControl.validateOn : 'change'} );\n                    }\n                }\n\n            });\n        }\n\n        return (result instanceof FormGroup) ? result : this._formBuilder.group(result);\n    }\n}\n","import { Component, Input, TemplateRef, ContentChildren, QueryList, OnInit } from '@angular/core';\nimport { FormArray, FormGroup, Validators,  FormBuilder, AbstractControl } from '@angular/forms';\nimport { DynamicSectionControl } from './controls/dynamic-section-control';\nimport { DynamicFormService } from './dynamic-form.service';\nimport { DynamicFormControlBase } from './dynamic-form-control-base';\n\n@Component({\n    selector: 'k-dynamic-form-item',\n    templateUrl: './dynamic-form-item.component.html',\n    styleUrls : ['./dynamic-form-item.component.scss']\n})\nexport class DynamicFormItem implements  OnInit {\n    @Input() control: DynamicFormControlBase<any>;\n    @Input() form : FormGroup;\n\n    public isRequired: boolean;\n\n    @ContentChildren(TemplateRef, {descendants: false}) public _templates: QueryList<TemplateRef<any>>;\n    @Input() labelTemplate: TemplateRef<any>;\n\n    constructor(private _formBuilder : FormBuilder, private _dynamicFormService : DynamicFormService)\n    {\n\n    }\n\n    asDynamicSection(control: DynamicFormControlBase<any>): DynamicSectionControl {\n      return <DynamicSectionControl>control;\n    }\n\n    asFormGroup(control: AbstractControl): FormGroup {\n      return <FormGroup>control;\n    }\n\n    ngOnInit() {\n        this.isRequired=false;\n\n        const validators = this.control.validators;\n        if (this.control.validators)\n        {\n            const RequiredValidator =validators.find( validator =>\n            validator == Validators.required);\n\n            if (RequiredValidator)\n            {\n                this.isRequired=true;\n            }\n        }\n    }\n\n    initItem(dynamicControl : DynamicFormControlBase<any>) {\n        return this._dynamicFormService.toFormGroup([dynamicControl], { ignoreMultiple : true});\n    }\n\n    addItem(dynamicControl : DynamicFormControlBase<any>) {\n        const control = <FormArray>this.form.controls[dynamicControl.key];\n        control.push(this.initItem(dynamicControl));\n        control.markAsDirty();\n    }\n\n    removeItem(dynamicControl : DynamicFormControlBase<any>, i: number) {\n        const control = <FormArray>this.form.controls[dynamicControl.key];\n        control.removeAt(i);\n        control.markAsDirty();\n    }\n}\n","export class PopupWidgetLayout {\n\n  constructor() {}\n\n  private static popupWidgetInitialZindex = 600;\n  private static modalsCount = 0;\n\n  static getPopupZindex(isFullScreen = false){\n      if (isFullScreen){\n          return 1000;\n      }\n      PopupWidgetLayout.popupWidgetInitialZindex += 2;\n      return PopupWidgetLayout.popupWidgetInitialZindex;\n  }\n\n  static increaseModalCount(){\n      PopupWidgetLayout.modalsCount++;\n      if (PopupWidgetLayout.modalsCount === 1){\n          document.body.classList.add(\"kModal\");\n      }\n  }\n\n  static decreaseModalCount(){\n      PopupWidgetLayout.modalsCount--;\n      if (PopupWidgetLayout.modalsCount === 0){\n          document.body.classList.remove(\"kModal\");\n      }\n      if (PopupWidgetLayout.modalsCount < 0){\n          PopupWidgetLayout.modalsCount = 0;\n      }\n  }\n}\n","import {\n  Component,\n  AfterViewInit,\n  EventEmitter,\n  OnDestroy,\n  Input,\n  Output,\n  ElementRef,\n  HostListener,\n  TemplateRef,\n  ContentChild,\n  Renderer2,\n  HostBinding\n} from \"@angular/core\";\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport { ISubscription } from 'rxjs/Subscription';\nimport { PopupWidgetLayout } from './popup-widget-layout';\nimport 'rxjs/add/observable/fromEvent';\nimport { cancelOnDestroy } from '@kaltura-ng/kaltura-common';\n\nexport const PopupWidgetStates = {\n    \"Open\": \"open\",\n\t\"BeforeClose\": \"beforeClose\",\n    \"Close\": \"close\",\n\t\"Disabled\": \"disabled\"\n}\nexport type popupStatus = {\n\tstate: string,\n\tcontext?: any,\n\treason?: string\n}\n\nexport type PopupWidgetXPositions = 'left' | 'right' | 'center';\nexport type PopupWidgetYPositions = 'top' | 'bottom' | 'center';\ntype PopupWidgetXMargins = {left?: number, right?: number, center?: number}\ntype PopupWidgetYMargins = {top?: number, bottom?: number, center?: number}\n\nconst WINDOW_GUTTER = 16;\n\n@Component({\n    selector: 'kPopupWidget',\n    templateUrl: './popup-widget.component.html',\n    styleUrls: ['./popup-widget.component.scss']\n})\nexport class PopupWidgetComponent implements AfterViewInit, OnDestroy{\n\t@Input() transparent = false;\n\t@Input() appendTo: any;\n\t@Input() popupWidth: number;\n    @Input() popupHeight: number | 'auto' = 'auto';\n\t@Input() showTooltip: boolean = false;\n\t@Input() preventPageScroll: boolean = false;\n\t@Input() modal: boolean = false;\n\t@Input() slider: boolean = false;\n\t@Input() fullScreen: boolean = false;\n\t@Input() closeBtn: boolean = true;\n\t@Input() closeBtnInside: boolean = false;\n\t@Input() closeOnClickOutside: boolean = true;\n\t@Input() closeOnResize: boolean = false;\n\t@Input() closeOnBrowserNav: boolean = true;\n\t@Input() targetOffset: any = {'x':0, 'y': 0};\n\t@Input() childrenPopups: PopupWidgetComponent[] = [];\n\t@Input() trigger: 'click' | 'hover' = 'click';\n\t@Input() placement: {x: PopupWidgetXPositions, y: PopupWidgetYPositions} = {x: 'right', y: 'bottom'}\n  @Input() closeOnScroll: boolean = false;\n\n  @ContentChild(TemplateRef, { static: true }) public _template: TemplateRef<any>;\n  @HostBinding('class.opened') opened = false;\n  @HostBinding('class.closed') closed = false;\n\n\n\tprivate readonly _toggleFunc = this.toggle.bind(this);\n\tprivate readonly _openFunc = this.open.bind(this);\n\tprivate readonly _closeFunc = this.close.bind(this);\n\n    private _viewInitialize = false;\n\n\t@Input() set targetRef(targetRef: any) {\n\t\tif (this.trigger === 'click') {\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.removeEventListener('click', this._toggleFunc);\n\t\t\t}\n\t\t\tthis._targetRef = targetRef;\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.addEventListener('click', this._toggleFunc);\n\t\t\t}\n\t\t}\n\t\telse if (this.trigger === 'hover') {\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.removeEventListener('mouseover', this._openFunc);\n\t\t\t\tthis._targetRef.removeEventListener('mouseout', this._closeFunc);\n\t\t\t}\n\t\t\tthis._targetRef = targetRef;\n\t\t\tif (this._targetRef) {\n\t\t\t\tthis._targetRef.addEventListener('mouseover', this._openFunc);\n\t\t\t\tthis._targetRef.addEventListener('mouseout', this._closeFunc);\n\t\t\t}\n\t\t}\n\t}\n\tget targetRef(): any { return this._targetRef; }\n\n\t@Input() set parentPopup(parentPopup: PopupWidgetComponent){\n\t\tthis._parentPopup = parentPopup;\n\t\tif (this._stateChangeSubscription){\n\t\t\tthis._stateChangeSubscription.unsubscribe();\n\t\t\tthis._stateChangeSubscription = null;\n\t\t}\n\t\tif (this._parentPopup) {\n\t\t\tthis._stateChangeSubscription = this._parentPopup.state$.subscribe(event => {\n\t\t\t\tif (event.state === PopupWidgetStates.Close) {\n\t\t\t\t\tthis.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tget parentPopup(): PopupWidgetComponent { return this._parentPopup; }\n\n\t@Output() onOpen = new EventEmitter<any>();\n    @Output() onClose = new EventEmitter<any>();\n\n\tprivate _targetRef: any;\n    private _saveScrollPosition: number;\n\tpublic _popupWidgetHeight: string;\n    private _modalOverlay: any;\n\tprivate _parentPopup: PopupWidgetComponent;\n\tprivate _stateChangeSubscription: ISubscription = null;\n\tprivate _statechange: BehaviorSubject<popupStatus> = new BehaviorSubject<popupStatus>({state: ''});\n\n\tpublic state$: Observable<popupStatus> = this._statechange.asObservable();\n\n    constructor(public popup: ElementRef, private renderer: Renderer2) {\n\t    this._statechange.next({state: PopupWidgetStates.Close});\n      this.state$\n        .pipe(cancelOnDestroy(this))\n        .subscribe(({ state }) => {\n          this.closed = state === PopupWidgetStates.Close;\n          this.opened = state === PopupWidgetStates.Open;\n        });\n    }\n\n    // public API methods\n    open(){\n\t\tif (this.isEnabled && this.validate()) {\n\t        // handle auto height\n\t\t\tif (!this.popupHeight  || this.popupHeight === 'auto'){\n\t\t\t\tif (this.slider) {\n\t\t\t\t\tthis._popupWidgetHeight = 'calc(100vh - 80px)';\n\t\t\t\t}else {\n\t\t\t\t\tthis._popupWidgetHeight = 'auto';\n\t\t\t\t}\n\t        } else\n\t        {\n\t\t        this._popupWidgetHeight = this.popupHeight + \"px\";\n\t        }\n\t\t\tthis._saveScrollPosition = window.pageYOffset || document.documentElement.scrollTop;\n            // set location according to targetRef\n\t        const parentLeft = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().left : 0;\n\t        const parentTop = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().top : 0;\n\t        // center on screen if no targetRef was defined\n\t        if (!this._targetRef){\n\t        \tif (this.fullScreen){\n\t        \t\tthis.modal = false;\n\t        \t\tthis.preventPageScroll = true;\n\t\t\t        this.renderer.addClass(this.popup.nativeElement, 'fullScreen');\n\t\t        }else {\n\t\t\t        this.popup.nativeElement.style.marginLeft = window.innerWidth / 2 - this.popupWidth / 2 + 'px';\n\t\t\t        if (this.slider) {\n\t\t\t\t        window.scrollTo(0, 0);\n\t\t\t\t        this.popup.nativeElement.style.top = \"auto\";\n\t\t\t\t        this.closeBtn = false;\n\t\t\t\t        this.preventPageScroll = true;\n\t\t\t\t        this.popup.nativeElement.style.bottom = this.popupHeight !== 'auto' ? this.popupHeight * -1 + \"px\" : \"-1000px\";\n\t\t\t\t        setTimeout(() => {\n\t\t\t\t\t        this.popup.nativeElement.style.bottom = 0 + \"px\"; // use timeout to invoke animation\n\t\t\t\t        }, 0);\n\t\t\t        } else {\n                const marginTop = (window.innerHeight / 2 - 100 / 2);\n\t\t\t\t        this.popup.nativeElement.style.marginTop = marginTop + 'px';\n\t\t\t\t        this.popup.nativeElement.style.position = \"fixed\";\n\t\t\t        }\n\t\t        }\n\t        }else{\n\t\t        this.popup.nativeElement.style.marginLeft = this._targetRef.getBoundingClientRect().left - parentLeft + this.targetOffset['x'] + 'px';\n\t\t        this.popup.nativeElement.style.marginTop = this._targetRef.getBoundingClientRect().top - parentTop + this.targetOffset['y'] + 'px';\n\t\t        this.popup.nativeElement.style.position = \"absolute\";\n\t        }\n            this.popup.nativeElement.style.zIndex = PopupWidgetLayout.getPopupZindex(this.fullScreen);\n\n            // handle modal\n\t        if (!this._modalOverlay) {\n                if (this.trigger !== 'hover') {this._modalOverlay = document.createElement('div');\n                if (this.modal || this.slider) {\n\t                this._modalOverlay.className = \"kPopupWidgetModalOverlay\";\n                }else{\n\t                this._modalOverlay.className = \"kPopupWidgetModalOverlay kTransparent\";\n                }\n                this._modalOverlay.style.zIndex = this.popup.nativeElement.style.zIndex - 1;\n                if (!this.slider && this.closeOnClickOutside) {\n\t                this._modalOverlay.addEventListener(\"mousedown\", (event: any) => {\n\t\t                event.stopPropagation();\n\t\t                this.close();\n\t                });\n                }\n        if (this.appendTo){\n\t\t\t        this.appendChild(this._modalOverlay, this.appendTo);\n\t\t        }else {        document.body.appendChild(this._modalOverlay);}\n                if (this.modal || this.slider) {\n\t                PopupWidgetLayout.increaseModalCount();\n\t                }\n                }\n            }\n\n            // prevent page scroll\n\t        if (this.preventPageScroll){\n\t        \tdocument.body.style.overflowY = 'hidden';\n\t        \tdocument.body.style.position = 'fixed';\n\t        }\n\n            setTimeout(()=>{\n\t            this.addClickOutsideSupport();\n            },0);\n\n            this.onOpen.emit(); // dispatch onOpen event (API)\n            this._statechange.next({state: PopupWidgetStates.Open});\n\n            if (this.closeOnScroll && this.isShow) {\n              window.addEventListener('scroll', this._closeFunc);\n            }\n\n\t\t}\n\t    if (!this.slider && !this.fullScreen && this.popup.nativeElement) {\n\t\t    this.popup.nativeElement.style.opacity = 0;\n\t    }\n\t    // auto positioning need first the dom to render\n\t\tsetTimeout(() => {\n\t\t\tthis.setPosition();\n\t\t}, 0);\n    }\n\n    close(context: any = null, reason: string = null){\n        if (this.isEnabled && this.isShow) {\n          window.removeEventListener('scroll', this._closeFunc);\n\t        if (this.fullScreen){\n\t\t        this.renderer.removeClass(this.popup.nativeElement, 'fullScreen');\n\t        }\n\t\t\t// allow cancelling the close operation\n\t        let beforeCloseContext = {\"allowClose\": true};\n\t        this._statechange.next({state: PopupWidgetStates.BeforeClose, context: beforeCloseContext});\n\t        if (beforeCloseContext['allowClose']) {\n\t\t        // close children popups if exist\n\t\t        if (this.childrenPopups.length) {\n\t\t\t        this.childrenPopups.forEach((popup: PopupWidgetComponent) => {\n\t\t\t\t        popup.close();\n\t\t\t        });\n\t\t        }\n\t\t        this.removeClickOutsideSupport();\n\t\t        this.restorePageScroll(true);\n\t\t        this.onClose.emit(); // dispatch onClose event (API)\n\t\t        let timeout = 0;\n\t\t        if (this.slider){\n\t\t\t        this.popup.nativeElement.style.bottom = this.popupHeight!== 'auto' ?  this.popupHeight * -1 +\"px\" :  \"-1000px\";\n\t\t\t        timeout = 300;\n\t\t        }\n\t\t        if (this.modal && !this.slider) {\n\t\t\t        PopupWidgetLayout.decreaseModalCount();\n\t\t        }\n\t\t        setTimeout(()=>{\n\t\t\t        // remove modal\n\t\t\t        if (this._modalOverlay) {\n\t\t\t\t        if (this.appendTo){\n\t\t\t\t\t        this.removeChild(this._modalOverlay, this.appendTo);\n\t\t\t\t        }else {\n\t\t\t\t\t        document.body.removeChild(this._modalOverlay);\n\t\t\t\t        }\n\t\t\t\t        this._modalOverlay = null;\n\t\t\t        }\n\t\t\t        if (this.slider) {\n\t\t\t\t        PopupWidgetLayout.decreaseModalCount();\n\t\t\t        }\n\t\t\t        this._statechange.next({state: PopupWidgetStates.Close, context: context, reason: reason}); // use timeout to prevent valueChangeAfterChecked error\n\t\t        },timeout);\n\t        }\n        }\n\n    }\n\n    toggle(){\n        if (this.isEnabled) {\n            this.isShow ? this.close() : this.open();\n        }\n    }\n\n    get isShow(): boolean {\n    \treturn this._statechange.getValue().state !== PopupWidgetStates.Close;\n    }\n\n    get isEnabled(): boolean {\n    \treturn this._statechange.getValue().state !== PopupWidgetStates.Disabled;\n    }\n\n\n\n\n\t@HostListener(\"window:resize\", [])\n\tonWindowResize() {\n\t\tif (this.closeOnResize) {\n\t\t\tthis.close();\n\t\t}else{\n\t\t\tthis.setPosition();\n\t\t}\n\t}\n\n  @HostListener('window:popstate', ['$event'])\n  onPopState(event) {\n    if (this.closeOnBrowserNav) {\n      this.close();\n    }\n  }\n\n    // component lifecycle events\n    ngAfterViewInit() {\n\t\tthis._viewInitialize = true;\n\n        if (this.validate()) {\n\t\t\tif (this.appendTo && !this.modal){\n\t\t\t\tthis.appendChild(this.popup.nativeElement, this.appendTo);\n\t        }else {\n\t\t        document.body.appendChild(this.popup.nativeElement);\n\t\t        if (this.appendTo){\n\t\t        \tconsole.warn(\"[kaltura] -> Ignoring append to \" + this.appendTo + \" since popup is set to modal=true.\"); // keep warning\n\t\t        }\n\t\t\t}\n\t        if (this.fullScreen){\n\t\t        this.popup.nativeElement.style.width = '0px';\n\t\t        this.popup.nativeElement.style.height = '0px';\n\t        }\n        }\n    }\n\n    ngOnDestroy(){\n\n    \tif (this._targetRef)\n    \t{\n\t\tthis._targetRef.removeEventListener('click', this._toggleFunc);\n\t\tthis._targetRef.removeEventListener('mouseover', this._openFunc);\n\t\tthis._targetRef.removeEventListener('mouseout', this._closeFunc);\n    \t}\n\n        if (this._stateChangeSubscription){\n            this._stateChangeSubscription.unsubscribe();\n        }\n\t    this._statechange.complete();\n        this.removeClickOutsideSupport();\n        this.restorePageScroll(false);\n\t    if (this.modal && this._modalOverlay) {\n\t\t    document.body.removeChild(this._modalOverlay);\n\t\t    this._modalOverlay = null;\n\t    }\n\t    if (this.appendTo && !this.modal){\n\t\t    this.removeChild(this.popup.nativeElement, this.appendTo);\n\t    }else {\n\t    \tif (this._viewInitialize) {\n          document.body.removeChild(this.popup.nativeElement);\n\t\t\t\t}\n\t    }\n\n      window.removeEventListener('scroll', this._closeFunc);\n    }\n\n    // private methods\n\n    private addClickOutsideSupport(){\n        if (this.closeOnClickOutside){\n            this.popup.nativeElement.addEventListener('mousedown', this.blockMouseDownHandler);\n\t        if (this.targetRef) {\n\t\t        this.targetRef.addEventListener('mousedown', this.blockMouseDownHandler);\n\t        }\n        }\n    }\n\n    private blockMouseDownHandler(event: any){\n\t    event.stopPropagation();\n    }\n\n    private removeClickOutsideSupport(){\n        if (this.closeOnClickOutside){\n            this.popup.nativeElement.removeEventListener('mousedown', this.blockMouseDownHandler);\n\t        if (this.targetRef) {\n\t\t        this.targetRef.removeEventListener('mousedown', this.blockMouseDownHandler);\n\t        }\n        }\n    }\n\n    private restorePageScroll(restoreScrollPosition = true):void{\n\t    if (this.preventPageScroll){\n\t\t    document.body.style.overflowY = 'auto';\n\t\t    document.body.style.position = '';\n\t\t    if (restoreScrollPosition) {\n\t\t\t    window.scrollTo(0, this._saveScrollPosition);\n\t\t    }\n\t    }\n    }\n\n    private validate(){\n        let valid: boolean = typeof this.popupWidth !== 'undefined' || this.fullScreen;\n        if (!valid){\n\t        this._statechange.next({state: PopupWidgetStates.Disabled});\n\t        throw \"Popup widget error: missing required parameters. Verify popupWidth is defined.\";\n        }\n        return valid;\n    }\n\n\tprivate appendChild(element: any, target: any) {\n\t\tif (this.isElement(target)) {\n\t\t\ttarget.appendChild(element);\n\t\t}else {\n\t\t\tthrow 'Cannot append ' + target + ' to ' + element;\n\t\t}\n\t}\n\n\tprivate removeChild(element: any, target: any) {\n\t\tif (this.isElement(target)) {\n\t\t\ttarget.removeChild(element);\n\t\t}else {\n\t\t\tthrow 'Cannot remove ' + target + ' from ' + element;\n\t\t}\n\t}\n\n\tprivate isElement(obj: any) {\n\t\treturn (typeof HTMLElement === \"object\" ? obj instanceof HTMLElement :\n\t\t\tobj && typeof obj === \"object\" && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === \"string\"\n\t\t);\n\t}\n\n\tprivate setPosition() {\n    const popupHeight = this.popup.nativeElement.clientHeight;\n\t\tconst popupWidth = this.popup.nativeElement.clientWidth;\n\n    if (this.modal || this.slider) {\n      this.popup.nativeElement.style.marginLeft = window.innerWidth / 2 - this.popupWidth / 2 + 'px';\n\n      if (this.modal) {\n        const modalMarginTop = (\n          window.innerHeight / 2 -\n          popupHeight / 2\n        );\n        this.popup.nativeElement.style.marginTop = Math.round(modalMarginTop) + 'px';\n        this.popup.nativeElement.style.opacity = 1;\n      }\n\t\t\treturn;\n\t\t}\n\t\tif (!this._targetRef) return;\n\n\t\tconst popupBox = this.popup.nativeElement.getBoundingClientRect();\n\t\tconst targetRefBox = this._targetRef.getBoundingClientRect();\n\t\tconst parentTop = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().top : 0;\n\t\tconst parentLeft = this.appendTo && !this.modal ? this.appendTo.getBoundingClientRect().left : 0;\n\n\t\tlet popupMarginTop: number;\n\t\tlet popupMarginLeft: number;\n\n\t\tlet popupLeftMargins: PopupWidgetXMargins = {}\n\t\tlet popupTopMargins: PopupWidgetYMargins = {}\n\n\t\tpopupTopMargins.top = (\n\t\t\ttargetRefBox.top\n\t\t\t- parentTop\n\t\t\t- popupHeight\n\t\t\t+ this.targetRef.offsetHeight\n\t\t\t- this.targetOffset['y']\n\t\t);\n\n\t\tpopupTopMargins.bottom = (\n\t\t\ttargetRefBox.top\n\t\t\t- parentTop\n\t\t\t+ this.targetOffset['y']\n\t\t);\n\n\t\tpopupTopMargins.center = (\n\t\t\ttargetRefBox.top\n\t\t\t- parentTop\n\t\t\t- popupHeight / 2\n\t\t\t+ this.targetRef.offsetHeight / 2\n\t\t\t+ this.targetOffset['y']\n\t\t);\n\n\t\tpopupLeftMargins.left = (\n\t\t\ttargetRefBox.left\n\t\t\t- parentLeft\n\t\t\t- popupWidth\n\t\t\t+ this.targetRef.clientWidth\n\t\t\t- this.targetOffset['x']\n\t\t);\n\n\t\tpopupLeftMargins.right = (\n\t\t\ttargetRefBox.left\n\t\t\t- parentLeft\n\t\t\t+ this.targetOffset['x']\n\t\t);\n\n\t\tpopupLeftMargins.center = (\n\t\t\ttargetRefBox.left\n\t\t\t- parentLeft\n\t\t\t- popupWidth / 2\n\t\t\t+ this.targetOffset['x']\n\t\t);\n\n\t\tpopupMarginTop = this.placement.y ? popupTopMargins[this.placement.y] : popupTopMargins.bottom;\n\t\tpopupMarginLeft = this.placement.x ? popupLeftMargins[this.placement.y] : popupLeftMargins.right;\n\n\t\tthis.popup.nativeElement.style.marginTop = Math.round(popupMarginTop) + 'px';\n\t\tthis.popup.nativeElement.style.marginLeft = Math.round(popupMarginLeft) + 'px';\n\n\t\tthis.validatePosition(popupLeftMargins, popupTopMargins);\n\t}\n\n\t// validate popup widget is not outside of the viewport (+ gutter) and if it is, reposition it\n\tprivate validatePosition(popupLeftMargins: PopupWidgetXMargins, popupTopMargins: PopupWidgetYMargins) {\n\n\t\tconst popupHeight = this.popup.nativeElement.clientHeight;\n\t\tconst popupWidth = this.popup.nativeElement.clientWidth;\n\t\tconst popupBox = this.popup.nativeElement.getBoundingClientRect();\n\t\tconst clientHeight = window.innerHeight;\n\t\tconst clientWidth = window.innerWidth;\n\n\t\tlet popupMarginTop: number;\n\t\tlet popupMarginLeft: number;\n\n\t\tif (this.placement.y === 'top') {\n\t\t\tif (popupBox.top < WINDOW_GUTTER) {\n\t\t\t\tpopupMarginTop = popupTopMargins.bottom;\n\t\t\t}\n\t\t}\n\t\telse if (this.placement.y === 'bottom') {\n\t\t\tif (popupBox.top + popupHeight > clientHeight - WINDOW_GUTTER && popupBox.top > clientHeight) {\n\t\t\t\tpopupMarginTop = popupTopMargins.top;\n\t\t\t}else {\n        popupMarginTop = popupTopMargins.bottom;\n      }\n\t\t}\n\t\telse if (this.placement.y === 'center') {\n\t\t\tif (popupBox.top < WINDOW_GUTTER) {\n\t\t\t\tpopupMarginTop = popupTopMargins.bottom;\n\t\t\t}\n\t\t\telse if (popupBox.top + popupHeight > clientHeight - WINDOW_GUTTER) {\n\t\t\t\tpopupMarginTop = popupTopMargins.top;\n\t\t\t}\n\t\t}\n\n\t\tif (popupBox.left + popupWidth > clientWidth + WINDOW_GUTTER) {\n\t\t\tpopupMarginLeft = popupLeftMargins.left;\n\t\t}\n\t\telse if (popupBox.left < WINDOW_GUTTER) {\n\t\t\tpopupMarginLeft = popupLeftMargins.right;\n\t\t}\n\n\t\tthis.popup.nativeElement.style.marginTop = Math.round(popupMarginTop) + 'px';\n\t\tthis.popup.nativeElement.style.marginLeft = Math.round(popupMarginLeft) + 'px';\n\t\tthis.popup.nativeElement.style.opacity = 1;\n\t}\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PopupWidgetComponent } from './popup-widget.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        PopupWidgetComponent\n    ],\n    exports: [\n        PopupWidgetComponent\n    ],\n    providers: [\n    ]\n})\nexport class PopupWidgetModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { PopupWidgetXPositions, PopupWidgetYPositions } from '../popup-widget/popup-widget.component';\n\n@Component({\n    selector: 'kInputHelper',\n    templateUrl: './input-helper.component.html',\n    styleUrls: ['./input-helper.component.scss']\n})\nexport class InputHelperComponent implements OnInit {\n    @Input() title: string;\n    @Input() trigger: 'click' | 'hover' = 'hover';\n    @Input() triggerIcon = 'kIconhelp_full';\n    @Input() icon: string = 'kIconhelp';\n    @Input() width: number = 300;\n    @Input() placement: {x: PopupWidgetXPositions, y: PopupWidgetYPositions} = {x: 'right', y: 'top'};\n\n    constructor() {}\n\n    ngOnInit() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PopupWidgetModule } from '../popup-widget/popup-widget.module';\nimport { InputHelperComponent } from './input-helper.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PopupWidgetModule\n    ],\n    declarations: [\n\t    InputHelperComponent\n    ],\n    exports: [\n\t    InputHelperComponent\n    ],\n    providers: [\n    ]\n})\nexport class InputHelperModule {}\n","import { NgModule } from '@angular/core';\nimport { DynamicFormService } from './dynamic-form.service';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DynamicFormItem } from './dynamic-form-item.component';\nimport { TooltipModule } from \"../tooltip/k-tooltip.module\";\nimport { InputHelperModule } from \"../input-helper/input-helper.module\";\n\n@NgModule(\n    {\n        imports : [\n            ReactiveFormsModule,\n            CommonModule,\n            TooltipModule,\n            InputHelperModule\n        ],\n        declarations : [\n            DynamicFormItem\n        ],\n        exports : [\n            DynamicFormItem\n        ],\n        providers : [\n            DynamicFormService\n        ]\n    }\n)\nexport class DynamicFormModule\n{\n\n}","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface ListControlArgs extends DynamicFormControlArgs<any>\n{\n    values : {value : any, text : string}[];\n}\n\nexport class ListControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'List';\n    }\n\n    values : {value : any, text : string} [];\n\n    constructor(options: ListControlArgs) {\n        super(options);\n        this.values = options.values;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface DatePickerControlArgs extends DynamicFormControlArgs<Date>\n{\n    showTime? : boolean;\n}\n\nexport class DatePickerControl extends DynamicFormControlBase<Date> {\n    get controlType()\n    {\n        return 'DatePicker';\n    }\n\n    showTime : boolean = false;\n\n    constructor(options: DatePickerControlArgs) {\n        super(options);\n        this.showTime = options.showTime;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface TextAreaControlArgs extends DynamicFormControlArgs<string>\n{\n\n}\n\nexport class TextAreaControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'TextArea';\n    }\n\n\n    constructor(options: TextAreaControlArgs) {\n        super(options);\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport class TextboxControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Textbox';\n    }\n\n    constructor(options: DynamicFormControlArgs<string>) {\n        super(options);\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport interface ListControlArgs extends DynamicFormControlArgs<any>\n{\n    values : {value : any, text : string}[];\n}\n\nexport class DynamicDropdownControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Dropdown';\n    }\n\n    values : {value : any, text : string} [];\n\n    constructor(options: ListControlArgs) {\n        super(options);\n        this.values = options.values;\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport class SwitchControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Switch';\n    }\n\n    constructor(options: DynamicFormControlArgs<string>) {\n        super(options);\n    }\n}\n","import { DynamicFormControlBase, DynamicFormControlArgs } from '../dynamic-form-control-base';\n\nexport class NumberControl extends DynamicFormControlBase<string> {\n    get controlType()\n    {\n        return 'Number';\n    }\n\n    constructor(options: DynamicFormControlArgs<string>) {\n        super(options);\n    }\n}\n","import { Component, Input, Output, OnInit, OnDestroy, AfterViewInit, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'k-player',\n    templateUrl: './player.component.html',\n\tstyleUrls: ['./player.component.scss']\n})\nexport class KalturaPlayerComponent implements AfterViewInit, OnDestroy {\n\n\t@Input()\n\twidth : number = 480;\n\n\t@Input()\n\theight : number = 360;\n\n\t@Input()\n\tpid : number;\n\n\t@Input()\n\tuiconfid : number;\n\n\t@Input()\n\tentryid : string;\n\n\t@Input()\n\tcdnUrl : string = 'http://cdnapi.kaltura.com';\n\n\t@Input()\n\tflashvars : any = {};\n\n\t@Input()\n\tlazy: boolean = false;\n\n\t@Input()\n\tid : string = \"\";\n\n\t@Output()\n\tkalturaPlayerReady = new EventEmitter<any>();\n\n\tprivate kdp: any;\n\n\tconstructor() {}\n\n\tngAfterViewInit(){\n\t\tif (!this.lazy){\n\t\t\tthis.Embed();\n\t\t}\n\t}\n\n\tpublic Embed():void{\n\t\t// validation\n\t\tif (!this.pid || !this.uiconfid || !this.entryid){\n\t\t\tconsole.warn(\"Kaltura Player::Missing parameters. Please provide pid, uiconfid and entryid.\");\n\t\t}else {\n\t\t\t// load player lib if doesn't exist\n\t\t\tif (document.getElementById(\"kalturaPlayerLib\") === null) {\n\t\t\t\tlet s = document.createElement('script');\n\t\t\t\ts.src = `${this.cdnUrl}/p/${this.pid}/sp/${this.pid}00/embedIframeJs/uiconf_id/${this.uiconfid}/partner_id/${this.pid}`;\n\t\t\t\ts.id = \"kalturaPlayerLib\";\n\t\t\t\ts.async = false;\n\t\t\t\tdocument.head.appendChild(s);\n\t\t\t}\n\t\t\t// wait for lib to load if not loaded and then embed player\n\t\t\tif (!this.kdp){\n\t\t\t\tconst intervalID = setInterval(() => {\n\t\t\t\t\tif (typeof window['kWidget'] !== \"undefined\"){\n\t\t\t\t\t\tclearInterval(intervalID);\n\t\t\t\t\t\tthis.doEmbed();\n\t\t\t\t\t}\n\t\t\t\t},50);\n\t\t\t}else{\n\t\t\t\tthis.doEmbed();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate doEmbed():void{\n\t\twindow['kWidget'].embed({\n\t\t\t\"targetId\": \"kaltura_player_\" + this.id,\n\t\t\t\"wid\": \"_\" + this.pid,\n\t\t\t\"uiconf_id\": this.uiconfid,\n\t\t\t\"flashvars\": this.flashvars,\n\t\t\t\"cache_st\": Math.random(),\n\t\t\t\"entry_id\": this.entryid,\n\t\t\t\"readyCallback\": (playerID) => {\n\t\t\t\tthis.kdp = document.getElementById(playerID);\n\t\t\t\tthis.kalturaPlayerReady.emit(this.kdp);\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnDestroy(){\n\t\tif (this.kdp){\n\t\t\twindow['kWidget'].destroy(this.kdp);\n\t\t}\n\t}\n\n}\n\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class StickyScrollService implements OnDestroy\n{\n\tprivate _scrollSubject = new Subject<{}>();\n\tpublic scrollStatus$ = this._scrollSubject.asObservable();\n\tprivate _resizeSubject = new Subject<{}>();\n\tpublic resizeStatus$ = this._resizeSubject.asObservable();\n\tprivate _layoutSubject = new BehaviorSubject<{}>({});\n\tpublic layoutSubject$ = this._layoutSubject.asObservable();\n\n\tprivate stickyElements: any = {};\n\tprivate manageScrollFunc = this.manageScrollEvent.bind(this);\n\tprivate manageResizeFunc = this.manageResizeEvent.bind(this);\n\n\tconstructor()\n\t{\n\t\twindow.addEventListener('scroll', this.manageScrollFunc);\n\t\twindow.addEventListener('resize', this.manageResizeFunc);\n\t}\n\n\tngOnDestroy(){\n\t\twindow.removeEventListener('scroll', this.manageScrollFunc);\n\t\twindow.removeEventListener('resize', this.manageResizeFunc);\n\t}\n\n\tmanageScrollEvent(){\n\t\tthis._scrollSubject.next({});\n\t}\n\n\tmanageResizeEvent(){\n\t\tthis._resizeSubject.next({});\n\t}\n\n\tattach(id: string){\n\t\tif (!id){\n\t\t\tthrow new Error(\"sticky service::missing id on attach!\");\n\t\t}else if (typeof this.stickyElements[id] !== \"undefined\") {\n\t\t\tthrow new Error(\"sticky service::id already exists! (\"+id+\")\");\n\t\t}else{\n\t\t\tthis.stickyElements[id] = null;\n\t\t}\n\t}\n\n\tdetach(id: string){\n\t\tif (!id){\n\t\t\tconsole.warn(\"sticky service::missing id on attach!\");\n\t\t}else {\n\t\t\tdelete this.stickyElements[id];\n\t\t}\n\t}\n\n\tupdate(id: string, height: number, offset: number){\n\t\tif (!id){\n\t\t\tconsole.warn(\"sticky service::missing id!\");\n\t\t}else {\n\t\t\tconst currentValue = this.stickyElements[id];\n\t\t\tif (typeof currentValue !== \"undefined\") {\n\t\t\t\tif (currentValue === null || currentValue.height !== height || currentValue.offset !== offset) {\n\t\t\t\t\tthis.stickyElements[id] = {height, offset};\n\t\t\t\t\tthis._layoutSubject.next(this.stickyElements);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error(`unknown sticky element '${id}' (did you attach it before updating?)`);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Directive, Input, Renderer2, ElementRef, AfterViewInit, OnInit, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { StickyScrollService } from '../services/sticky-scroll.service';\nimport { cancelOnDestroy, tag } from '@kaltura-ng/kaltura-common';\n\n@Directive({\n    selector: '[kSticky]'\n})\n\nexport class StickyDirective implements OnInit, OnDestroy, AfterViewInit {\n    private lastScroll: number = 0;\n    public isSticky: boolean = false;\n    private originalCss: any;\n    private _destroyed = false;\n\n    @Output() onStickyEvent = new EventEmitter<any>();\n    @Output() onUnStickyEvent = new EventEmitter<any>();\n\n    @Input() stickyClass: string;\n    @Input() scrollOffset: number = 0;\n    @Input() appendTo: any;\n    @Input() stickyId: string = \"\";\n    @Input() sticksTo: string = \"\";\n    @Input() elementSelector: string = \"\";\n\n    private _parentTop: number = null;\n    private _parentOffset: number = null;\n    private _stickyTop: number = null;\n    private _stickyOffset: number = null;\n\n    protected _stickyElement: any;\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2, private _stickyScrollService: StickyScrollService) {\n\n    }\n\n    protected _getStickyElement(elementRef: ElementRef) :any{\n        return elementRef.nativeElement;\n    }\n\n    ngAfterViewInit(): void {\n        // console.log(`[${this.stickyId}] - ngAfterViewInit`);\n        this._stickyElement = this._getStickyElement(this.elementRef);\n        this.update();\n    }\n\n    ngOnInit(){\n        // console.log(`[${this.stickyId}] - attached`);\n        if (this.stickyId) {\n            this._stickyScrollService.attach(this.stickyId);\n        }\n\n        this._stickyScrollService.scrollStatus$.pipe(cancelOnDestroy(this)).subscribe(\n            event => {\n                // console.log(`[${this.stickyId}] - handle scroll`);\n                this._render();\n            }\n        );\n\n        this._stickyScrollService.resizeStatus$.pipe(cancelOnDestroy(this)).subscribe(\n                event => {\n                    this.onResize();\n                }\n            );\n\n        this._stickyScrollService.layoutSubject$.pipe(cancelOnDestroy(this)).subscribe(\n            elements =>{\n                const data = this.sticksTo ? elements[this.sticksTo] : {height: 0, offset: 0};\n                if (data && (\n                        this._parentTop !== data.height ||\n                        this._parentOffset !== data.offset\n                    )\n                ){\n                    this._parentTop = data.height;\n                    this._parentOffset = data.offset;\n                    this.update();\n                }\n            }\n        );\n    }\n\n    ngOnDestroy(){\n        // console.log(`[${this.stickyId}] - destroyed`);\n        this._destroyed = true;\n        this._stickyScrollService.detach(this.stickyId);\n    }\n\n    public update() : void{\n        if (this._parentTop !== null\n            && this._parentOffset != null)\n        {\n            // console.log(`[${this.stickyId}] - handle layout update`);\n            const stickyOffset = this._parentOffset + this.scrollOffset;\n            if (this._stickyTop !== this._parentTop ||\n                this._stickyOffset !== stickyOffset)\n            {\n                // console.log(`[${this.stickyId}] - update cached values`);\n                this._stickyTop = this._parentTop;\n                this._stickyOffset = stickyOffset;\n                this._render();\n            }\n\n            if (this.stickyId && this._stickyElement) {\n                // console.log(`[${this.stickyId}] - update service`);\n                const elementHeight = this._stickyElement.getBoundingClientRect()['height'];\n                setTimeout(() => {\n                  this._stickyScrollService.update(this.stickyId, elementHeight + this._stickyTop, this._stickyOffset);\n                }, 0);\n            }\n        }\n    }\n\n    private _render() : void\n    {\n        if (!this._destroyed && this._stickyElement) {\n            // console.log(`[${this.stickyId}] - _render`);\n\n            if (this._stickyTop !== null\n                && this._stickyOffset != null) {\n                const scroll = window.pageYOffset;\n                if (scroll > this.lastScroll && !this.isSticky && this._stickyElement.getBoundingClientRect()['top'] <= this._stickyTop) {\n                    // console.log(`[${this.stickyId}] - _render (set sticky mode)`);\n                    this.setSticky();\n                } else if (scroll < this.lastScroll && this.isSticky && scroll <= this._stickyOffset) {\n                    // console.log(`[${this.stickyId}] - _render (unset sticky mode)`);\n                    this.unsetSticky();\n                }else\n                {\n                    if (this.isSticky && scroll === this.lastScroll) {\n                        this.setStyle('top', this._stickyTop + 'px');\n                        // console.log(`[${this.stickyId}] - _render (update sitcky values) - TODO!!!!!!`);\n                    }\n                }\n                this.lastScroll = scroll;\n            }\n        }\n    }\n\n\n    private setSticky(): void {\n        if (!this.isSticky) {\n            this.isSticky = true;\n            // console.log(`[${this.stickyId}] - top = ${this._stickyElement.clientTop}`);\n            this.originalCss = {\n                position: this._stickyElement.style.position,\n                top: this._stickyElement.clientTop,\n                marginTop: this._stickyElement.style.marginTop,\n                left: this._stickyElement.clientLeft\n            };\n            this.setStyle('position', 'fixed');\n            this.setStyle('top', this._stickyTop + 'px');\n            if (this.appendTo) {\n                this.setStyle('left', this.appendTo.getBoundingClientRect()['left'] + 'px');\n            }\n            this.setClass(true);\n            this.onStickyEvent.emit();\n            this._onSticky();\n        }\n    }\n\n    protected _onSticky():void{\n        setTimeout(()=> {this.update()},0);\n    }\n\n    private unsetSticky(): void {\n        if (this.isSticky) {\n            this.isSticky = false;\n            this.setStyle('position', this.originalCss.position);\n            this.setStyle('marginTop', this.originalCss.marginTop);\n            this.setStyle('top', this.originalCss.top + 'px');\n            if (this.appendTo) {\n                this.setStyle('left', this.originalCss.left + 'px');\n            }\n            this.setClass(false);\n            this.onUnStickyEvent.emit();\n            this._onUnsetSticky();\n        }\n    }\n\n    protected _onUnsetSticky():void{\n        setTimeout(()=> {this.update()},0);\n    }\n\n    protected onResize():void{}; // used by primeng directive to update table layout\n\n    private setStyle(key: string, value: string): void {\n        this.renderer.setStyle(this._stickyElement, key, value);\n    }\n\n    private setClass(add: boolean): void {\n      if (add) {\n        this.renderer.addClass(this._stickyElement, this.stickyClass);\n      } else {\n        this.renderer.removeClass(this._stickyElement, this.stickyClass);\n      }\n    }\n\n}\n","import { Component, ElementRef, Input, AfterViewInit, OnDestroy, ViewChild, Renderer2 } from '@angular/core';\nimport { StickyScrollService } from '../services/sticky-scroll.service';\nimport { StickyDirective } from '../directives/sticky.directive';\nimport { cancelOnDestroy, tag } from '@kaltura-ng/kaltura-common';\n\n@Component({\n\tselector: 'kSticky',\n\ttemplateUrl: './sticky.component.html',\n\tstyleUrls: ['./sticky.component.scss']\n})\nexport class StickyComponent implements AfterViewInit, OnDestroy {\n\n\tpublic wrapperHeight:number = 0;\n\n\t@Input() scrollOffset = 0;\n\t@Input('stickyClass') stickyClass: string;\n\n\t@Input('container') container: any;\n\n\t@Input() stickyId: string;\n\t@Input() sticksTo: string;\n\n\t@ViewChild('contentWrapper', { static: true }) content: ElementRef;\n\t@ViewChild('stickyDiv', { static: true }) stickyDiv: ElementRef;\n\t@ViewChild(StickyDirective, { static: true }) _sticky: StickyDirective;\n\n\tconstructor(private _stickyScrollService: StickyScrollService, private _renderer: Renderer2) {}\n\n\tngAfterViewInit(): void {\n\t\tsetTimeout(()=>{\n\t\t\tthis._updateLayout();\n\t\t},0);\n\t\tthis._stickyScrollService.resizeStatus$.pipe(cancelOnDestroy(this)).subscribe(\n\t\t\tevent => {\n\t\t\t\tthis._updateDimensions();\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate _updateLayout() {\n\t\tif (this.content.nativeElement.children.length > 0) {\n\t\t\tthis.wrapperHeight = this.content.nativeElement.children[0].clientHeight;\n\t\t} else {\n\t\t\tconsole.warn(\"Sticky component::could not access content.\");\n\t\t}\n\t}\n\n\tpublic updateLayout(manual: boolean = true){\n\t\tsetTimeout(()=>{\n\t\t\tthis._updateLayout();\n\t\t\tthis._sticky.update();\n\t\t},0);\n\t}\n\n\tpublic _updateDimensions(){\n    this._renderer.setStyle(this.stickyDiv.nativeElement, 'width', `${this.content.nativeElement.offsetWidth}px`);\n\t}\n\n\tngOnDestroy(){\n\n\t}\n\n}\n\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { KalturaCommonModule } from '@kaltura-ng/kaltura-common';\nimport { StickyComponent } from './components/sticky.component';\nimport { StickyDirective} from './directives/sticky.directive';\nimport { StickyScrollService } from './services/sticky-scroll.service';\n\n@NgModule({\n    imports: [\n        KalturaCommonModule\n    ],\n    declarations: [\n        StickyComponent,\n        StickyDirective\n    ],\n    exports: [\n        StickyComponent,\n        StickyDirective\n    ],\n    providers: [\n    ]\n})\nexport class StickyModule {\n    static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: StickyModule,\n            providers: <any[]>[\n                StickyScrollService\n            ]\n        };\n    }\n\n}\n","import { Component, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\n\n@Component({\n    selector: 'kTag',\n    templateUrl: './tag.component.html',\n    styleUrls: ['./tag.component.scss']\n})\nexport class TagComponent{\n\n\t@Input() label: string;\n\t@Input() tooltip: string;\n\t@Input() data: any;\n\t@Input() disabled: any;\n\t@Input() showRemove: boolean = true;\n\t@Input() template: TemplateRef<any>;\n\n\n    @Output() onRemoved = new EventEmitter<any>();\n\n    constructor() {\n    }\n\n\tremoveTag(tag: any) {\n\t\tthis.onRemoved.emit(tag);\n    }\n\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  AfterViewInit,\n  OnDestroy,\n  ViewChild,\n  ViewChildren,\n  QueryList,\n  HostListener,\n  ElementRef,\n  ContentChildren,\n  TemplateRef, SimpleChanges, OnChanges,\n} from '@angular/core';\nimport { TagComponent } from './tag.component';\nimport { Subscription } from \"rxjs/Subscription\";\n\nimport * as $NS from 'jquery';\nconst $ = $NS;\n\n@Component({\n    selector: 'kTags',\n    templateUrl: './tags.component.html',\n    styleUrls: ['./tags.component.scss']\n})\nexport class TagsComponent implements AfterViewInit, OnDestroy, OnChanges {\n\n  @Input() data: any[];\n  @Input() disabled: boolean = false;\n  @Input() labelField: string;\n\t@Input() tooltipField: string;\n\t@Input() disabledField: string;\n\t@Input() removableTags: boolean = true;\n\t@Input() showClear: boolean = true;\n\t@Input() title: string;\n\t@Input() clearAllLabel: string = \"Clear All\";\n\n\t@ContentChildren(TemplateRef, {descendants: false}) public templates: QueryList<TemplateRef<any>>;\n\n    @Output() onTagRemove = new EventEmitter<any>();\n    @Output() onRemoveAll = new EventEmitter<any>();\n\t@Output() onTagsChange = new EventEmitter<{tagsCount: number}>();\n\n\t@ViewChild('scroller', { static: false }) scroller: ElementRef;\n\n\t@ViewChildren(TagComponent)\n\tprivate tagsList: QueryList<any>\n\tprivate tagsListObserver: Subscription;\n \n\tpublic _showMore: boolean = false;\n\tprivate showMoreCheckIntervalID: number;\n\tpublic _scrollLeftEnabled: boolean = false;\n\tpublic _scrollRightEnabled: boolean = true;\n\n    constructor() {\n    }\n\n\t@HostListener(\"window:resize\", [])\n\tonWindowResize() {\n\t\tthis.checkShowMore();\n\t}\n\n  ngOnChanges(changes: SimpleChanges) {\n      if (changes['data']) {\n        if (this.disabledField && Array.isArray(this.data)) {\n            this.data.sort((a, b) => Number(b[this.disabledField] || 0) - Number(a[this.disabledField] || 0));\n        }\n\n        this.checkShowMore();\n      }\n  }\n\n\tngAfterViewInit(){\n\t\tthis.tagsListObserver = this.tagsList.changes.subscribe((comps: QueryList <any>) =>\n\t\t{\n\t\t\tthis.onTagsChange.emit({tagsCount: (this.data ? this.data.length : 0) });\n\t\t\tthis.checkShowMore();\n\t\t});\n\t}\n\n\tngOnDestroy(){\n\t\tif (this.tagsListObserver){\n\t\t\tthis.tagsListObserver.unsubscribe();\n\t\t\tthis.tagsListObserver = null;\n\t\t}\n\t}\n\n    removeTag(tag: any){\n    \tthis.onTagRemove.emit(tag);\n    }\n\n    clearAll(){\n    \tthis.onRemoveAll.emit();\n    }\n\n\tcheckShowMore(){\n\t\t// we use a cancelable interval to improve performances on window resize\n\t\tif (this.showMoreCheckIntervalID){\n\t\t\tclearInterval(this.showMoreCheckIntervalID);\n\t\t\tthis.showMoreCheckIntervalID = null;\n\t\t}\n\t\tthis.showMoreCheckIntervalID = setTimeout(() => {\n\t\t\tif (this.data && this.data.length && this.scroller){\n\t\t\t\tthis._showMore = this.scroller.nativeElement.scrollWidth > (this.scroller.nativeElement.getBoundingClientRect().width + 1);\n\t\t\t}\n\t\t\tthis.showMoreCheckIntervalID = null;\n\t\t},100);\n\t}\n\n\tscroll(direction: string){\n\t\tconst scrollPageWidth = this.scroller.nativeElement.getBoundingClientRect().width;\n\t\tconst totalScroll = this.scroller.nativeElement.scrollWidth;\n\t\tif (direction === \"right\"){\n\t\t\tconst targetScrollLeft = this.scroller.nativeElement.scrollLeft + scrollPageWidth;\n\t\t\t$(this.scroller.nativeElement).animate({scrollLeft: targetScrollLeft}, 800, () => {\n\t\t\t\tthis._scrollLeftEnabled = true;\n\t\t\t\tif ((this.scroller.nativeElement.scrollLeft + scrollPageWidth) >= (totalScroll-1)){\n\t\t\t\t\tthis._scrollRightEnabled = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tconst targetScrollLeft = this.scroller.nativeElement.scrollLeft - scrollPageWidth;\n\t\t\t$(this.scroller.nativeElement).animate({scrollLeft: targetScrollLeft}, 800, () => {\n\t\t\t\tthis._scrollRightEnabled = true;\n\t\t\t\tif (this.scroller.nativeElement.scrollLeft <= 1){\n\t\t\t\t\tthis._scrollLeftEnabled = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TagsComponent } from './tags.component';\nimport { TagComponent } from './tag.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        TagsComponent,\n        TagComponent\n    ],\n    exports: [\n        TagsComponent,\n        TagComponent\n    ],\n    providers: [\n    ]\n})\nexport class TagsModule {}\n","import {AbstractControl, ValidationErrors} from \"@angular/forms\";\n\n// accepts http/https/ftp\nexport const urlRegex = new RegExp(\"(ftp|https?):\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9^@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,6}\\\\b([-a-zA-Z0-9^@:%_\\\\+.~#?&//=]*)\",\"i\");\n\n// accepts http/https\nexport  const urlHttpRegex = new RegExp(\"(https?):\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9^@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,6}\\\\b([-a-zA-Z0-9^@:%_\\\\+.~#?&//=]*)\",\"i\");\nexport const ipRegex = new RegExp(\"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\",\"i\");\n/**\n * Provides a set of validators used by form controls.\n *\n * A validator is a function that processes a {@link FormControl} or collection of\n * controls and returns a map of errors. A null map means that validation has passed.\n *\n * ### Example\n *\n * ```typescript\n * var loginControl = new FormControl(\"\", [Validators.ip, Validators.required])\n * ```\n *\n */\nexport class KalturaValidators {\n\n    /**\n     * Validator that requires controls to have a value represented as IP (value not required).\n     */\n    static ip(control: AbstractControl): ValidationErrors|null {\n        if (!control.value || !control.value.length) return null;\n        return ipRegex.test(control.value) ? null : {'ip': true};\n    }\n\n    /**\n     * Validator that requires controls to have a value represented as URL (value not required).\n     */\n    static url(control: AbstractControl): ValidationErrors|null {\n        if (!control.value || !control.value.length) return null;\n        return urlRegex.test(control.value) ? null : {'url': true};\n    }\n\n    /**\n     * Validator that requires controls to have a value represented as URL (value not required).\n     */\n    static urlHttp(control: AbstractControl): ValidationErrors|null {\n        if (!control.value || !control.value.length) return null;\n        return urlHttpRegex.test(control.value) ? null : {'url': true};\n    }\n\n\n    /**\n     * Url validation\n     */\n    static isUrlValid(url: string): boolean {\n        return urlRegex.test(url);\n    }\n\n}\n","import { OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/share';\nimport 'rxjs/add/operator/map';\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { WidgetBase } from './widget-base';\nimport { WidgetState } from './widget-state';\nimport { KalturaLogger, EmptyLogger } from '@kaltura-ng/kaltura-common';\nimport { cancelOnDestroy, tag } from '@kaltura-ng/kaltura-common';\n\nexport declare type FormWidgetsState = {\n    [key : number] : WidgetState\n}\n\nexport enum OnDataSavingReasons\n{\n    attachedWidgetBusy,\n    validationErrors,\n    buildRequestFailure\n}\n\nexport abstract class WidgetsManagerBase<TData, TRequest> implements WidgetsManagerBase<TData, TRequest>, OnDestroy {\n    private _widgets: WidgetBase<this, TData, TRequest>[] = [];\n    private _widgetsState: BehaviorSubject<FormWidgetsState> = new BehaviorSubject<FormWidgetsState>({});\n    private _isNewData = false;\n    public widgetsState$ = this._widgetsState.asObservable();\n\tprotected _logger: KalturaLogger;\n\n\tconstructor(logger?: KalturaLogger) {\n\t\tthis._logger = logger ? logger.subLogger(`widgetsManager`) : new EmptyLogger();\n\t}\n\n    public get widgetsState(): FormWidgetsState {\n        return this._widgetsState.getValue();\n    }\n\n    public get isNewData(): boolean{\n        return this._isNewData;\n    }\n\n    public _updateWidgetState(newWidgetState : WidgetState): void {\n        const currentWidgetsState = this._widgetsState.getValue();\n\n        if (!newWidgetState || !newWidgetState.key) {\n            this._logger.warn('[widgets manager] cannot update widget state, missing widget key');\n        } else {\n            this._logger.info(`[widgets manager] widget '${newWidgetState.key}': update widget state`, newWidgetState);\n            currentWidgetsState[newWidgetState.key] = newWidgetState;\n            this._widgetsState.next(currentWidgetsState);\n\n        }\n    }\n\n    public registerWidgets(widgets : WidgetBase<this, TData,TRequest>[])\n    {\n        if (widgets)\n        {\n            widgets.forEach(widget =>\n            {\n                const existingRegisteredWidget = this._widgets.find(registeredWidget => registeredWidget === widget || registeredWidget.key === widget.key);\n\n                if (existingRegisteredWidget)\n                {\n                    throw new Error(`a widget with key '${widget.key}' is already registered (did you registered the same widget twice?)`);\n                }else {\n                    this._logger.info(`[widgets manager] widget '${widget.key}': registered to a form widgets manager`);\n                    widget._setForm(this);\n                    this._widgets.push(widget);\n                }\n            })\n\n        }\n    }\n\n    public notifyDataLoading(dataId: any): void {\n        this._logger.info(`[widgets manager] notify data loading. data identifier '${dataId}'`);\n\n        this._widgets.filter(widget => widget.isActive).forEach(widget => {\n            widget._reset();\n        });\n\n        this._widgets.forEach(widget => {\n            widget._handleDataLoading(dataId);\n        });\n    }\n\n    public notifyDataLoaded(data: TData, settings: { isNewData: boolean }) : { errors?: Error[] } {\n\n        this._logger.info(`[widgets manager] notify data loaded.`);\n        const errors : Error[] = [];\n        this._isNewData = settings.isNewData;\n        this._logger.info(`[widgets manager] treat data as '${this._isNewData ? 'new' : 'existing'} data'.`);\n        this._widgets.forEach(widget => {\n\n            try {\n                widget._handleDataLoaded(data);\n                widget.activate();\n            }catch(e)\n            {\n                errors.push(e);\n            }\n        });\n\n        return { errors };\n    }\n\n    private _widgetsOnDataSaving(newData: TData, request: TRequest, originalData: TData): { errors?: Error[] } {\n        const errors: Error[] = [];\n        const widgets = this._isNewData ? this._widgets : this._widgets.filter(widget => widget.isActive);\n        widgets.forEach(widget => {\n            try {\n                this._logger.info(`[widgets manager] widget '${widget.key}': build save request content`);\n                widget._handleDataSaving(newData, request, originalData);\n            } catch (err) {\n                this._logger.error(`[widgets manager] widget '${widget.key}': failed to prepare data for save. Save operation aborted.`, err); // keep error\n                errors.push(err);\n            }\n        });\n\n        return {errors};\n    }\n\n    public notifyDataSaving(newData: TData, request: TRequest, originalData: TData): Observable<{ ready: boolean, reason?: OnDataSavingReasons, errors?: Error[] }> {\n\n        this._logger.info(`[widgets manager] notify data saving.`);\n\n        const isAttachedWidgetBusy = !!this._widgets.find(widget => widget.isAttached && widget.isBusy);\n\n        return Observable.of(isAttachedWidgetBusy ?\n            {\n                ready: false,\n                reason: OnDataSavingReasons.attachedWidgetBusy\n            } : {ready: true} )\n            .pipe(cancelOnDestroy(this))\n            .flatMap(response => {\n                if (response.ready) {\n                    return this._validateWidgets()\n                        .catch((error, caught) => Observable.of({isValid: false}))\n                        .map(response => response.isValid ? {ready: true} : {\n                            ready: false,\n                            reason: OnDataSavingReasons.validationErrors\n                        });\n                } else {\n                    return Observable.of(response);\n                }\n            })\n            .map(response => {\n                if (response.ready) {\n                    const saveContent = this._widgetsOnDataSaving(newData, request, originalData);\n\n                    if (saveContent.errors.length === 0) {\n                        return {ready: true, reason: null};\n                    }\n                    else {\n                        return {\n                            ready: false,\n                            reason: OnDataSavingReasons.buildRequestFailure,\n                            errors: saveContent.errors\n                        };\n                    }\n                } else {\n                    return response;\n                }\n            });\n    }\n\n    private _validateWidgets(): Observable<{ isValid: boolean }> {\n        const widgets = this._isNewData ? this._widgets : this._widgets.filter(widget => widget.isActive);\n        const widgetsResults = widgets.map(widget => {\n            return widget._validate()\n                .pipe(cancelOnDestroy(this))\n                .catch((err, caught) => Observable.of({isValid: false}));\n        });\n\n        if (widgetsResults.length) {\n            return Observable.forkJoin(...widgetsResults).map(responses => {\n                return responses.find(response => !response.isValid) || {isValid: true};\n            });\n        } else {\n            return Observable.of({isValid: true});\n        }\n    }\n\n    ngOnDestroy() {\n        this._widgets.forEach(widget =>\n        {\n            widget.destory();\n        });\n\n        this._logger.warn('[widgets manager] form widgets manager ngOnDestroy');\n        this._widgetsState.complete();\n    }\ns\n\n\n}\n","import { Observable } from 'rxjs/Observable';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport 'rxjs/add/observable/of';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/do';\nimport { WidgetsManagerBase } from './widgets-manager-base';\nimport { ISubscription } from 'rxjs/Subscription';\nimport { WidgetState, WidgetStateData } from './widget-state';\nimport { KalturaLogger, EmptyLogger } from '@kaltura-ng/kaltura-common';\n\n// DEVELOPER NOTE: Don't implement ngOnDestroy - the inheritor will probably override this without calling super()\nexport abstract class WidgetBase<TForm extends WidgetsManagerBase<TData,TRequest>, TData, TRequest>\n{\n    public get data(): TData {\n        return this._data;\n    }\n\n    // DEVELOPER NOTE: this class cannot use 'cancelOnDestroy' operation\n    // because it must assume the inheriter will override it\n    private _activateSubscription: ISubscription = null;\n\n    private _data: TData;\n    private _dataSource: ReplaySubject<TData> = new ReplaySubject<TData>(1);\n    public data$ = this._dataSource.asObservable();\n    protected _logger: KalturaLogger;\n\n    constructor(private _key : string, logger?: KalturaLogger)\n    {\n        if (!_key)\n        {\n            throw new Error(`Form widget key is required when constructing widget of type '${typeof this}`);\n        }\n\n\t    this._logger = logger ? logger.subLogger(`widgets.${_key}`) : new EmptyLogger();\n    }\n\n    private _widgetState : WidgetState = {key: this.key, isValid: true, isDirty: false, isAttached: false, isBusy : false, isActive : false,  wasActivated : false};\n\n    protected onDataSaving(newData: TData, request: TRequest, originalData: TData): void;\n    protected onDataSaving(newData: TData, request: TRequest): void;\n    protected onDataSaving(newData: TData, request: TRequest, originalData?: TData): void {\n    }\n\n    protected form : TForm;\n\n    private _widgetReset : Subject<any> = new Subject<any>();\n    public widgetReset$ = this._widgetReset.asObservable();\n\n    public get wasActivated(): boolean {\n        return this._widgetState.wasActivated;\n    }\n\n    public get isValid(): boolean {\n        return this._widgetState.isValid;\n    }\n\n    public get isDirty(): boolean {\n        return this._widgetState.isDirty;\n    }\n\n    public get isActive(): boolean {\n        return this._widgetState.isActive;\n    }\n\n    public get isAttached(): boolean {\n        return this._widgetState.isAttached;\n    }\n\n    public get isBusy(): boolean {\n        return this._widgetState.isBusy;\n    }\n\n    public get key(): string\n    {\n        return this._key;\n    }\n\n    public get isNewData(): boolean{\n        return this.form.isNewData;\n    }\n\n    protected onValidate(wasActivated: boolean): Observable<{isValid: boolean}> {\n        return Observable.of({isValid: true});\n    }\n\n    protected updateState(stateUpdate : {isValid? : boolean, isDirty? : boolean, isBusy? : boolean}) : void {\n        this._updateState(stateUpdate);\n    }\n\n    private _updateState(stateUpdate : Partial<WidgetStateData>) : void {\n\n        this._verifyRegistered();\n\n        const stateHasChanges = Object.keys(stateUpdate).reduce((result, propertyName) => result || this._widgetState[propertyName] !== stateUpdate[propertyName], false);\n\n        if (stateHasChanges) {\n            Object.assign(this._widgetState, stateUpdate);\n\n            if (this.form) {\n                const newWidgetState = Object.assign({}, this._widgetState);\n                this.form._updateWidgetState(newWidgetState);\n            }\n        }\n    }\n\n    protected onDataLoaded(data: TData): void {\n    }\n\n    protected onDataLoading(dataId: any): void {\n    }\n\n    protected abstract onReset();\n\n    protected onActivate(firstTimeActivating: boolean): Observable<{failed: boolean, error?: Error}> | void {\n    }\n\n    public _setForm(manager : TForm) :void {\n        this.form = manager;\n    }\n\n    public _handleDataLoading(dataId: string): void {\n        this._verifyRegistered();\n        this._setData(null);\n        this.onDataLoading(dataId);\n    }\n\n    private _setData(data: TData): void{\n        this._data = data;\n        this._dataSource.next(data);\n    }\n\n    public _handleDataLoaded(data: TData): void {\n        this._verifyRegistered();\n        this._setData(data);\n        this.onDataLoaded(data);\n    }\n\n    public _validate(): Observable<{isValid: boolean}> {\n\n        this._verifyRegistered();\n\n        return this.onValidate(this.wasActivated)\n            .do(\n                response => {\n                    const updateState = (response.isValid !== this._widgetState.isValid);\n\n                    if (updateState) {\n                        this._logger.info(`[widget] widget '${this.key}': widget 'isValid' state doesn't match result of 'onValidate'. updating status to '${response.isValid ? 'valid' : 'invalid'}'`);\n                        this.updateState({isValid: response.isValid});\n                    }\n                }\n            );\n    }\n\n    public _handleDataSaving(newData: TData, request: TRequest, originalData: TData): void {\n\n        this._verifyRegistered();\n        this.onDataSaving(newData, request, originalData);\n    }\n\n    public _reset(): void {\n        this._verifyRegistered();\n\n        this._logger.info(`[widget] widget '${this.key}': reset widget`);\n\n        if (this._activateSubscription)\n        {\n            this._activateSubscription.unsubscribe();\n            this._activateSubscription = null;\n        }\n\n        this._widgetReset.next('');\n        this._updateState({ isValid: true, isDirty: false, isActive : false, isBusy: false});\n        this.onReset();\n    }\n\n    private _verifyRegistered(): void{\n        if(!this.form)\n        {\n            this._logger.error(`[widget] widget '${this.key}': cannot perform action, widget is not registered to a manager (did you forgot to register it in the main route component?)`);\n            throw new Error(`[widget] cannot perform action. widget with key \\''${this.key}'\\' is not registered to a manager`);\n        }\n    }\n\n    public activate(): void {\n\n        this._verifyRegistered();\n\n        if (this.data && this.isAttached && !this.isActive) {\n\n            this._reset();\n\n            const previousStatus = {\n              wasActivated : this.wasActivated\n            };\n\n            this._logger.info(`[widget] widget '${this.key}': activating widget (first time = ${!previousStatus.wasActivated})`);\n            const activate$ = this.onActivate(!this.wasActivated);\n            this._updateState({ isActive : true, wasActivated : true});\n\n            if (activate$ instanceof Observable) {\n                this._logger.info(`[widget] widget '${this.key}': widget requested for async activation operation. executing async operation.`);\n                this._activateSubscription = activate$\n                    .catch((error, caught) => Observable.of({failed: true, error}))\n                    .subscribe(\n                        response => {\n                            if (response && response.failed) {\n                                this._logger.info(`[widget] widget '${this.key}': async widget activation failed. revert state to ${JSON.stringify(previousStatus)})`);\n                                this._updateState({ isActive : false, wasActivated : previousStatus.wasActivated});\n                            }else {\n                                this._logger.info(`[widget] widget '${this.key}': async widget activation completed`);\n                            }\n                        },\n                        () => {\n                            this._activateSubscription = null;\n                        },\n                        () => {\n                            this._activateSubscription = null;\n                        });\n            }\n        }\n    }\n\n    public attachForm() : void{\n        this._verifyRegistered();\n\n        if (this.isAttached) {\n            this._logger.warn(`[widget] widget with key '${this.key}' is already attached (did you attached two components to the same widget? did you forgot to detach the widget upon ngOnDestroy?)`);\n        }else {\n            this._logger.info(`[widget] widget '${this.key}': attaching widget`);\n            this._updateState({isAttached: true});\n            this.activate();\n        }\n    }\n\n    public detachForm() : void{\n\n        this._verifyRegistered();\n\n        if (!this.isAttached) {\n            this._logger.warn(`[widget] widget with key '${this.key}' is already detached (did you attached two components to the same widget? did you forgot to attach the widget upon ngOnInit?)`);\n        }else {\n            this._logger.info(`[widget] widget '${this.key}': detaching widget`);\n            this._updateState({isAttached: false});\n        }\n    }\n\n    destory() {\n        this._reset();\n        this._widgetReset.complete();\n    }\n\n}\n","import { Output, EventEmitter, Component, ElementRef, Input, OnInit, HostListener } from '@angular/core';\n\n@Component({\n\tselector: 'kFileDialog',\n\ttemplateUrl: './file-dialog.component.html',\n\tstyleUrls: ['./file-dialog.component.scss']\n})\nexport class FileDialogComponent implements OnInit {\n\n\t@Input() filter: string = \"\";\n\t@Input() allowMultiple: boolean = false;\n\n\t@Output() onFileSelected = new EventEmitter<File[]>();\n\n\tconstructor(private elementRef: ElementRef) {\n\n\t}\n\n\tpublic open(event? : Event) {\n\n\t\tif (event)\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tthis.elementRef.nativeElement.firstElementChild.value = \"\";\n\t\tthis.elementRef.nativeElement.firstElementChild.click();\n\t}\n\n\tpublic _fileInputChange(event){\n\t\tif (event.currentTarget.files && event.currentTarget.files.length)\n\t\t{\n\t\t\tthis.onFileSelected.emit(event.currentTarget.files);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t}\n}\n\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as momentNS from 'moment';\nconst moment = momentNS;\n\n\n@Pipe({\n    name: 'kDate'\n})\nexport class DatePipe implements PipeTransform {\n\n    constructor(){}\n\n    transform(date: number, format : string): any {\n        if (date) {\n            if (!format) {\n                format = \"dateAndTime\";\n            }\n\n            switch (format) {\n                case 'dateOnly':\n                    format = 'MM/DD/YY';\n                    break;\n                case 'timeOnly':\n                    format = 'HH:mm';\n                    break;\n                case 'dateAndTime':\n                    format = \"MM/DD/YY HH:mm\";\n                    break;\n                case 'longDateOnly':\n                    format = \"MMMM D, YYYY\";\n                    break;\n                default:\n                    break;\n            }\n\n\n            return moment(date).format(format);\n        }else\n        {\n            return '';\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n/*\n * Convert bytes into largest possible unit.\n * Takes an precision argument that defaults to 2.\n * Usage:\n *   bytes | fileSize:precision\n * Example:\n *   {{ 1024 |  fileSize}}\n *   formats to: 1 KB\n */\n@Pipe({name: 'kFileSize'})\nexport class FileSizePipe implements PipeTransform {\n\n    private units = [\n        'bytes',\n        'KB',\n        'MB',\n        'GB',\n        'TB',\n        'PB'\n    ];\n\n    transform(bytes: number = 0, precision: number = 2 ) : string {\n        if ( isNaN( parseFloat( String(bytes) )) || ! isFinite( bytes ) ) return 'N/A';\n\n        let unit = 0;\n\n        while ( bytes >= 1024 ) {\n            bytes /= 1024;\n            unit ++;\n        }\n\n        return bytes.toFixed( + precision ) + ' ' + this.units[ unit ];\n    }\n}","import { Directive, ElementRef, Renderer2, Input, AfterViewInit } from '@angular/core';\n\n@Directive({\n  selector: '[kAutofocus]'\n})\nexport class AutofocusDirective implements AfterViewInit {\n  private _autofocus = true;\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {\n  }\n\n  ngAfterViewInit() {\n    if (this._autofocus) {\n      setTimeout(() => {\n        this.renderer.selectRootElement(this.el.nativeElement).focus();\n      });\n    }\n  }\n\n  @Input()\n  set inputAutofocus(allowed: boolean) {\n    this._autofocus = allowed;\n  }\n}\n","export enum BrowserNames\n{\n\tIE11,\n\tother\n}\nexport class KalturaBrowserUtils {\n\tstatic detectBrowser(): BrowserNames\n\t\t{\n\t\t\tif (!!window['MSInputMethodContext'] && !!document['documentMode']){\n\t\t\t\treturn BrowserNames.IE11;\n\t\t\t}else{\n\t\t\t\treturn BrowserNames.other;\n\t\t\t}\n\t\t}\n}","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({ name: 'safe' })\nexport class SafePipe implements PipeTransform {\n\tconstructor(private sanitizer: DomSanitizer) {}\n\ttransform(url) : any {\n\t\treturn this.sanitizer.bypassSecurityTrustResourceUrl(url);\n\t}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'kTime'})\nexport class TimePipe implements PipeTransform {\n  transform(value: number): string {\n\tif (typeof value === \"string\"){\n\t\treturn value as string;\n\t}else{\n\t\tlet hours: number = Math.floor( Math.round( value ) / 3600 );\n\t\tlet minutes: number = Math.floor( ( Math.round( value ) / 60 ) % 60 );\n\t\tlet seconds: number = Math.round(value) % 60;\n\n\t\tlet hoursStr: string = hours === 0 ? '' : hours.toString() + \":\";\n\t\tlet minutesStr: string = minutes === 0 && hours === 0 ? '00' : minutes < 10  ? '0' + minutes.toString() : minutes.toString();\n\t\tlet secondsStr: string = seconds < 10  ? '0' + seconds.toString() : seconds.toString();\n\n\t\treturn hoursStr + minutesStr + \":\" + secondsStr;\n\t}\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'kLineBreak'\n})\nexport class LineBreakPipe implements PipeTransform {\n\n    constructor(){}\n\n    transform(str: string): string {\n        if (str.split(\"\\r\").length > 0 && str.split(\"\\r\\n\").length < str.split(\"\\r\").length) {\n            str = str.split(\"\\r\").join(\"\\r\\n\");\n        }\n        return str;\n    }\n}\n","import { Component, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'kScrollToTopContainer',\n  template: '<ng-content></ng-content>',\n  styles: [':host { display: block }']\n})\nexport class ScrollToTopContainerComponent {\n  constructor(private _el: ElementRef) {\n  }\n\n  public scrollToTop(): void {\n    this._el.nativeElement.scrollTop = 0;\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FileDialogComponent } from './file-dialog/file-dialog.component';\nimport { KalturaPlayerComponent } from './player/player.component';\nimport { DatePipe } from './date.pipe';\nimport { SafePipe } from './safe.pipe';\nimport { TimePipe } from './time.pipe';\nimport { FileSizePipe } from './file-size.pipe';\nimport { LineBreakPipe } from './line-break.pipe';\nimport { AutofocusDirective } from './input-autofocus';\nimport { ScrollToTopContainerComponent } from './scroll-to-top-container.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        SafePipe,\n        TimePipe,\n\t      FileDialogComponent,\n        KalturaPlayerComponent,\n        DatePipe,\n        FileSizePipe,\n        LineBreakPipe,\n        AutofocusDirective,\n        ScrollToTopContainerComponent,\n    ],\n    exports: [\n        TimePipe,\n        SafePipe,\n\t      FileDialogComponent,\n        KalturaPlayerComponent,\n        DatePipe,\n        FileSizePipe,\n        LineBreakPipe,\n        AutofocusDirective,\n        ScrollToTopContainerComponent\n    ],\n    providers: [\n    ]\n})\nexport class KalturaUIModule {}\n","import {Component, ChangeDetectionStrategy, OnInit, Input} from \"@angular/core\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\n@Component({\n  selector: 'kInputRange',\n  templateUrl: './input-range.component.html',\n  styleUrls: ['./input-range.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: InputRangeComponent,\n      multi: true\n    }\n  ]\n})\n\nexport class InputRangeComponent implements OnInit, ControlValueAccessor {\n  @Input() options: Array<{value: string | number, tooltip: string, isSelected: boolean, label: string}>;\n  @Input() width: string;\n\n  public selectedOptionIndex: number;\n  public selectedText: string;\n  public pointOvered = [];\n\n  onChange = (value: string | number) => {};\n  onTouched = () => {};\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.selectedOptionIndex = this.options.findIndex(option => option.isSelected);\n    this.selectedOptionIndex = this.selectedOptionIndex == -1 ? 0 : this.selectedOptionIndex;\n    this.selectedText = this.options[this.selectedOptionIndex].label;\n\n  }\n\n  getProgressBarStyle() {\n\n    return 100 / (this.options.length - 1) * (this.selectedOptionIndex >= 0 ? this.selectedOptionIndex : 0);\n\n  }\n\n  pointSelected(index) {\n    if (this.selectedOptionIndex > 0) {\n      this.options[this.selectedOptionIndex].isSelected = false;\n    }\n\n    this.options[index].isSelected = true;\n\n    this.selectedText = this.options[index].label;\n    this.selectedOptionIndex = index;\n\n    this.onTouched();\n    this.onChange(this.options[index].value);\n\n  }\n\n  //From ControlValueAccessor interface\n  writeValue(value: string | number) {\n    const valueOptionIndex = this.options.findIndex(option => option.value == value);\n    if (valueOptionIndex !== -1) {\n      this.pointSelected(valueOptionIndex);\n    }\n\n  }\n\n  //From ControlValueAccessor interface\n  registerOnChange(fn: (value: string | number) => void) {\n    this.onChange = fn;\n  }\n\n  //From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InputRangeComponent } from './input-range.component';\nimport { TooltipModule } from \"../tooltip/k-tooltip.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TooltipModule\n  ],\n  declarations: [\n    InputRangeComponent\n  ],\n  exports: [\n    InputRangeComponent\n  ],\n  providers: [\n  ]\n})\nexport class InputRangeModule {}\n","/*\n * Public API Surface of kaltura-ui\n */\n\nexport * from './index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAaI,4BAAY,OAAoF;QAE5F,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;KAClC;IACL,yBAAC;AAAD,CAAC;;;IC+CC,8BAAoB,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;QAhD/B,eAAU,GAAa,KAAK,CAAC;QAC7B,qBAAgB,GAAY,CAAC,CAAC;KA+CI;IA5ClC,sBAAI,4CAAU;aAyBvB;YACE,OAAO,IAAI,CAAC,WAAW,CAAC;SACzB;aA3BQ,UAAe,KAAe;YAAvC,iBAuBC;;YArBG,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC;oBACjC,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;oBAC/B,IAAI,KAAI,CAAC,UAAU,IAAI,CAAC,CAAC,KAAI,CAAC,oBAAoB,EAAE;wBAChD,IAAM,IAAI,GAAG,KAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;wBAC7E,IAAI,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,IAAI,KAAI,CAAC,gBAAgB,EAAE;4BACjE,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,MAAM,EAAK,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,OAAI,CAAC,CAAC;yBAC3G;qBACJ;oBACD,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;iBAChF,EAAE,CAAC,CAAC,CAAC;aACT;iBAAM;gBACH,IAAI,IAAI,CAAC,kBAAkB,EAAE;oBACzB,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;oBACtC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;iBAClC;gBACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBAC1C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;iBAChF;aACJ;YACD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC5B;;;OAAA;IAOD,sBAAI,yCAAO;aAAX,UAAY,KAAmC;YAD/C,iBAaC;YAVC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAC7B;gBACE,IAAI,CAAC,QAAQ,GAAG,EAAE,KAAK,EAAG,OAAO,EAAE,OAAO,EAAG,KAAK,EAAE,OAAO,EAAG,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAG,cAAQ,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAC,EAAC,CAAC,EAAC,CAAC;aAC/H;iBAAK,IAAI,KAAK,YAAY,kBAAkB,EAC7C;gBACE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;iBACD;gBACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtB;SACF;;;OAAA;IAIM,2CAAY,GAAnB,UAAoB,MAA+B;QACjD,IAAI,MAAM,EAAE;YACV,MAAM,CAAC,MAAM,EAAE,CAAC;SACjB;KACF;IAED,uCAAQ,GAAR;KAGC;;gBAX8B,SAAS;;IAnDc;QAArD,SAAS,CAAC,sBAAsB,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;kCAAuB,UAAU;sEAAC;IACrC;QAAjD,SAAS,CAAC,kBAAkB,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;kCAAmB,UAAU;kEAAC;IAEtE;QAAR,KAAK,EAAE;;4DAA8B;IAC7B;QAAR,KAAK,EAAE;;kEAA+B;IAC9B;QAAR,KAAK,EAAE;;yDAAkB;IAEjB;QAAR,KAAK,EAAE;;;0DAuBP;IAOD;QADC,KAAK,EAAE;;;uDAaP;IAvDU,oBAAoB;QANhC,SAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,4iCAA4C;YAE5C,aAAa,EAAG,iBAAiB,CAAC,IAAI;;SACvC,CAAC;yCA0D+B,SAAS;OAzD7B,oBAAoB,CAsEhC;IAAD,2BAAC;CAtED;;;ICWA;KAGC;IAHY,iBAAiB;QAf7B,QAAQ,CACL;YACI,OAAO,EAAG;gBACR,YAAY;aACb;YACD,YAAY,EAAG;gBACX,oBAAoB;aACvB;YACD,OAAO,EAAG;gBACN,oBAAoB;aACvB;YACD,SAAS,EAAG,EACX;SACJ,CACJ;OACY,iBAAiB,CAG7B;IAAD,wBAAC;CAHD;;;ICWI;QAjBS,kBAAa,GAAY,IAAI,CAAC;QAE9B,cAAS,GAAW,GAAG,CAAC;QACxB,iBAAY,GAAW,GAAG,CAAC;QAC3B,eAAU,GAAY,KAAK,CAAC;QAE3B,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QASvC,gBAAW,GAAY,KAAK,CAAC;KAGnC;IARM,sCAAQ,GAAf,UAAgB,IAAU;QAEtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;KACrB;IAOD,sCAAQ,GAAR;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;KAC1D;IAED,qCAAO,GAAP,UAAQ,MAAkB;QACtB,IAAI,IAAI,CAAC,WAAW,EAAC;YACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;KACJ;IAjCQ;QAAR,KAAK,EAAE;;sDAAe;IACd;QAAR,KAAK,EAAE;;sDAAe;IACd;QAAR,KAAK,EAAE;;2DAAoB;IACnB;QAAR,KAAK,EAAE;;qDAAc;IACb;QAAR,KAAK,EAAE;;wDAAiB;IAChB;QAAR,KAAK,EAAE;;8DAA+B;IAC9B;QAAR,KAAK,EAAE;;0DAAmB;IAClB;QAAR,KAAK,EAAE;;0DAAyB;IACxB;QAAR,KAAK,EAAE;;6DAA4B;IAC3B;QAAR,KAAK,EAAE;;2DAA6B;IAE3B;QAAT,MAAM,EAAE;;0DAAqC;IAbrC,mBAAmB;QAL/B,SAAS,CAAC;YACP,QAAQ,EAAE,aAAa;YACvB,krBAA2C;;SAE9C,CAAC;;OACW,mBAAmB,CAoC/B;IAAD,0BAAC;CApCD;;;IC2BE;QArBS,sBAAiB,GAAW,eAAe,CAAC;QAC5C,qBAAgB,GAAW,cAAc,CAAC;QAE3C,uBAAkB,GAAG,KAAK,CAAC;QAW5B,cAAS,GAAY,KAAK,CAAC;QAC3B,eAAU,GAAY,KAAK,CAAC;QAE3B,eAAU,GAAG,CAAC,CAAC;QACf,kBAAa,GAAY,KAAK,CAAC;KAItC;IAhBQ,sBAAI,qCAAI;aAAR,UAAS,OAAY;YAC5B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;YACrB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;;;OAAA;IAeD,4CAAc,GAAd;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;IAED,gDAAkB,GAAlB;QAAA,iBAUC;QATC,IAAI,IAAI,CAAC,kBAAkB,EAC3B;YACE,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,UAAU,CAAC;gBACT,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;oBACrB,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;iBAC3B,CAAC,CAAA;aACH,EAAC,CAAC,CAAC,CAAC;SACN;KACF;IAED,gDAAkB,GAAlB;QAAA,iBAQC;QAPC,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CACzD,UAAA,OAAO;YACL,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC,CACJ,CAAC;KACH;IAEO,0CAAY,GAApB;QAAA,iBAKC;QAHC,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,GAAA,CAAC,CAAC;SACvD;KACF;IACD,0CAAY,GAAZ;QAAA,iBAqCC;;QAnCC,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,aAAa,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAC5C,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;SACrC;QACD,IAAI,CAAC,uBAAuB,GAAG,UAAU,CAAC;YACxC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;gBACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACzB,CAAC,CAAC;YACH,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAClC,IAAM,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC;YACxF,IAAM,aAAa,GAAG,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC;YACnI,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY,GAAG,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY,GAAG,SAAS,CAAC,CAAC;YAC9M,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY,GAAG,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,MAAM,IAAI,SAAS,GAAG,CAAC,CAAE;;YAG9I,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,IAAI,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,EAAC;gBACjD,KAAK,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBAClE,IAAM,GAAG,GAAQ,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC5D,IAAM,KAAG,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC,GAAG,CAAC;oBAC5C,MAAM,CAAC,IAAI,CAAC,KAAG,CAAC,CAAC;iBAClB;wCACQ,CAAC;oBACR,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAAC;wBACpD,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;4BAC7B,IAAI,CAAC,KAAG,KAAK,EAAC;gCACZ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;6BACxB;yBACF,CAAC,CAAC;qBACJ;;gBAPH,KAAK,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,MAAM,CAAC,MAAM,GAAC,CAAC,EAAE,CAAC,EAAE;4BAA3B,CAAC;iBAQT;aACF;YAED,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;SACrC,EAAE,GAAG,CAAC,CAAC;KACT;IAED,kCAAI,GAAJ,UAAK,SAAiB;QAAtB,iBAgBC;QAfC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAC;YACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,SAAS,KAAK,MAAM,EAAE;gBACxB,IAAI,CAAC,UAAU,EAAE,CAAC;aACnB;iBACI;gBACH,IAAI,CAAC,UAAU,EAAE,CAAC;aACnB;YACD,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACnI,UAAU,CAAC;gBACT,KAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B,EAAC,GAAG,CAAC,CAAC;SACR;KAEF;IAED,mCAAK,GAAL;QAAA,iBAMC;QALC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;QACjD,UAAU,CAAC;YACT,KAAI,CAAC,YAAY,EAAE,CAAC;SACrB,EAAC,GAAG,CAAC,CAAC;KACR;IAED,yCAAW,GAAX;QACE,IAAI,IAAI,CAAC,yBAAyB,EAAC;YACjC,IAAI,CAAC,yBAAyB,CAAC,WAAW,EAAE,CAAC;YAC7C,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;SACvC;KACF;IAjIqC;QAArC,eAAe,CAAC,mBAAmB,CAAC;kCAAQ,SAAS;sDAAsB;IAEnE;QAAR,KAAK,EAAE;;kEAA6C;IAC5C;QAAR,KAAK,EAAE;;iEAA2C;IAK1C;QAAR,KAAK,EAAE;;;mDAIP;IAEyC;QAAzC,SAAS,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kCAAY,UAAU;0DAAC;IACpB;QAA3C,SAAS,CAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kCAAc,UAAU;4DAAC;IAYpE;QADC,YAAY,CAAC,eAAe,EAAE,EAAE,CAAC;;;;6DAGjC;IA/BU,mBAAmB;QAL/B,SAAS,CAAC;YACT,QAAQ,EAAE,eAAe;YACzB,8eAA2C;;SAE5C,CAAC;;OACW,mBAAmB,CAoI/B;IAAD,0BAAC;CApID;;;ICAI,2BAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAGlC,oBAAe,GAAgB,IAAI,CAAC;QACpC,oBAAe,GAAQ,IAAI,CAAC;QAC5B,qBAAgB,GAAG,KAAK,CAAC;QACzB,mBAAc,GAAW,IAAI,CAAC;QAC9B,kBAAa,GAAW,IAAI,CAAC;QAE5B,oBAAe,GAAoC,IAAI,CAAC;QACxD,WAAM,GAAY,IAAI,CAAC;QACvB,kBAAa,GAAW,CAAC,CAAC;QAC1B,cAAS,GAAqB,KAAK,CAAC;QACpC,UAAK,GAAG,GAAG,CAAC;QACZ,aAAQ,GAAW,GAAG,CAAC;QACvB,iBAAY,GAAG,KAAK,CAAC;QACrB,mBAAc,GAAG,KAAK,CAAC;KAf/B;IAkBD,sBAAI,uCAAQ;aAAZ,UAAa,KAAU;YACnB,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;gBAC5B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;aAChC;iBACI;gBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;aAC/B;YAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC;;;OAAA;IAEO,0CAAc,GAAtB,UAAuB,KAAU;QAE7B,OAAO,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,IAAI,CAAC;KACzE;IAEO,iDAAqB,GAA7B;QAAA,iBAyCC;QAxCG,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBAC1B,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAChC;SACJ;aAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAC9B,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBAC3B,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACtD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;gBAClD,IAAI,CAAC,eAAe,CAAC,SAAS,IAAI,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC5E,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;oBACnB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBAC9D;gBAED,IAAM,sBAAsB,GAAG;oBAC3B,IAAI,KAAI,CAAC,eAAe,EAAE;wBACtB,KAAI,CAAC,eAAe,CAAC,SAAS,IAAI,kBAAkB,CAAC;qBACxD;iBACJ,CAAC;gBAEF,IAAI,IAAI,CAAC,KAAK,EAAE;oBACZ,UAAU,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;iBAClD;qBAAM;oBACH,sBAAsB,EAAE,CAAC;iBAC5B;gBAED,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAChD,IAAI,IAAI,CAAC,4BAA4B,EAAE,EAAE;oBACrC,IAAI,CAAC,6BAA6B,EAAE,CAAC;iBACxC;aAEJ;iBAAM;gBACH,IAAI,IAAI,CAAC,4BAA4B,EAAE,EAAE;oBACrC,IAAI,CAAC,6BAA6B,EAAE,CAAC;iBACxC;aACJ;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBAC1B,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAChC;SACJ;KACJ;IAGD,uCAAW,GAAX;QACI,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,6BAA6B,EAAE,CAAC;SACxC;KACJ;IAGD,wCAAY,GAAZ;QACE,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YAC/C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAC9B;KACF;IAGD,wCAAY,GAAZ;QACI,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAChC;IAEO,wCAAY,GAApB;;QAEE,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;KACpG;IAEO,iDAAqB,GAA7B;QACI,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE;gBACjC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACrE;YACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC7B;KACJ;IAEO,6CAAiB,GAAzB;QACI,OAAO,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC;KAC3C;IAEU,wDAA4B,GAApC;QACI,IAAI,IAAI,CAAC,iBAAiB,EAAE,IAAI,IAAI,CAAC,eAAe,EAAE;YAElD,IAAI,OAAO,GAAG,EAAE,CAAC;YAEjB,IAAI,IAAI,CAAC,eAAe,IAAI,OAAO,IAAI,CAAC,eAAe,KAAK,QAAQ,EACpE;gBACI,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACxD;iBAAK,IAAI,IAAI,CAAC,eAAe,IAAI,OAAO,IAAI,CAAC,eAAe,KAAK,UAAU,EAC5E;gBACI,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACxD;iBACD;gBACI,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC;aAClC;YAED,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;;gBAE9B,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpC,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtC,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,OAAO,CAAC;iBAC9C;qBAAM;oBACH,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,OAAO,CAAC;iBAC5C;gBAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC;gBACxD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;gBAEtD,OAAO,IAAI,CAAC;aACf;iBACD;gBACI,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,OAAO,KAAK,CAAC;aAChB;SACJ;KACJ;IAEO,yDAA6B,GAArC;QAEI,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;YAC1B,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAE3E,IAAI,YAAY,EAAE;gBACd,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC;gBAC5D,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC;gBAE1D,IAAI,IAAI,CAAC,SAAS,IAAI,KAAK,EAAE;oBACzB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;iBACzG;gBAED,IAAI,IAAI,CAAC,SAAS,IAAI,QAAQ,EAAE;oBAC5B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,UAAU,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;iBAC9F;gBAED,IAAI,IAAI,CAAC,SAAS,IAAI,KAAK,IAAI,IAAI,CAAC,SAAS,IAAI,QAAQ,EAAE;oBACvD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,YAAY,CAAC,IAAI,GAAG,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,IAAI,CAAC;iBACzG;gBAED,IAAI,IAAI,CAAC,SAAS,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;iBACxG;gBAED,IAAI,IAAI,CAAC,SAAS,IAAI,OAAO,EAAE;oBAC3B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;iBAC/F;gBAED,IAAI,IAAI,CAAC,SAAS,IAAI,MAAM,IAAI,IAAI,CAAC,SAAS,IAAI,OAAO,EAAE;oBACvD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC;iBACrH;;gBAED,IAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC7D,IAAI,UAAU,GAAG,CAAC,EAAE;oBAClB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC;iBAC5C;aACJ;SACJ;aACP;YACC,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAC7B;KACE;IAED,uCAAW,GAAX;QACI,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAChC;;gBA3M+B,UAAU;;IASjC;QAAR,KAAK,EAAE;;8DAAyD;IACxD;QAAR,KAAK,EAAE;;qDAAwB;IACvB;QAAR,KAAK,EAAE;;4DAA2B;IAC1B;QAAR,KAAK,EAAE;;wDAAqC;IACpC;QAAR,KAAK,EAAE;;oDAAa;IACZ;QAAR,KAAK,EAAE;;uDAAwB;IACvB;QAAR,KAAK,EAAE;;2DAAsB;IACrB;QAAR,KAAK,EAAE;;6DAAwB;IAGhC;QADC,KAAK,EAAE;;;qDAUP;IAmDD;QADC,YAAY,CAAC,WAAW,CAAC;;;;wDAKzB;IAGD;QADC,YAAY,CAAC,YAAY,CAAC;;;;yDAM1B;IAGD;QADC,YAAY,CAAC,YAAY,CAAC;;;;yDAI1B;IAnGQ,iBAAiB;QAH7B,SAAS,CAAC;YACV,QAAQ,EAAE,YAAY;SACtB,CAAC;yCAGkC,UAAU;OAFjC,iBAAiB,CA8M7B;IAAD,wBAAC;CA9MD;;;ICWA;KAEC;IAFY,aAAa;QAbzB,QAAQ,CACP;YACE,OAAO,EAAE;gBACP,YAAY;aACb;YACD,YAAY,EAAE;gBACZ,iBAAiB;aAClB;YACD,OAAO,EAAE;gBACP,iBAAiB;aAClB;SACF,CACF;OACY,aAAa,CAEzB;IAAD,oBAAC;CAFD;;;ICIA;KACC;IADY,gBAAgB;QAhB5B,QAAQ,CAAC;YACN,OAAO,EAAE;gBACL,YAAY;gBACZ,aAAa;aAChB;YACD,YAAY,EAAE;gBACV,mBAAmB;gBACnB,mBAAmB;aACtB;YACD,OAAO,EAAE;gBACL,mBAAmB;gBACnB,mBAAmB;aACtB;YACD,SAAS,EAAE,EACV;SACJ,CAAC;OACW,gBAAgB,CAC5B;IAAD,uBAAC;CADD;;ACNC,CAAC;;IAkBE,gCAAY,OAAkC;QAC1C,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,IAAI,EAAE,CAAC;QAC7B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC;QAC7C,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,KAAK,SAAS,GAAG,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC;QAC7D,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,IAAI,EAAE,CAAC;QAC7C,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,IAAI,QAAQ,CAAC;QACjD,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;KACxC;IACL,6BAAC;AAAD,CAAC;;;ICxC0C,yCAA2B;IASlE,+BAAY,OAA2B;QAAvC,YAEI,kBAAM,OAAO,CAAC,SAEjB;QADG,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;;KACpC;IAXD,sBAAI,8CAAW;aAAf;YAEI,OAAO,OAAO,CAAC;SAClB;;;OAAA;IAUL,4BAAC;AAAD,CAfA,CAA2C,sBAAsB;;;ICA7D,4BAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;KAAK;IAGnD,wCAAW,GAAX,UAAY,eAA8C,EAAE,MAA4D;QAAxH,iBAuCC;QAvC2D,uBAAA,EAAA,WAA4D;QACpH,IAAI,MAAM,GAAQ,EAAE,CAAC;QAErB,IAAI,eAAe,EAAE;YACjB,eAAe,CAAC,OAAO,CAAC,UAAA,WAAW;gBAE/B,IAAI,CAAC,MAAM,CAAC,cAAc,IAAI,WAAW,CAAC,aAAa,EAAE;oBACrD,IAAM,WAAS,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;oBAExE,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE;;wBAE5B,IAAM,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;wBAErD,IAAI,UAAU,YAAY,KAAK,EAAE;4BAC7B,UAAU,CAAC,OAAO,CAAC,UAAA,SAAS;gCACxB,WAAS,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,EAAE;oCAC3C,cAAc,EAAE,IAAI;oCACpB,SAAS,EAAE,SAAS;iCACvB,CAAC,CAAC,CAAC;6BACP,CAAC,CAAC;yBACN;qBACJ;iBACJ;qBAAM;oBACH,IAAI,WAAW,YAAY,qBAAqB,EAAE;wBAC9C,IAAM,uBAAuB,GAAG,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;wBAC3D,IAAI,uBAAuB,EAAE;4BACzB,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAC,SAAS,EAAE,MAAM,CAAC,SAAS,EAAC,CAAC,CAAC;yBACnG;6BAAK;4BACF,MAAM,GAAG,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAC,SAAS,EAAE,MAAM,CAAC,SAAS,EAAC,CAAC,CAAC;yBAClF;qBACJ;yBAAM;wBACH,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,IAAI,WAAW,CAAC,WAAW,CAAC,YAAY,IAAI,IAAI,EAAE,EAAC,UAAU,EAAE,WAAW,CAAC,UAAU,EAAE,QAAQ,EAAE,WAAW,CAAC,UAAU,GAAG,WAAW,CAAC,UAAU,GAAG,QAAQ,EAAC,CAAE,CAAC;qBAC5L;iBACJ;aAEJ,CAAC,CAAC;SACN;QAED,OAAO,CAAC,MAAM,YAAY,SAAS,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACnF;;gBA1CkC,WAAW;;IADrC,kBAAkB;QAD9B,UAAU,EAAE;yCAE0B,WAAW;OADrC,kBAAkB,CA4C9B;IAAD,yBAAC;CA5CD;;;ICaI,yBAAoB,YAA0B,EAAU,mBAAwC;QAA5E,iBAAY,GAAZ,YAAY,CAAc;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;KAG/F;IAED,0CAAgB,GAAhB,UAAiB,OAAoC;QACnD,OAA8B,OAAO,CAAC;KACvC;IAED,qCAAW,GAAX,UAAY,OAAwB;QAClC,OAAkB,OAAO,CAAC;KAC3B;IAED,kCAAQ,GAAR;QACI,IAAI,CAAC,UAAU,GAAC,KAAK,CAAC;QAEtB,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAC3B;YACI,IAAM,iBAAiB,GAAE,UAAU,CAAC,IAAI,CAAE,UAAA,SAAS;gBACnD,OAAA,SAAS,IAAI,UAAU,CAAC,QAAQ;aAAA,CAAC,CAAC;YAElC,IAAI,iBAAiB,EACrB;gBACI,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC;aACxB;SACJ;KACJ;IAED,kCAAQ,GAAR,UAAS,cAA4C;QACjD,OAAO,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,cAAc,CAAC,EAAE,EAAE,cAAc,EAAG,IAAI,EAAC,CAAC,CAAC;KAC3F;IAED,iCAAO,GAAP,UAAQ,cAA4C;QAChD,IAAM,OAAO,GAAc,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAClE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;QAC5C,OAAO,CAAC,WAAW,EAAE,CAAC;KACzB;IAED,oCAAU,GAAV,UAAW,cAA4C,EAAE,CAAS;QAC9D,IAAM,OAAO,GAAc,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAClE,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACpB,OAAO,CAAC,WAAW,EAAE,CAAC;KACzB;;gBA3CkC,WAAW;gBAAgC,kBAAkB;;IARvF;QAAR,KAAK,EAAE;kCAAU,sBAAsB;oDAAM;IACrC;QAAR,KAAK,EAAE;kCAAQ,SAAS;iDAAC;IAI0B;QAAnD,eAAe,CAAC,WAAW,EAAE,EAAC,WAAW,EAAE,KAAK,EAAC,CAAC;kCAAoB,SAAS;uDAAmB;IAC1F;QAAR,KAAK,EAAE;kCAAgB,WAAW;0DAAM;IAPhC,eAAe;QAL3B,SAAS,CAAC;YACP,QAAQ,EAAE,qBAAqB;YAC/B,iwIAAiD;;SAEpD,CAAC;yCAUqC,WAAW,EAAgC,kBAAkB;OATvF,eAAe,CAqD3B;IAAD,sBAAC;CArDD;;ACXA;IAEE;KAAgB;IAKT,gCAAc,GAArB,UAAsB,YAAoB;QAApB,6BAAA,EAAA,oBAAoB;QACtC,IAAI,YAAY,EAAC;YACb,OAAO,IAAI,CAAC;SACf;QACD,iBAAiB,CAAC,wBAAwB,IAAI,CAAC,CAAC;QAChD,OAAO,iBAAiB,CAAC,wBAAwB,CAAC;KACrD;IAEM,oCAAkB,GAAzB;QACI,iBAAiB,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,iBAAiB,CAAC,WAAW,KAAK,CAAC,EAAC;YACpC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SACzC;KACJ;IAEM,oCAAkB,GAAzB;QACI,iBAAiB,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,iBAAiB,CAAC,WAAW,KAAK,CAAC,EAAC;YACpC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAC5C;QACD,IAAI,iBAAiB,CAAC,WAAW,GAAG,CAAC,EAAC;YAClC,iBAAiB,CAAC,WAAW,GAAG,CAAC,CAAC;SACrC;KACJ;IA1Bc,0CAAwB,GAAG,GAAG,CAAC;IAC/B,6BAAW,GAAG,CAAC,CAAC;IA0BjC,wBAAC;CA/BD;;ICqBa,iBAAiB,GAAG;IAC7B,MAAM,EAAE,MAAM;IACjB,aAAa,EAAE,aAAa;IACzB,OAAO,EAAE,OAAO;IACnB,UAAU,EAAE,UAAU;EACtB;AAYD,IAAM,aAAa,GAAG,EAAE,CAAC;;IA4FrB,8BAAmB,KAAiB,EAAU,QAAmB;QAAjE,iBAQC;QARkB,UAAK,GAAL,KAAK,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;QApF3D,gBAAW,GAAG,KAAK,CAAC;QAGjB,gBAAW,GAAoB,MAAM,CAAC;QACzC,gBAAW,GAAY,KAAK,CAAC;QAC7B,sBAAiB,GAAY,KAAK,CAAC;QACnC,UAAK,GAAY,KAAK,CAAC;QACvB,WAAM,GAAY,KAAK,CAAC;QACxB,eAAU,GAAY,KAAK,CAAC;QAC5B,aAAQ,GAAY,IAAI,CAAC;QACzB,mBAAc,GAAY,KAAK,CAAC;QAChC,wBAAmB,GAAY,IAAI,CAAC;QACpC,kBAAa,GAAY,KAAK,CAAC;QAC/B,sBAAiB,GAAY,IAAI,CAAC;QAClC,iBAAY,GAAQ,EAAC,GAAG,EAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAC,CAAC;QACpC,mBAAc,GAA2B,EAAE,CAAC;QAC5C,YAAO,GAAsB,OAAO,CAAC;QACrC,cAAS,GAAyD,EAAC,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAC,CAAA;QAC1F,kBAAa,GAAY,KAAK,CAAC;QAGX,WAAM,GAAG,KAAK,CAAC;QACf,WAAM,GAAG,KAAK,CAAC;QAG5B,gBAAW,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,cAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,eAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzC,oBAAe,GAAG,KAAK,CAAC;QA0CzB,WAAM,GAAG,IAAI,YAAY,EAAO,CAAC;QAC9B,YAAO,GAAG,IAAI,YAAY,EAAO,CAAC;QAOvC,6BAAwB,GAAkB,IAAI,CAAC;QAC/C,iBAAY,GAAiC,IAAI,eAAe,CAAc,EAAC,KAAK,EAAE,EAAE,EAAC,CAAC,CAAC;QAE5F,WAAM,GAA4B,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QAGtE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,iBAAiB,CAAC,KAAK,EAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM;aACR,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aAC3B,SAAS,CAAC,UAAC,EAAS;gBAAP,gBAAK;YACjB,KAAI,CAAC,MAAM,GAAG,KAAK,KAAK,iBAAiB,CAAC,KAAK,CAAC;YAChD,KAAI,CAAC,MAAM,GAAG,KAAK,KAAK,iBAAiB,CAAC,IAAI,CAAC;SAChD,CAAC,CAAC;KACN;IA7DK,sBAAI,2CAAS;aAsBtB,cAAuB,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;aAtBvC,UAAc,SAAc;YACpC,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;gBAC7B,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC/D;gBACD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;gBAC5B,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC5D;aACD;iBACI,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;gBAClC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;oBACjE,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;iBACjE;gBACD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;gBAC5B,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;oBAC9D,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC9D;aACD;SACD;;;OAAA;IAGQ,sBAAI,6CAAW;aAcxB,cAA0C,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE;aAd5D,UAAgB,WAAiC;YAA1D,iBAaC;YAZA,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;YAChC,IAAI,IAAI,CAAC,wBAAwB,EAAC;gBACjC,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,CAAC;gBAC5C,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;aACrC;YACD,IAAI,IAAI,CAAC,YAAY,EAAE;gBACtB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,KAAK;oBACvE,IAAI,KAAK,CAAC,KAAK,KAAK,iBAAiB,CAAC,KAAK,EAAE;wBAC5C,KAAI,CAAC,KAAK,EAAE,CAAC;qBACb;iBACD,CAAC,CAAC;aACH;SACD;;;OAAA;;IA2BE,mCAAI,GAAJ;QAAA,iBAgGC;QA/FH,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;;YAEtC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAK,IAAI,CAAC,WAAW,KAAK,MAAM,EAAC;gBACrD,IAAI,IAAI,CAAC,MAAM,EAAE;oBAChB,IAAI,CAAC,kBAAkB,GAAG,oBAAoB,CAAC;iBAC/C;qBAAK;oBACL,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC;iBACjC;aACK;iBACD;gBACC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAClD;YACP,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,WAAW,IAAI,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC;;YAE9E,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC;YACjG,IAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;;YAE/F,IAAI,CAAC,IAAI,CAAC,UAAU,EAAC;gBACpB,IAAI,IAAI,CAAC,UAAU,EAAC;oBACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAC9B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;iBAC/D;qBAAK;oBACL,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC;oBAC/F,IAAI,IAAI,CAAC,MAAM,EAAE;wBAChB,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACtB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC;wBAC5C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;wBACtB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;wBAC9B,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,KAAK,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC;wBAC/G,UAAU,CAAC;4BACV,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;yBACjD,EAAE,CAAC,CAAC,CAAC;qBACN;yBAAM;wBACF,IAAM,SAAS,IAAI,MAAM,CAAC,WAAW,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;wBACzD,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,GAAG,IAAI,CAAC;wBAC5D,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;qBAClD;iBACD;aACD;iBAAI;gBACJ,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBACtI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBACnI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;aACrD;YACE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;YAG7F,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;gBAClB,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE;oBAAC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAClF,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;wBAC9B,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,0BAA0B,CAAC;qBAC1D;yBAAI;wBACJ,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,uCAAuC,CAAC;qBACvE;oBACD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;oBAC5E,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,mBAAmB,EAAE;wBAC7C,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAC,KAAU;4BAC3D,KAAK,CAAC,eAAe,EAAE,CAAC;4BACxB,KAAI,CAAC,KAAK,EAAE,CAAC;yBACb,CAAC,CAAC;qBACH;oBACT,IAAI,IAAI,CAAC,QAAQ,EAAC;wBACf,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACpD;yBAAK;wBAAS,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBAAC;oBACxD,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;wBAC9B,iBAAiB,CAAC,kBAAkB,EAAE,CAAC;qBACtC;iBACD;aACJ;;YAGJ,IAAI,IAAI,CAAC,iBAAiB,EAAC;gBAC1B,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;gBACzC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;aACvC;YAEE,UAAU,CAAC;gBACV,KAAI,CAAC,sBAAsB,EAAE,CAAC;aAC9B,EAAC,CAAC,CAAC,CAAC;YAEL,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,iBAAiB,CAAC,IAAI,EAAC,CAAC,CAAC;YAExD,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,MAAM,EAAE;gBACrC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;aACpD;SAEV;QACE,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE;YACjE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;SAC3C;;QAEJ,UAAU,CAAC;YACV,KAAI,CAAC,WAAW,EAAE,CAAC;SACnB,EAAE,CAAC,CAAC,CAAC;KACH;IAED,oCAAK,GAAL,UAAM,OAAmB,EAAE,MAAqB;QAAhD,iBA6CC;QA7CK,wBAAA,EAAA,cAAmB;QAAE,uBAAA,EAAA,aAAqB;QAC5C,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM,EAAE;YACjC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACvD,IAAI,IAAI,CAAC,UAAU,EAAC;gBACnB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;aAClE;;YAED,IAAI,kBAAkB,GAAG,EAAC,YAAY,EAAE,IAAI,EAAC,CAAC;YAC9C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,iBAAiB,CAAC,WAAW,EAAE,OAAO,EAAE,kBAAkB,EAAC,CAAC,CAAC;YAC5F,IAAI,kBAAkB,CAAC,YAAY,CAAC,EAAE;;gBAErC,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,KAA2B;wBACvD,KAAK,CAAC,KAAK,EAAE,CAAC;qBACd,CAAC,CAAC;iBACH;gBACD,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACjC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBACpB,IAAI,OAAO,GAAG,CAAC,CAAC;gBAChB,IAAI,IAAI,CAAC,MAAM,EAAC;oBACf,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,KAAI,MAAM,GAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,GAAE,IAAI,GAAI,SAAS,CAAC;oBAC/G,OAAO,GAAG,GAAG,CAAC;iBACd;gBACD,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,iBAAiB,CAAC,kBAAkB,EAAE,CAAC;iBACvC;gBACD,UAAU,CAAC;;oBAEV,IAAI,KAAI,CAAC,aAAa,EAAE;wBACvB,IAAI,KAAI,CAAC,QAAQ,EAAC;4BACjB,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,aAAa,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;yBACpD;6BAAK;4BACL,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;yBAC9C;wBACD,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;qBAC1B;oBACD,IAAI,KAAI,CAAC,MAAM,EAAE;wBAChB,iBAAiB,CAAC,kBAAkB,EAAE,CAAC;qBACvC;oBACD,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,iBAAiB,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;iBAC3F,EAAC,OAAO,CAAC,CAAC;aACX;SACD;KAEJ;IAED,qCAAM,GAAN;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;SAC5C;KACJ;IAED,sBAAI,wCAAM;aAAV;YACC,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,KAAK,KAAK,iBAAiB,CAAC,KAAK,CAAC;SACtE;;;OAAA;IAED,sBAAI,2CAAS;aAAb;YACC,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,KAAK,KAAK,iBAAiB,CAAC,QAAQ,CAAC;SACzE;;;OAAA;IAMJ,6CAAc,GAAd;QACC,IAAI,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,KAAK,EAAE,CAAC;SACb;aAAI;YACJ,IAAI,CAAC,WAAW,EAAE,CAAC;SACnB;KACD;IAGA,yCAAU,GAAV,UAAW,KAAK;QACd,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;KACF;;IAGC,8CAAe,GAAf;QACF,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAEtB,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;YAC1B,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC;gBAChC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aACpD;iBAAK;gBACL,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;gBACpD,IAAI,IAAI,CAAC,QAAQ,EAAC;oBACjB,OAAO,CAAC,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC,QAAQ,GAAG,oCAAoC,CAAC,CAAC;iBACxG;aACP;YACK,IAAI,IAAI,CAAC,UAAU,EAAC;gBACnB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC7C,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;aAC9C;SACD;KACJ;IAED,0CAAW,GAAX;QAEC,IAAI,IAAI,CAAC,UAAU,EACnB;YACH,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/D,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACjE,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SAC7D;QAEE,IAAI,IAAI,CAAC,wBAAwB,EAAC;YAC9B,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,CAAC;SAC/C;QACJ,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QAC1B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,aAAa,EAAE;YACrC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC9C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC1B;QACD,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC;YAChC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC1D;aAAK;YACL,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;aACzD;SACC;QAEA,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KACvD;;IAIO,qDAAsB,GAA9B;QACI,IAAI,IAAI,CAAC,mBAAmB,EAAC;YACzB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YACtF,IAAI,IAAI,CAAC,SAAS,EAAE;gBACnB,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;aACzE;SACD;KACJ;IAEO,oDAAqB,GAA7B,UAA8B,KAAU;QACvC,KAAK,CAAC,eAAe,EAAE,CAAC;KACxB;IAEO,wDAAyB,GAAjC;QACI,IAAI,IAAI,CAAC,mBAAmB,EAAC;YACzB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YACzF,IAAI,IAAI,CAAC,SAAS,EAAE;gBACnB,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;aAC5E;SACD;KACJ;IAEO,gDAAiB,GAAzB,UAA0B,qBAA4B;QAA5B,sCAAA,EAAA,4BAA4B;QACrD,IAAI,IAAI,CAAC,iBAAiB,EAAC;YAC1B,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;YACvC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;YAClC,IAAI,qBAAqB,EAAE;gBAC1B,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;aAC7C;SACD;KACD;IAEO,uCAAQ,GAAhB;QACI,IAAI,KAAK,GAAY,OAAO,IAAI,CAAC,UAAU,KAAK,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC;QAC/E,IAAI,CAAC,KAAK,EAAC;YACV,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,iBAAiB,CAAC,QAAQ,EAAC,CAAC,CAAC;YAC5D,MAAM,gFAAgF,CAAC;SACvF;QACD,OAAO,KAAK,CAAC;KAChB;IAEI,0CAAW,GAAnB,UAAoB,OAAY,EAAE,MAAW;QAC5C,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAC3B,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAC5B;aAAK;YACL,MAAM,gBAAgB,GAAG,MAAM,GAAG,MAAM,GAAG,OAAO,CAAC;SACnD;KACD;IAEO,0CAAW,GAAnB,UAAoB,OAAY,EAAE,MAAW;QAC5C,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAC3B,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAC5B;aAAK;YACL,MAAM,gBAAgB,GAAG,MAAM,GAAG,QAAQ,GAAG,OAAO,CAAC;SACrD;KACD;IAEO,wCAAS,GAAjB,UAAkB,GAAQ;QACzB,QAAQ,OAAO,WAAW,KAAK,QAAQ,GAAG,GAAG,YAAY,WAAW;YACnE,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,CAAC,QAAQ,KAAK,CAAC,IAAI,OAAO,GAAG,CAAC,QAAQ,KAAK,QAAQ,EACvG;KACF;IAEO,0CAAW,GAAnB;QACG,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC;QAC5D,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC;QAEtD,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;YAC7B,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC;YAE/F,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,IAAM,cAAc,IAClB,MAAM,CAAC,WAAW,GAAG,CAAC;oBACtB,WAAW,GAAG,CAAC,CAChB,CAAC;gBACF,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;gBAC7E,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;aAC5C;YACJ,OAAO;SACP;QACD,IAAI,CAAC,IAAI,CAAC,UAAU;YAAE,OAAO;QAE7B,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAClE,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC;QAC7D,IAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;QAC/F,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC;QAEjG,IAAI,cAAsB,CAAC;QAC3B,IAAI,eAAuB,CAAC;QAE5B,IAAI,gBAAgB,GAAwB,EAAE,CAAA;QAC9C,IAAI,eAAe,GAAwB,EAAE,CAAA;QAE7C,eAAe,CAAC,GAAG,IAClB,YAAY,CAAC,GAAG;cACd,SAAS;cACT,WAAW;cACX,IAAI,CAAC,SAAS,CAAC,YAAY;cAC3B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CACxB,CAAC;QAEF,eAAe,CAAC,MAAM,IACrB,YAAY,CAAC,GAAG;cACd,SAAS;cACT,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CACxB,CAAC;QAEF,eAAe,CAAC,MAAM,IACrB,YAAY,CAAC,GAAG;cACd,SAAS;cACT,WAAW,GAAG,CAAC;cACf,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,CAAC;cAC/B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CACxB,CAAC;QAEF,gBAAgB,CAAC,IAAI,IACpB,YAAY,CAAC,IAAI;cACf,UAAU;cACV,UAAU;cACV,IAAI,CAAC,SAAS,CAAC,WAAW;cAC1B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CACxB,CAAC;QAEF,gBAAgB,CAAC,KAAK,IACrB,YAAY,CAAC,IAAI;cACf,UAAU;cACV,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CACxB,CAAC;QAEF,gBAAgB,CAAC,MAAM,IACtB,YAAY,CAAC,IAAI;cACf,UAAU;cACV,UAAU,GAAG,CAAC;cACd,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CACxB,CAAC;QAEF,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,eAAe,CAAC,MAAM,CAAC;QAC/F,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,gBAAgB,CAAC,KAAK,CAAC;QAEjG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;QAC7E,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;QAE/E,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;KACzD;;IAGO,+CAAgB,GAAxB,UAAyB,gBAAqC,EAAE,eAAoC;QAEnG,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC;QAC1D,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC;QACxD,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAClE,IAAM,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC;QACxC,IAAM,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;QAEtC,IAAI,cAAsB,CAAC;QAC3B,IAAI,eAAuB,CAAC;QAE5B,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,KAAK,EAAE;YAC/B,IAAI,QAAQ,CAAC,GAAG,GAAG,aAAa,EAAE;gBACjC,cAAc,GAAG,eAAe,CAAC,MAAM,CAAC;aACxC;SACD;aACI,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,QAAQ,EAAE;YACvC,IAAI,QAAQ,CAAC,GAAG,GAAG,WAAW,GAAG,YAAY,GAAG,aAAa,IAAI,QAAQ,CAAC,GAAG,GAAG,YAAY,EAAE;gBAC7F,cAAc,GAAG,eAAe,CAAC,GAAG,CAAC;aACrC;iBAAK;gBACD,cAAc,GAAG,eAAe,CAAC,MAAM,CAAC;aACzC;SACJ;aACI,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,QAAQ,EAAE;YACvC,IAAI,QAAQ,CAAC,GAAG,GAAG,aAAa,EAAE;gBACjC,cAAc,GAAG,eAAe,CAAC,MAAM,CAAC;aACxC;iBACI,IAAI,QAAQ,CAAC,GAAG,GAAG,WAAW,GAAG,YAAY,GAAG,aAAa,EAAE;gBACnE,cAAc,GAAG,eAAe,CAAC,GAAG,CAAC;aACrC;SACD;QAED,IAAI,QAAQ,CAAC,IAAI,GAAG,UAAU,GAAG,WAAW,GAAG,aAAa,EAAE;YAC7D,eAAe,GAAG,gBAAgB,CAAC,IAAI,CAAC;SACxC;aACI,IAAI,QAAQ,CAAC,IAAI,GAAG,aAAa,EAAE;YACvC,eAAe,GAAG,gBAAgB,CAAC,KAAK,CAAC;SACzC;QAED,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;QAC7E,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;QAC/E,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;KAC3C;;gBA7a4B,UAAU;gBAAoB,SAAS;;IApF3D;QAAR,KAAK,EAAE;;6DAAqB;IACpB;QAAR,KAAK,EAAE;;0DAAe;IACd;QAAR,KAAK,EAAE;;4DAAoB;IAChB;QAAR,KAAK,EAAE;;6DAAuC;IACzC;QAAR,KAAK,EAAE;;6DAA8B;IAC7B;QAAR,KAAK,EAAE;;mEAAoC;IACnC;QAAR,KAAK,EAAE;;uDAAwB;IACvB;QAAR,KAAK,EAAE;;wDAAyB;IACxB;QAAR,KAAK,EAAE;;4DAA6B;IAC5B;QAAR,KAAK,EAAE;;0DAA0B;IACzB;QAAR,KAAK,EAAE;;gEAAiC;IAChC;QAAR,KAAK,EAAE;;qEAAqC;IACpC;QAAR,KAAK,EAAE;;+DAAgC;IAC/B;QAAR,KAAK,EAAE;;mEAAmC;IAClC;QAAR,KAAK,EAAE;;8DAAqC;IACpC;QAAR,KAAK,EAAE;;gEAA6C;IAC5C;QAAR,KAAK,EAAE;;yDAAsC;IACrC;QAAR,KAAK,EAAE;;2DAA4F;IAC1F;QAAR,KAAK,EAAE;;+DAAgC;IAEK;QAA5C,YAAY,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kCAAmB,WAAW;2DAAM;IACnD;QAA5B,WAAW,CAAC,cAAc,CAAC;;wDAAgB;IACf;QAA5B,WAAW,CAAC,cAAc,CAAC;;wDAAgB;IASpC;QAAR,KAAK,EAAE;;;yDAqBP;IAGQ;QAAR,KAAK,EAAE;kCAA8B,oBAAoB;yCAApB,oBAAoB;2DAazD;IAGS;QAAT,MAAM,EAAE;;wDAAkC;IAC9B;QAAT,MAAM,EAAE;;yDAAmC;IA0L/C;QADC,YAAY,CAAC,eAAe,EAAE,EAAE,CAAC;;;;8DAOjC;IAGA;QADC,YAAY,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;0DAK3C;IAhRU,oBAAoB;QALhC,SAAS,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,6vBAA4C;;SAE/C,CAAC;yCAsF4B,UAAU,EAAoB,SAAS;OArFxD,oBAAoB,CAogBhC;IAAD,2BAAC;CApgBD;;;IC5BA;KAAiC;IAApB,iBAAiB;QAb7B,QAAQ,CAAC;YACN,OAAO,EAAE;gBACL,YAAY;aACf;YACD,YAAY,EAAE;gBACV,oBAAoB;aACvB;YACD,OAAO,EAAE;gBACL,oBAAoB;aACvB;YACD,SAAS,EAAE,EACV;SACJ,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAjC;;;ICDI;QANS,YAAO,GAAsB,OAAO,CAAC;QACrC,gBAAW,GAAG,gBAAgB,CAAC;QAC/B,SAAI,GAAW,WAAW,CAAC;QAC3B,UAAK,GAAW,GAAG,CAAC;QACpB,cAAS,GAAyD,EAAC,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,EAAC,CAAC;KAElF;IAEhB,uCAAQ,GAAR,eAAa;IATJ;QAAR,KAAK,EAAE;;uDAAe;IACd;QAAR,KAAK,EAAE;;yDAAsC;IACrC;QAAR,KAAK,EAAE;;6DAAgC;IAC/B;QAAR,KAAK,EAAE;;sDAA4B;IAC3B;QAAR,KAAK,EAAE;;uDAAqB;IACpB;QAAR,KAAK,EAAE;;2DAA0F;IANzF,oBAAoB;QALhC,SAAS,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,+jCAA4C;;SAE/C,CAAC;;OACW,oBAAoB,CAWhC;IAAD,2BAAC;CAXD;;;ICWA;KAAiC;IAApB,iBAAiB;QAd7B,QAAQ,CAAC;YACN,OAAO,EAAE;gBACL,YAAY;gBACZ,iBAAiB;aACpB;YACD,YAAY,EAAE;gBACb,oBAAoB;aACpB;YACD,OAAO,EAAE;gBACR,oBAAoB;aACpB;YACD,SAAS,EAAE,EACV;SACJ,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAjC;;;ICQA;KAGC;IAHY,iBAAiB;QAnB7B,QAAQ,CACL;YACI,OAAO,EAAG;gBACN,mBAAmB;gBACnB,YAAY;gBACZ,aAAa;gBACb,iBAAiB;aACpB;YACD,YAAY,EAAG;gBACX,eAAe;aAClB;YACD,OAAO,EAAG;gBACN,eAAe;aAClB;YACD,SAAS,EAAG;gBACR,kBAAkB;aACrB;SACJ,CACJ;OACY,iBAAiB,CAG7B;IAAD,wBAAC;CAHD;;;ICpBiC,+BAA8B;IAQ3D,qBAAY,OAAwB;QAApC,YACI,kBAAM,OAAO,CAAC,SAEjB;QADG,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;KAChC;IAVD,sBAAI,oCAAW;aAAf;YAEI,OAAO,MAAM,CAAC;SACjB;;;OAAA;IAQL,kBAAC;AAAD,CAZA,CAAiC,sBAAsB;;;ICAhB,qCAA4B;IAQ/D,2BAAY,OAA8B;QAA1C,YACI,kBAAM,OAAO,CAAC,SAEjB;QALD,cAAQ,GAAa,KAAK,CAAC;QAIvB,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;;KACpC;IAVD,sBAAI,0CAAW;aAAf;YAEI,OAAO,YAAY,CAAC;SACvB;;;OAAA;IAQL,wBAAC;AAAD,CAZA,CAAuC,sBAAsB;;;ICAxB,mCAA8B;IAO/D,yBAAY,OAA4B;eACpC,kBAAM,OAAO,CAAC;KACjB;IARD,sBAAI,wCAAW;aAAf;YAEI,OAAO,UAAU,CAAC;SACrB;;;OAAA;IAML,sBAAC;AAAD,CAVA,CAAqC,sBAAsB;;;ICLvB,kCAA8B;IAM9D,wBAAY,OAAuC;eAC/C,kBAAM,OAAO,CAAC;KACjB;IAPD,sBAAI,uCAAW;aAAf;YAEI,OAAO,SAAS,CAAC;SACpB;;;OAAA;IAKL,qBAAC;AAAD,CATA,CAAoC,sBAAsB;;;ICKd,0CAA8B;IAQtE,gCAAY,OAAwB;QAApC,YACI,kBAAM,OAAO,CAAC,SAEjB;QADG,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;KAChC;IAVD,sBAAI,+CAAW;aAAf;YAEI,OAAO,UAAU,CAAC;SACrB;;;OAAA;IAQL,6BAAC;AAAD,CAZA,CAA4C,sBAAsB;;;ICL/B,iCAA8B;IAM7D,uBAAY,OAAuC;eAC/C,kBAAM,OAAO,CAAC;KACjB;IAPD,sBAAI,sCAAW;aAAf;YAEI,OAAO,QAAQ,CAAC;SACnB;;;OAAA;IAKL,oBAAC;AAAD,CATA,CAAmC,sBAAsB;;;ICAtB,iCAA8B;IAM7D,uBAAY,OAAuC;eAC/C,kBAAM,OAAO,CAAC;KACjB;IAPD,sBAAI,sCAAW;aAAf;YAEI,OAAO,QAAQ,CAAC;SACnB;;;OAAA;IAKL,oBAAC;AAAD,CATA,CAAmC,sBAAsB;;;ICuCxD;QA/BA,UAAK,GAAY,GAAG,CAAC;QAGrB,WAAM,GAAY,GAAG,CAAC;QAYtB,WAAM,GAAY,2BAA2B,CAAC;QAG9C,cAAS,GAAS,EAAE,CAAC;QAGrB,SAAI,GAAY,KAAK,CAAC;QAGtB,OAAE,GAAY,EAAE,CAAC;QAGjB,uBAAkB,GAAG,IAAI,YAAY,EAAO,CAAC;KAI7B;IAEhB,gDAAe,GAAf;QACC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAC;YACd,IAAI,CAAC,KAAK,EAAE,CAAC;SACb;KACD;IAEM,sCAAK,GAAZ;QAAA,iBAyBC;;QAvBA,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAC;YAChD,OAAO,CAAC,IAAI,CAAC,+EAA+E,CAAC,CAAC;SAC9F;aAAK;;YAEL,IAAI,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,KAAK,IAAI,EAAE;gBACzD,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBACzC,CAAC,CAAC,GAAG,GAAM,IAAI,CAAC,MAAM,WAAM,IAAI,CAAC,GAAG,YAAO,IAAI,CAAC,GAAG,mCAA8B,IAAI,CAAC,QAAQ,oBAAe,IAAI,CAAC,GAAK,CAAC;gBACxH,CAAC,CAAC,EAAE,GAAG,kBAAkB,CAAC;gBAC1B,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;gBAChB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aAC7B;;YAED,IAAI,CAAC,IAAI,CAAC,GAAG,EAAC;gBACb,IAAM,YAAU,GAAG,WAAW,CAAC;oBAC9B,IAAI,OAAO,MAAM,CAAC,SAAS,CAAC,KAAK,WAAW,EAAC;wBAC5C,aAAa,CAAC,YAAU,CAAC,CAAC;wBAC1B,KAAI,CAAC,OAAO,EAAE,CAAC;qBACf;iBACD,EAAC,EAAE,CAAC,CAAC;aACN;iBAAI;gBACJ,IAAI,CAAC,OAAO,EAAE,CAAC;aACf;SACD;KACD;IAEO,wCAAO,GAAf;QAAA,iBAaC;QAZA,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;YACvB,UAAU,EAAE,iBAAiB,GAAG,IAAI,CAAC,EAAE;YACvC,KAAK,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG;YACrB,WAAW,EAAE,IAAI,CAAC,QAAQ;YAC1B,WAAW,EAAE,IAAI,CAAC,SAAS;YAC3B,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE;YACzB,UAAU,EAAE,IAAI,CAAC,OAAO;YACxB,eAAe,EAAE,UAAC,QAAQ;gBACzB,KAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAC7C,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;aACvC;SACD,CAAC,CAAC;KACH;IAED,4CAAW,GAAX;QACC,IAAI,IAAI,CAAC,GAAG,EAAC;YACZ,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACpC;KACD;IArFD;QADC,KAAK,EAAE;;yDACa;IAGrB;QADC,KAAK,EAAE;;0DACc;IAGtB;QADC,KAAK,EAAE;;uDACK;IAGb;QADC,KAAK,EAAE;;4DACU;IAGlB;QADC,KAAK,EAAE;;2DACS;IAGjB;QADC,KAAK,EAAE;;0DACsC;IAG9C;QADC,KAAK,EAAE;;6DACa;IAGrB;QADC,KAAK,EAAE;;wDACc;IAGtB;QADC,KAAK,EAAE;;sDACS;IAGjB;QADC,MAAM,EAAE;;sEACoC;IA9BjC,sBAAsB;QALlC,SAAS,CAAC;YACP,QAAQ,EAAE,UAAU;YACpB,kIAAsC;;SAEzC,CAAC;;OACW,sBAAsB,CA0FlC;IAAD,6BAAC;CA1FD;;;ICYC;QAXQ,mBAAc,GAAG,IAAI,OAAO,EAAM,CAAC;QACpC,kBAAa,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAClD,mBAAc,GAAG,IAAI,OAAO,EAAM,CAAC;QACpC,kBAAa,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAClD,mBAAc,GAAG,IAAI,eAAe,CAAK,EAAE,CAAC,CAAC;QAC9C,mBAAc,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAEnD,mBAAc,GAAQ,EAAE,CAAC;QACzB,qBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,qBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAI5D,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACzD,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KACzD;IAED,yCAAW,GAAX;QACC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC5D,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAC5D;IAED,+CAAiB,GAAjB;QACC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KAC7B;IAED,+CAAiB,GAAjB;QACC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KAC7B;IAED,oCAAM,GAAN,UAAO,EAAU;QAChB,IAAI,CAAC,EAAE,EAAC;YACP,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;SACzD;aAAK,IAAI,OAAO,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,KAAK,WAAW,EAAE;YACzD,MAAM,IAAI,KAAK,CAAC,sCAAsC,GAAC,EAAE,GAAC,GAAG,CAAC,CAAC;SAC/D;aAAI;YACJ,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;SAC/B;KACD;IAED,oCAAM,GAAN,UAAO,EAAU;QAChB,IAAI,CAAC,EAAE,EAAC;YACP,OAAO,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;SACtD;aAAK;YACL,OAAO,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;SAC/B;KACD;IAED,oCAAM,GAAN,UAAO,EAAU,EAAE,MAAc,EAAE,MAAc;QAChD,IAAI,CAAC,EAAE,EAAC;YACP,OAAO,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;SAC5C;aAAK;YACL,IAAM,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YAC7C,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;gBACxC,IAAI,YAAY,KAAK,IAAI,IAAI,YAAY,CAAC,MAAM,KAAK,MAAM,IAAI,YAAY,CAAC,MAAM,KAAK,MAAM,EAAE;oBAC9F,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,GAAG,EAAC,MAAM,QAAA,EAAE,MAAM,QAAA,EAAC,CAAC;oBAC3C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBAC9C;aACD;iBAAM;gBACN,MAAM,IAAI,KAAK,CAAC,6BAA2B,EAAE,2CAAwC,CAAC,CAAC;aACvF;SACD;KACD;IAhEW,mBAAmB;QAD/B,UAAU,EAAE;;OACA,mBAAmB,CAiE/B;IAAD,0BAAC;CAjED;;;ICyBI,yBAAoB,UAAsB,EAAU,QAAmB,EAAU,oBAAyC;QAAtG,eAAU,GAAV,UAAU,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAAU,yBAAoB,GAApB,oBAAoB,CAAqB;QAtBlH,eAAU,GAAW,CAAC,CAAC;QACxB,aAAQ,GAAY,KAAK,CAAC;QAEzB,eAAU,GAAG,KAAK,CAAC;QAEjB,kBAAa,GAAG,IAAI,YAAY,EAAO,CAAC;QACxC,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAG3C,iBAAY,GAAW,CAAC,CAAC;QAEzB,aAAQ,GAAW,EAAE,CAAC;QACtB,aAAQ,GAAW,EAAE,CAAC;QACtB,oBAAe,GAAW,EAAE,CAAC;QAE9B,eAAU,GAAW,IAAI,CAAC;QAC1B,kBAAa,GAAW,IAAI,CAAC;QAC7B,eAAU,GAAW,IAAI,CAAC;QAC1B,kBAAa,GAAW,IAAI,CAAC;KAMpC;IAES,2CAAiB,GAA3B,UAA4B,UAAsB;QAC9C,OAAO,UAAU,CAAC,aAAa,CAAC;KACnC;IAED,yCAAe,GAAf;;QAEI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9D,IAAI,CAAC,MAAM,EAAE,CAAC;KACjB;IAED,kCAAQ,GAAR;QAAA,iBAiCC;;QA/BG,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACnD;QAED,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CACzE,UAAA,KAAK;;YAED,KAAI,CAAC,OAAO,EAAE,CAAC;SAClB,CACJ,CAAC;QAEF,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CACrE,UAAA,KAAK;YACD,KAAI,CAAC,QAAQ,EAAE,CAAC;SACnB,CACJ,CAAC;QAEN,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAC1E,UAAA,QAAQ;YACJ,IAAM,IAAI,GAAG,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAC,CAAC;YAC9E,IAAI,IAAI,KACA,KAAI,CAAC,UAAU,KAAK,IAAI,CAAC,MAAM;gBAC/B,KAAI,CAAC,aAAa,KAAK,IAAI,CAAC,MAAM,CACrC,EACJ;gBACG,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC9B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;gBACjC,KAAI,CAAC,MAAM,EAAE,CAAC;aACjB;SACJ,CACJ,CAAC;KACL;IAED,qCAAW,GAAX;;QAEI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACnD;IAEM,gCAAM,GAAb;QAAA,iBAuBC;QAtBG,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI;eACrB,IAAI,CAAC,aAAa,IAAI,IAAI,EACjC;;YAEI,IAAM,YAAY,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;YAC5D,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU;gBACnC,IAAI,CAAC,aAAa,KAAK,YAAY,EACvC;;gBAEI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAClC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;gBAClC,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;YAED,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE;;gBAEtC,IAAM,eAAa,GAAG,IAAI,CAAC,cAAc,CAAC,qBAAqB,EAAE,CAAC,QAAQ,CAAC,CAAC;gBAC5E,UAAU,CAAC;oBACT,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,EAAE,eAAa,GAAG,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;iBACtG,EAAE,CAAC,CAAC,CAAC;aACT;SACJ;KACJ;IAEO,iCAAO,GAAf;QAEI,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,EAAE;;YAGzC,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI;mBACrB,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;gBAC/B,IAAM,QAAM,GAAG,MAAM,CAAC,WAAW,CAAC;gBAClC,IAAI,QAAM,GAAG,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;;oBAErH,IAAI,CAAC,SAAS,EAAE,CAAC;iBACpB;qBAAM,IAAI,QAAM,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,IAAI,QAAM,IAAI,IAAI,CAAC,aAAa,EAAE;;oBAElF,IAAI,CAAC,WAAW,EAAE,CAAC;iBACtB;qBACD;oBACI,IAAI,IAAI,CAAC,QAAQ,IAAI,QAAM,KAAK,IAAI,CAAC,UAAU,EAAE;wBAC7C,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;;qBAEhD;iBACJ;gBACD,IAAI,CAAC,UAAU,GAAG,QAAM,CAAC;aAC5B;SACJ;KACJ;IAGO,mCAAS,GAAjB;QACI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;YAErB,IAAI,CAAC,WAAW,GAAG;gBACf,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,QAAQ;gBAC5C,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS;gBAClC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS;gBAC9C,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU;aACvC,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;YAC7C,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;aAC/E;YACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACpB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;KACJ;IAES,mCAAS,GAAnB;QAAA,iBAEC;QADG,UAAU,CAAC,cAAM,KAAI,CAAC,MAAM,EAAE,CAAA,EAAC,EAAC,CAAC,CAAC,CAAC;KACtC;IAEO,qCAAW,GAAnB;QACI,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACrD,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YACvD,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;YAClD,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;aACvD;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACrB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;KACJ;IAES,wCAAc,GAAxB;QAAA,iBAEC;QADG,UAAU,CAAC,cAAM,KAAI,CAAC,MAAM,EAAE,CAAA,EAAC,EAAC,CAAC,CAAC,CAAC;KACtC;IAES,kCAAQ,GAAlB,eAA2B;IAAA,CAAC;IAEpB,kCAAQ,GAAhB,UAAiB,GAAW,EAAE,KAAa;QACvC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;KAC3D;IAEO,kCAAQ,GAAhB,UAAiB,GAAY;QAC3B,IAAI,GAAG,EAAE;YACP,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAC/D;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SAClE;KACF;;gBAnK+B,UAAU;gBAAoB,SAAS;gBAAgC,mBAAmB;;IAjBhH;QAAT,MAAM,EAAE;;0DAAyC;IACxC;QAAT,MAAM,EAAE;;4DAA2C;IAE3C;QAAR,KAAK,EAAE;;wDAAqB;IACpB;QAAR,KAAK,EAAE;;yDAA0B;IACzB;QAAR,KAAK,EAAE;;qDAAe;IACd;QAAR,KAAK,EAAE;;qDAAuB;IACtB;QAAR,KAAK,EAAE;;qDAAuB;IACtB;QAAR,KAAK,EAAE;;4DAA8B;IAd7B,eAAe;QAJ3B,SAAS,CAAC;YACP,QAAQ,EAAE,WAAW;SACxB,CAAC;yCAyBkC,UAAU,EAAoB,SAAS,EAAgC,mBAAmB;OAvBjH,eAAe,CA4L3B;IAAD,sBAAC;CA5LD;;;ICkBC,yBAAoB,oBAAyC,EAAU,SAAoB;QAAvE,yBAAoB,GAApB,oBAAoB,CAAqB;QAAU,cAAS,GAAT,SAAS,CAAW;QAdpF,kBAAa,GAAU,CAAC,CAAC;QAEvB,iBAAY,GAAG,CAAC,CAAC;KAYqE;IAE/F,yCAAe,GAAf;QAAA,iBASC;QARA,UAAU,CAAC;YACV,KAAI,CAAC,aAAa,EAAE,CAAC;SACrB,EAAC,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAC5E,UAAA,KAAK;YACJ,KAAI,CAAC,iBAAiB,EAAE,CAAC;SACzB,CACD,CAAC;KACF;IAEO,uCAAa,GAArB;QACC,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;SACzE;aAAM;YACN,OAAO,CAAC,IAAI,CAAC,6CAA6C,CAAC,CAAC;SAC5D;KACD;IAEM,sCAAY,GAAnB,UAAoB,MAAsB;QAA1C,iBAKC;QALmB,uBAAA,EAAA,aAAsB;QACzC,UAAU,CAAC;YACV,KAAI,CAAC,aAAa,EAAE,CAAC;YACrB,KAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;SACtB,EAAC,CAAC,CAAC,CAAC;KACL;IAEM,2CAAiB,GAAxB;QACG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,OAAO,EAAK,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,WAAW,OAAI,CAAC,CAAC;KAChH;IAED,qCAAW,GAAX;KAEC;;gBAlCyC,mBAAmB;gBAAqB,SAAS;;IAZlF;QAAR,KAAK,EAAE;;yDAAkB;IACJ;QAArB,KAAK,CAAC,aAAa,CAAC;;wDAAqB;IAEtB;QAAnB,KAAK,CAAC,WAAW,CAAC;;sDAAgB;IAE1B;QAAR,KAAK,EAAE;;qDAAkB;IACjB;QAAR,KAAK,EAAE;;qDAAkB;IAEqB;QAA9C,SAAS,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kCAAU,UAAU;oDAAC;IACzB;QAAzC,SAAS,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kCAAY,UAAU;sDAAC;IAClB;QAA7C,SAAS,CAAC,eAAe,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;kCAAU,eAAe;oDAAC;IAd3D,eAAe;QAL3B,SAAS,CAAC;YACV,QAAQ,EAAE,SAAS;YACnB,2YAAsC;;SAEtC,CAAC;yCAiByC,mBAAmB,EAAqB,SAAS;OAhB/E,eAAe,CAoD3B;IAAD,sBAAC;CApDD;;;ICWA;KAUC;qBAVY,YAAY;IACd,oBAAO,GAAd;QACI,OAAO;YACH,QAAQ,EAAE,cAAY;YACtB,SAAS,EAAS;gBACd,mBAAmB;aACtB;SACJ,CAAC;KACL;;IARQ,YAAY;QAfxB,QAAQ,CAAC;YACN,OAAO,EAAE;gBACL,mBAAmB;aACtB;YACD,YAAY,EAAE;gBACV,eAAe;gBACf,eAAe;aAClB;YACD,OAAO,EAAE;gBACL,eAAe;gBACf,eAAe;aAClB;YACD,SAAS,EAAE,EACV;SACJ,CAAC;OACW,YAAY,CAUxB;IAAD,mBAAC;CAVD;;;ICFI;QANM,eAAU,GAAY,IAAI,CAAC;QAIvB,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;KAG7C;IAEJ,gCAAS,GAAT,UAAU,GAAQ;QACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACtB;IAfK;QAAR,KAAK,EAAE;;+CAAe;IACd;QAAR,KAAK,EAAE;;iDAAiB;IAChB;QAAR,KAAK,EAAE;;8CAAW;IACV;QAAR,KAAK,EAAE;;kDAAe;IACd;QAAR,KAAK,EAAE;;oDAA4B;IAC3B;QAAR,KAAK,EAAE;kCAAW,WAAW;kDAAM;IAGvB;QAAT,MAAM,EAAE;;mDAAqC;IAVrC,YAAY;QALxB,SAAS,CAAC;YACP,QAAQ,EAAE,MAAM;YAChB,2lBAAmC;;SAEtC,CAAC;;OACW,YAAY,CAmBxB;IAAD,mBAAC;CAnBD;;ACYA,IAAM,CAAC,GAAG,GAAG,CAAC;;IAoCV;QA1BO,aAAQ,GAAY,KAAK,CAAC;QAI3B,kBAAa,GAAY,IAAI,CAAC;QAC9B,cAAS,GAAY,IAAI,CAAC;QAE1B,kBAAa,GAAW,WAAW,CAAC;QAIhC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACtC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACzC,iBAAY,GAAG,IAAI,YAAY,EAAuB,CAAC;QAQ1D,cAAS,GAAY,KAAK,CAAC;QAE3B,uBAAkB,GAAY,KAAK,CAAC;QACpC,wBAAmB,GAAY,IAAI,CAAC;KAGvC;IAGJ,sCAAc,GAAd;QACC,IAAI,CAAC,aAAa,EAAE,CAAC;KACrB;IAEA,mCAAW,GAAX,UAAY,OAAsB;QAAlC,iBAQC;QAPG,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;YACnB,IAAI,IAAI,CAAC,aAAa,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAChD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,MAAM,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,GAAA,CAAC,CAAC;aACrG;YAED,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;KACJ;IAEF,uCAAe,GAAf;QAAA,iBAMC;QALA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,KAAsB;YAE9E,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,SAAS,GAAG,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;YACzE,KAAI,CAAC,aAAa,EAAE,CAAC;SACrB,CAAC,CAAC;KACH;IAED,mCAAW,GAAX;QACC,IAAI,IAAI,CAAC,gBAAgB,EAAC;YACzB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;YACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAC7B;KACD;IAEE,iCAAS,GAAT,UAAU,GAAQ;QACjB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC3B;IAED,gCAAQ,GAAR;QACC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;KACxB;IAEJ,qCAAa,GAAb;QAAA,iBAYC;;QAVA,IAAI,IAAI,CAAC,uBAAuB,EAAC;YAChC,aAAa,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAC5C,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;SACpC;QACD,IAAI,CAAC,uBAAuB,GAAG,UAAU,CAAC;YACzC,IAAI,KAAI,CAAC,IAAI,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,IAAI,KAAI,CAAC,QAAQ,EAAC;gBAClD,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,IAAI,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;aAC3H;YACD,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;SACpC,EAAC,GAAG,CAAC,CAAC;KACP;IAED,8BAAM,GAAN,UAAO,SAAiB;QAAxB,iBAqBC;QApBA,IAAM,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;QAClF,IAAM,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC;QAC5D,IAAI,SAAS,KAAK,OAAO,EAAC;YACzB,IAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;YAClF,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,gBAAgB,EAAC,EAAE,GAAG,EAAE;gBAC3E,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,GAAG,eAAe,MAAM,WAAW,GAAC,CAAC,CAAC,EAAC;oBACjF,KAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;iBACjC;aACD,CAAC,CAAC;SACH;aAAI;YACJ,IAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,GAAG,eAAe,CAAC;YAClF,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,gBAAgB,EAAC,EAAE,GAAG,EAAE;gBAC3E,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,IAAI,CAAC,EAAC;oBAC/C,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;iBAChC;aACD,CAAC,CAAC;SAEH;KACD;IAvGS;QAAR,KAAK,EAAE;;+CAAa;IACZ;QAAR,KAAK,EAAE;;mDAA2B;IAC1B;QAAR,KAAK,EAAE;;qDAAoB;IACpB;QAAR,KAAK,EAAE;;uDAAsB;IACrB;QAAR,KAAK,EAAE;;wDAAuB;IACtB;QAAR,KAAK,EAAE;;wDAA+B;IAC9B;QAAR,KAAK,EAAE;;oDAA2B;IAC1B;QAAR,KAAK,EAAE;;gDAAe;IACd;QAAR,KAAK,EAAE;;wDAAqC;IAEO;QAAnD,eAAe,CAAC,WAAW,EAAE,EAAC,WAAW,EAAE,KAAK,EAAC,CAAC;kCAAmB,SAAS;oDAAmB;IAErF;QAAT,MAAM,EAAE;;sDAAuC;IACtC;QAAT,MAAM,EAAE;;sDAAuC;IACzC;QAAT,MAAM,EAAE;;uDAAwD;IAEvB;QAAzC,SAAS,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;kCAAW,UAAU;mDAAC;IAG/D;QADC,YAAY,CAAC,YAAY,CAAC;kCACT,SAAS;mDAAK;IAYhC;QADC,YAAY,CAAC,eAAe,EAAE,EAAE,CAAC;;;;uDAGjC;IAnCW,aAAa;QALzB,SAAS,CAAC;YACP,QAAQ,EAAE,OAAO;YACjB,quCAAoC;;SAEvC,CAAC;;OACW,aAAa,CA0GzB;IAAD,oBAAC;CA1GD;;;ICNA;KAA0B;IAAb,UAAU;QAftB,QAAQ,CAAC;YACN,OAAO,EAAE;gBACL,YAAY;aACf;YACD,YAAY,EAAE;gBACV,aAAa;gBACb,YAAY;aACf;YACD,OAAO,EAAE;gBACL,aAAa;gBACb,YAAY;aACf;YACD,SAAS,EAAE,EACV;SACJ,CAAC;OACW,UAAU,CAAG;IAAD,iBAAC;CAA1B;;AClBA;IACa,QAAQ,GAAG,IAAI,MAAM,CAAC,4GAA4G,EAAC,GAAG,EAAE;AAErJ;IACc,YAAY,GAAG,IAAI,MAAM,CAAC,wGAAwG,EAAC,GAAG,EAAE;IACzI,OAAO,GAAG,IAAI,MAAM,CAAC,2GAA2G,EAAC,GAAG,EAAE;AACnJ;;;;;;;;;;;;;;IAaA;KAkCC;;;;IA7BU,oBAAE,GAAT,UAAU,OAAwB;QAC9B,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC;QACzD,OAAO,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC;KAC5D;;;;IAKM,qBAAG,GAAV,UAAW,OAAwB;QAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC;QACzD,OAAO,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC;KAC9D;;;;IAKM,yBAAO,GAAd,UAAe,OAAwB;QACnC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC;QACzD,OAAO,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC;KAClE;;;;IAMM,4BAAU,GAAjB,UAAkB,GAAW;QACzB,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC7B;IAEL,wBAAC;AAAD,CAAC;;ICtCW;AAAZ,WAAY,mBAAmB;IAE3B,yFAAkB,CAAA;IAClB,qFAAgB,CAAA;IAChB,2FAAmB,CAAA;AACvB,CAAC,EALW,mBAAmB,KAAnB,mBAAmB,QAK9B;;IASA,4BAAY,MAAsB;QANvB,aAAQ,GAAwC,EAAE,CAAC;QACnD,kBAAa,GAAsC,IAAI,eAAe,CAAmB,EAAE,CAAC,CAAC;QAC7F,eAAU,GAAG,KAAK,CAAC;QACpB,kBAAa,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;QAI3D,IAAI,CAAC,OAAO,GAAG,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,IAAI,WAAW,EAAE,CAAC;KAC/E;IAEE,sBAAW,4CAAY;aAAvB;YACI,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;SACxC;;;OAAA;IAED,sBAAW,yCAAS;aAApB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;;;OAAA;IAEM,+CAAkB,GAAzB,UAA0B,cAA4B;QAClD,IAAM,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAE1D,IAAI,CAAC,cAAc,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE;YACxC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kEAAkE,CAAC,CAAC;SACzF;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+BAA6B,cAAc,CAAC,GAAG,2BAAwB,EAAE,cAAc,CAAC,CAAC;YAC3G,mBAAmB,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,cAAc,CAAC;YACzD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SAEhD;KACJ;IAEM,4CAAe,GAAtB,UAAuB,OAA4C;QAAnE,iBAmBC;QAjBG,IAAI,OAAO,EACX;YACI,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;gBAElB,IAAM,wBAAwB,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,gBAAgB,IAAI,OAAA,gBAAgB,KAAK,MAAM,IAAI,gBAAgB,CAAC,GAAG,KAAK,MAAM,CAAC,GAAG,GAAA,CAAC,CAAC;gBAE5I,IAAI,wBAAwB,EAC5B;oBACI,MAAM,IAAI,KAAK,CAAC,wBAAsB,MAAM,CAAC,GAAG,wEAAqE,CAAC,CAAC;iBAC1H;qBAAK;oBACF,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+BAA6B,MAAM,CAAC,GAAG,4CAAyC,CAAC,CAAC;oBACpG,MAAM,CAAC,QAAQ,CAAC,KAAI,CAAC,CAAC;oBACtB,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC9B;aACJ,CAAC,CAAA;SAEL;KACJ;IAEM,8CAAiB,GAAxB,UAAyB,MAAW;QAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,6DAA2D,MAAM,MAAG,CAAC,CAAC;QAExF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,QAAQ,GAAA,CAAC,CAAC,OAAO,CAAC,UAAA,MAAM;YAC1D,MAAM,CAAC,MAAM,EAAE,CAAC;SACnB,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,MAAM;YACxB,MAAM,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;SACrC,CAAC,CAAC;KACN;IAEM,6CAAgB,GAAvB,UAAwB,IAAW,EAAE,QAAgC;QAEjE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;QAC3D,IAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,SAAS,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uCAAoC,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,UAAU,aAAS,CAAC,CAAC;QACrG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,MAAM;YAExB,IAAI;gBACA,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAC/B,MAAM,CAAC,QAAQ,EAAE,CAAC;aACrB;YAAA,OAAM,CAAC,EACR;gBACI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAClB;SACJ,CAAC,CAAC;QAEH,OAAO,EAAE,MAAM,QAAA,EAAE,CAAC;KACrB;IAEO,iDAAoB,GAA5B,UAA6B,OAAc,EAAE,OAAiB,EAAE,YAAmB;QAAnF,iBAcC;QAbG,IAAM,MAAM,GAAY,EAAE,CAAC;QAC3B,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,QAAQ,GAAA,CAAC,CAAC;QAClG,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;YAClB,IAAI;gBACA,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+BAA6B,MAAM,CAAC,GAAG,kCAA+B,CAAC,CAAC;gBAC1F,MAAM,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;aAC5D;YAAC,OAAO,GAAG,EAAE;gBACV,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,+BAA6B,MAAM,CAAC,GAAG,gEAA6D,EAAE,GAAG,CAAC,CAAC;gBAC9H,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACpB;SACJ,CAAC,CAAC;QAEH,OAAO,EAAC,MAAM,QAAA,EAAC,CAAC;KACnB;IAEM,6CAAgB,GAAvB,UAAwB,OAAc,EAAE,OAAiB,EAAE,YAAmB;QAA9E,iBA0CC;QAxCG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;QAE3D,IAAM,oBAAoB,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,MAAM,GAAA,CAAC,CAAC;QAEhG,OAAO,UAAU,CAAC,EAAE,CAAC,oBAAoB;YACrC;gBACI,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,mBAAmB,CAAC,kBAAkB;aACjD,GAAG,EAAC,KAAK,EAAE,IAAI,EAAC,CAAE;aAClB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aAC3B,OAAO,CAAC,UAAA,QAAQ;YACb,IAAI,QAAQ,CAAC,KAAK,EAAE;gBAChB,OAAO,KAAI,CAAC,gBAAgB,EAAE;qBACzB,KAAK,CAAC,UAAC,KAAK,EAAE,MAAM,IAAK,OAAA,UAAU,CAAC,EAAE,CAAC,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,GAAA,CAAC;qBACzD,GAAG,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,OAAO,GAAG,EAAC,KAAK,EAAE,IAAI,EAAC,GAAG;oBAChD,KAAK,EAAE,KAAK;oBACZ,MAAM,EAAE,mBAAmB,CAAC,gBAAgB;iBAC/C,GAAA,CAAC,CAAC;aACV;iBAAM;gBACH,OAAO,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;aAClC;SACJ,CAAC;aACD,GAAG,CAAC,UAAA,QAAQ;YACT,IAAI,QAAQ,CAAC,KAAK,EAAE;gBAChB,IAAM,WAAW,GAAG,KAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;gBAE9E,IAAI,WAAW,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;oBACjC,OAAO,EAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAC,CAAC;iBACtC;qBACI;oBACD,OAAO;wBACH,KAAK,EAAE,KAAK;wBACZ,MAAM,EAAE,mBAAmB,CAAC,mBAAmB;wBAC/C,MAAM,EAAE,WAAW,CAAC,MAAM;qBAC7B,CAAC;iBACL;aACJ;iBAAM;gBACH,OAAO,QAAQ,CAAC;aACnB;SACJ,CAAC,CAAC;KACV;IAEO,6CAAgB,GAAxB;QAAA,iBAeC;QAdG,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,QAAQ,GAAA,CAAC,CAAC;QAClG,IAAM,cAAc,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;YACrC,OAAO,MAAM,CAAC,SAAS,EAAE;iBACpB,IAAI,CAAC,eAAe,CAAC,KAAI,CAAC,CAAC;iBAC3B,KAAK,CAAC,UAAC,GAAG,EAAE,MAAM,IAAK,OAAA,UAAU,CAAC,EAAE,CAAC,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,GAAA,CAAC,CAAC;SAChE,CAAC,CAAC;QAEH,IAAI,cAAc,CAAC,MAAM,EAAE;YACvB,OAAO,UAAU,CAAC,QAAQ,OAAnB,UAAU,WAAa,cAAc,GAAE,GAAG,CAAC,UAAA,SAAS;gBACvD,OAAO,SAAS,CAAC,IAAI,CAAC,UAAA,QAAQ,IAAI,OAAA,CAAC,QAAQ,CAAC,OAAO,GAAA,CAAC,IAAI,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC;aAC3E,CAAC,CAAC;SACN;aAAM;YACH,OAAO,UAAU,CAAC,EAAE,CAAC,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;SACzC;KACJ;IAED,wCAAW,GAAX;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,MAAM;YAExB,MAAM,CAAC,OAAO,EAAE,CAAC;SACpB,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oDAAoD,CAAC,CAAC;QACxE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;KACjC;IAIL,yBAAC;AAAD,CAAC;;AC1LD;;IAgBI,oBAAoB,IAAa,EAAE,MAAsB;QAArC,SAAI,GAAJ,IAAI,CAAS;;;QAPzB,0BAAqB,GAAkB,IAAI,CAAC;QAG5C,gBAAW,GAAyB,IAAI,aAAa,CAAQ,CAAC,CAAC,CAAC;QACjE,UAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QAavC,iBAAY,GAAiB,EAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAG,KAAK,EAAE,QAAQ,EAAG,KAAK,EAAG,YAAY,EAAG,KAAK,EAAC,CAAC;QASxJ,iBAAY,GAAkB,IAAI,OAAO,EAAO,CAAC;QAClD,iBAAY,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QAlBnD,IAAI,CAAC,IAAI,EACT;YACI,MAAM,IAAI,KAAK,CAAC,mEAAiE,OAAO,IAAM,CAAC,CAAC;SACnG;QAEJ,IAAI,CAAC,OAAO,GAAG,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,aAAW,IAAM,CAAC,GAAG,IAAI,WAAW,EAAE,CAAC;KAChF;IArBD,sBAAW,4BAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;SACrB;;;OAAA;IAyBS,iCAAY,GAAtB,UAAuB,OAAc,EAAE,OAAiB,EAAE,YAAoB;KAC7E;IAOD,sBAAW,oCAAY;aAAvB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;SACzC;;;OAAA;IAED,sBAAW,+BAAO;aAAlB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;SACpC;;;OAAA;IAED,sBAAW,+BAAO;aAAlB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;SACpC;;;OAAA;IAED,sBAAW,gCAAQ;aAAnB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;SACrC;;;OAAA;IAED,sBAAW,kCAAU;aAArB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;SACvC;;;OAAA;IAED,sBAAW,8BAAM;aAAjB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;SACnC;;;OAAA;IAED,sBAAW,2BAAG;aAAd;YAEI,OAAO,IAAI,CAAC,IAAI,CAAC;SACpB;;;OAAA;IAED,sBAAW,iCAAS;aAApB;YACI,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;SAC9B;;;OAAA;IAES,+BAAU,GAApB,UAAqB,YAAqB;QACtC,OAAO,UAAU,CAAC,EAAE,CAAC,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;KACzC;IAES,gCAAW,GAArB,UAAsB,WAAyE;QAC3F,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;KAClC;IAEO,iCAAY,GAApB,UAAqB,WAAsC;QAA3D,iBAcC;QAZG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAM,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,UAAC,MAAM,EAAE,YAAY,IAAK,OAAA,MAAM,IAAI,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,WAAW,CAAC,YAAY,CAAC,GAAA,EAAE,KAAK,CAAC,CAAC;QAElK,IAAI,eAAe,EAAE;YACjB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;YAE9C,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAM,cAAc,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC5D,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;aAChD;SACJ;KACJ;IAES,iCAAY,GAAtB,UAAuB,IAAW;KACjC;IAES,kCAAa,GAAvB,UAAwB,MAAW;KAClC;IAIS,+BAAU,GAApB,UAAqB,mBAA4B;KAChD;IAEM,6BAAQ,GAAf,UAAgB,OAAe;QAC3B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;KACvB;IAEM,uCAAkB,GAAzB,UAA0B,MAAc;QACpC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;KAC9B;IAEO,6BAAQ,GAAhB,UAAiB,IAAW;QACxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC/B;IAEM,sCAAiB,GAAxB,UAAyB,IAAW;QAChC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;KAC3B;IAEM,8BAAS,GAAhB;QAAA,iBAeC;QAbG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC;aACpC,EAAE,CACC,UAAA,QAAQ;YACJ,IAAM,WAAW,IAAI,QAAQ,CAAC,OAAO,KAAK,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YAErE,IAAI,WAAW,EAAE;gBACb,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,KAAI,CAAC,GAAG,6FAAuF,QAAQ,CAAC,OAAO,GAAG,OAAO,GAAG,SAAS,OAAG,CAAC,CAAC;gBAChL,KAAI,CAAC,WAAW,CAAC,EAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,EAAC,CAAC,CAAC;aACjD;SACJ,CACJ,CAAC;KACT;IAEM,sCAAiB,GAAxB,UAAyB,OAAc,EAAE,OAAiB,EAAE,YAAmB;QAE3E,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;KACrD;IAEM,2BAAM,GAAb;QACI,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,IAAI,CAAC,GAAG,oBAAiB,CAAC,CAAC;QAEjE,IAAI,IAAI,CAAC,qBAAqB,EAC9B;YACI,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC;YACzC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;SACrC;QAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAG,KAAK,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC;QACrF,IAAI,CAAC,OAAO,EAAE,CAAC;KAClB;IAEO,sCAAiB,GAAzB;QACI,IAAG,CAAC,IAAI,CAAC,IAAI,EACb;YACI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,sBAAoB,IAAI,CAAC,GAAG,iIAA8H,CAAC,CAAC;YAC/K,MAAM,IAAI,KAAK,CAAC,uDAAsD,IAAI,CAAC,GAAG,sCAAoC,CAAC,CAAC;SACvH;KACJ;IAEM,6BAAQ,GAAf;QAAA,iBAqCC;QAnCG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAEhD,IAAI,CAAC,MAAM,EAAE,CAAC;YAEd,IAAM,gBAAc,GAAG;gBACrB,YAAY,EAAG,IAAI,CAAC,YAAY;aACjC,CAAC;YAEF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,IAAI,CAAC,GAAG,2CAAsC,CAAC,gBAAc,CAAC,YAAY,MAAG,CAAC,CAAC;YACrH,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACtD,IAAI,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAG,IAAI,EAAE,YAAY,EAAG,IAAI,EAAC,CAAC,CAAC;YAE3D,IAAI,SAAS,YAAY,UAAU,EAAE;gBACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,IAAI,CAAC,GAAG,mFAAgF,CAAC,CAAC;gBAChI,IAAI,CAAC,qBAAqB,GAAG,SAAS;qBACjC,KAAK,CAAC,UAAC,KAAK,EAAE,MAAM,IAAK,OAAA,UAAU,CAAC,EAAE,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,KAAK,OAAA,EAAC,CAAC,GAAA,CAAC;qBAC9D,SAAS,CACN,UAAA,QAAQ;oBACJ,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;wBAC7B,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,KAAI,CAAC,GAAG,2DAAsD,IAAI,CAAC,SAAS,CAAC,gBAAc,CAAC,MAAG,CAAC,CAAC;wBACvI,KAAI,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAG,KAAK,EAAE,YAAY,EAAG,gBAAc,CAAC,YAAY,EAAC,CAAC,CAAC;qBACtF;yBAAK;wBACF,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,KAAI,CAAC,GAAG,yCAAsC,CAAC,CAAC;qBACzF;iBACJ,EACD;oBACI,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;iBACrC,EACD;oBACI,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;iBACrC,CAAC,CAAC;aACd;SACJ;KACJ;IAEM,+BAAU,GAAjB;QACI,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+BAA6B,IAAI,CAAC,GAAG,sIAAmI,CAAC,CAAC;SAC/L;aAAK;YACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,IAAI,CAAC,GAAG,wBAAqB,CAAC,CAAC;YACrE,IAAI,CAAC,YAAY,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;KACJ;IAEM,+BAAU,GAAjB;QAEI,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+BAA6B,IAAI,CAAC,GAAG,mIAAgI,CAAC,CAAC;SAC5L;aAAK;YACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAoB,IAAI,CAAC,GAAG,wBAAqB,CAAC,CAAC;YACrE,IAAI,CAAC,YAAY,CAAC,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;SAC1C;KACJ;IAED,4BAAO,GAAP;QACI,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;KAChC;IAEL,iBAAC;AAAD,CAAC;;;IChPA,6BAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QALjC,WAAM,GAAW,EAAE,CAAC;QACpB,kBAAa,GAAY,KAAK,CAAC;QAE9B,mBAAc,GAAG,IAAI,YAAY,EAAU,CAAC;KAIrD;IAEM,kCAAI,GAAX,UAAY,KAAc;QAEzB,IAAI,KAAK,EACT;YACC,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;SACvB;QACD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,KAAK,GAAG,EAAE,CAAC;QAC3D,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC;KACxD;IAEM,8CAAgB,GAAvB,UAAwB,KAAK;QAC5B,IAAI,KAAK,CAAC,aAAa,CAAC,KAAK,IAAI,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,EACjE;YACC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SACpD;KACD;IAED,sCAAQ,GAAR;KAEC;;gBAxB+B,UAAU;;IALjC;QAAR,KAAK,EAAE;;uDAAqB;IACpB;QAAR,KAAK,EAAE;;8DAAgC;IAE9B;QAAT,MAAM,EAAE;;+DAA6C;IAL1C,mBAAmB;QAL/B,SAAS,CAAC;YACV,QAAQ,EAAE,aAAa;YACvB,gKAA2C;;SAE3C,CAAC;yCAQ+B,UAAU;OAP9B,mBAAmB,CAgC/B;IAAD,0BAAC;CAhCD;;ACLA,IAAM,MAAM,GAAG,QAAQ,CAAC;;IAQpB;KAAe;IAEf,4BAAS,GAAT,UAAU,IAAY,EAAE,MAAe;QACnC,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,MAAM,EAAE;gBACT,MAAM,GAAG,aAAa,CAAC;aAC1B;YAED,QAAQ,MAAM;gBACV,KAAK,UAAU;oBACX,MAAM,GAAG,UAAU,CAAC;oBACpB,MAAM;gBACV,KAAK,UAAU;oBACX,MAAM,GAAG,OAAO,CAAC;oBACjB,MAAM;gBACV,KAAK,aAAa;oBACd,MAAM,GAAG,gBAAgB,CAAC;oBAC1B,MAAM;gBACV,KAAK,cAAc;oBACf,MAAM,GAAG,cAAc,CAAC;oBACxB,MAAM;gBACV;oBACI,MAAM;aACb;YAGD,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SACtC;aACD;YACI,OAAO,EAAE,CAAC;SACb;KACJ;IAjCQ,QAAQ;QAHpB,IAAI,CAAC;YACF,IAAI,EAAE,OAAO;SAChB,CAAC;;OACW,QAAQ,CAkCpB;IAAD,eAAC;CAlCD;;ACNA;;;;;;;;;;IAUA;QAEY,UAAK,GAAG;YACZ,OAAO;YACP,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI;SACP,CAAC;KAcL;IAZG,gCAAS,GAAT,UAAU,KAAiB,EAAE,SAAqB;QAAxC,sBAAA,EAAA,SAAiB;QAAE,0BAAA,EAAA,aAAqB;QAC9C,IAAK,KAAK,CAAE,UAAU,CAAE,MAAM,CAAC,KAAK,CAAC,CAAE,CAAC,IAAI,CAAE,QAAQ,CAAE,KAAK,CAAE;YAAG,OAAO,KAAK,CAAC;QAE/E,IAAI,IAAI,GAAG,CAAC,CAAC;QAEb,OAAQ,KAAK,IAAI,IAAI,EAAG;YACpB,KAAK,IAAI,IAAI,CAAC;YACd,IAAI,EAAG,CAAC;SACX;QAED,OAAO,KAAK,CAAC,OAAO,CAAE,CAAE,SAAS,CAAE,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAE,IAAI,CAAE,CAAC;KAClE;IAtBQ,YAAY;QADxB,IAAI,CAAC,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC;OACb,YAAY,CAuBxB;IAAD,mBAAC;CAvBD;;;ICJE,4BAAoB,EAAc,EAAU,QAAmB;QAA3C,OAAE,GAAF,EAAE,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAFvD,eAAU,GAAG,IAAI,CAAC;KAGzB;IAED,4CAAe,GAAf;QAAA,iBAMC;QALC,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,UAAU,CAAC;gBACT,KAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC;aAChE,CAAC,CAAC;SACJ;KACF;IAGD,sBAAI,8CAAc;aAAlB,UAAmB,OAAgB;YACjC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;SAC3B;;;OAAA;;gBAduB,UAAU;gBAAoB,SAAS;;IAY/D;QADC,KAAK,EAAE;;;4DAGP;IAjBU,kBAAkB;QAH9B,SAAS,CAAC;YACT,QAAQ,EAAE,cAAc;SACzB,CAAC;yCAIwB,UAAU,EAAoB,SAAS;OAHpD,kBAAkB,CAkB9B;IAAD,yBAAC;CAlBD;;ICLY;AAAZ,WAAY,YAAY;IAEvB,+CAAI,CAAA;IACJ,iDAAK,CAAA;AACN,CAAC,EAJW,YAAY,KAAZ,YAAY,QAIvB;;IACD;KASC;IARO,iCAAa,GAApB;QAEE,IAAI,CAAC,CAAC,MAAM,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAC;YAClE,OAAO,YAAY,CAAC,IAAI,CAAC;SACzB;aAAI;YACJ,OAAO,YAAY,CAAC,KAAK,CAAC;SAC1B;KACD;IACH,0BAAC;AAAD,CAAC;;;ICTA,kBAAoB,SAAuB;QAAvB,cAAS,GAAT,SAAS,CAAc;KAAI;IAC/C,4BAAS,GAAT,UAAU,GAAG;QACZ,OAAO,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;KAC1D;;gBAH8B,YAAY;;IAD/B,QAAQ;QADpB,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;yCAES,YAAY;OAD/B,QAAQ,CAKpB;IAAD,eAAC;CALD;;;ICDA;KAgBC;IAfC,4BAAS,GAAT,UAAU,KAAa;QACxB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAC;YAC7B,OAAO,KAAe,CAAC;SACvB;aAAI;YACJ,IAAI,KAAK,GAAW,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,CAAE,KAAK,CAAE,GAAG,IAAI,CAAE,CAAC;YAC7D,IAAI,OAAO,GAAW,IAAI,CAAC,KAAK,CAAE,CAAE,IAAI,CAAC,KAAK,CAAE,KAAK,CAAE,GAAG,EAAE,IAAK,EAAE,CAAE,CAAC;YACtE,IAAI,OAAO,GAAW,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;YAE7C,IAAI,QAAQ,GAAW,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC;YACjE,IAAI,UAAU,GAAW,OAAO,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,OAAO,GAAG,EAAE,GAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,EAAE,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;YAC7H,IAAI,UAAU,GAAW,OAAO,GAAG,EAAE,GAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,EAAE,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;YAEvF,OAAO,QAAQ,GAAG,UAAU,GAAG,GAAG,GAAG,UAAU,CAAC;SAChD;KACC;IAfU,QAAQ;QADpB,IAAI,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;OACT,QAAQ,CAgBpB;IAAD,eAAC;CAhBD;;;ICII;KAAe;IAEf,iCAAS,GAAT,UAAU,GAAW;QACjB,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;YACjF,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACtC;QACD,OAAO,GAAG,CAAC;KACd;IATQ,aAAa;QAHzB,IAAI,CAAC;YACF,IAAI,EAAE,YAAY;SACrB,CAAC;;OACW,aAAa,CAUzB;IAAD,oBAAC;CAVD;;;ICGE,uCAAoB,GAAe;QAAf,QAAG,GAAH,GAAG,CAAY;KAClC;IAEM,mDAAW,GAAlB;QACE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC;KACtC;;gBALwB,UAAU;;IADxB,6BAA6B;QALzC,SAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;YACjC,QAAQ,EAAE,2BAA2B;qBAC5B,0BAA0B;SACpC,CAAC;yCAEyB,UAAU;OADxB,6BAA6B,CAOzC;IAAD,oCAAC;CAPD;;;ICkCA;KAA+B;IAAlB,eAAe;QA7B3B,QAAQ,CAAC;YACN,OAAO,EAAE;gBACL,YAAY;aACf;YACD,YAAY,EAAE;gBACV,QAAQ;gBACR,QAAQ;gBACT,mBAAmB;gBAClB,sBAAsB;gBACtB,QAAQ;gBACR,YAAY;gBACZ,aAAa;gBACb,kBAAkB;gBAClB,6BAA6B;aAChC;YACD,OAAO,EAAE;gBACL,QAAQ;gBACR,QAAQ;gBACT,mBAAmB;gBAClB,sBAAsB;gBACtB,QAAQ;gBACR,YAAY;gBACZ,aAAa;gBACb,kBAAkB;gBAClB,6BAA6B;aAChC;YACD,SAAS,EAAE,EACV;SACJ,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAA/B;;;ICfE;QALO,gBAAW,GAAG,EAAE,CAAC;QAExB,aAAQ,GAAG,UAAC,KAAsB,KAAO,CAAC;QAC1C,cAAS,GAAG,eAAQ,CAAC;KAGpB;4BAZU,mBAAmB;IAc9B,sCAAQ,GAAR;QACE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,UAAU,GAAA,CAAC,CAAC;QAC/E,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC;QACzF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC;KAElE;IAED,iDAAmB,GAAnB;QAEE,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,mBAAmB,IAAI,CAAC,GAAG,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,CAAC;KAEzG;IAED,2CAAa,GAAb,UAAc,KAAK;QACjB,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,EAAE;YAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,UAAU,GAAG,KAAK,CAAC;SAC3D;QAED,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC;QAEtC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QAEjC,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;KAE1C;;IAGD,wCAAU,GAAV,UAAW,KAAsB;QAC/B,IAAM,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,KAAK,IAAI,KAAK,GAAA,CAAC,CAAC;QACjF,IAAI,gBAAgB,KAAK,CAAC,CAAC,EAAE;YAC3B,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;SACtC;KAEF;;IAGD,8CAAgB,GAAhB,UAAiB,EAAoC;QACnD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;KACpB;;IAGD,+CAAiB,GAAjB,UAAkB,EAAO;QACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACrB;;IA1DQ;QAAR,KAAK,EAAE;kCAAU,KAAK;wDAAgF;IAC9F;QAAR,KAAK,EAAE;;sDAAe;IAFZ,mBAAmB;QAb/B,SAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,oiCAA2C;YAE3C,SAAS,EAAE;gBACT;oBACE,OAAO,EAAE,iBAAiB;oBAC1B,WAAW,EAAE,qBAAmB;oBAChC,KAAK,EAAE,IAAI;iBACZ;aACF;;SACF,CAAC;;OAEW,mBAAmB,CA4D/B;IAAD,0BAAC;CA5DD;;;ICIA;KAAgC;IAAnB,gBAAgB;QAd5B,QAAQ,CAAC;YACR,OAAO,EAAE;gBACP,YAAY;gBACZ,aAAa;aACd;YACD,YAAY,EAAE;gBACZ,mBAAmB;aACpB;YACD,OAAO,EAAE;gBACP,mBAAmB;aACpB;YACD,SAAS,EAAE,EACV;SACF,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAhC;;ACnBA;;;;ACAA;;;;;;"}